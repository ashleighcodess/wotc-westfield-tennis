;/*FB_PKG_DELIM*/

__d("ArmadilloDataTraceCheckPoint",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("I64"))).of_string("63"),u=e.of_string("65"),c=e.of_string("98"),d=e.of_string("504"),m=e.of_string("1000"),p=e.of_string("1001"),_=e.of_string("1204"),f=e.of_string("1210"),g=e.of_string("1224"),h=e.of_string("1234"),y=e.of_string("1225"),C=e.of_string("2220");l.traceGroupMessage=s,l.armadilloActMessageSend=u,l.traceCreated=c,l.richMediaMediaSendAttachmentType=d,l.traceTextMessage=m,l.traceMediaMessage=p,l.advancedCryptoMEMSendTaskComplete=_,l.deliveryReceiptReceived=f,l.advancedCryptoMEMEncryptionDeviceCount=g,l.advancedCryptoGroupDualSend=h,l.advancedCryptoDualSend=y,l.armadilloTlcControlOpenThread=C}),98);
__d("LSMessageRenderingType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});i.default=e}),66);
__d("LSMessageUnsendabilityStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({CAN_UNSEND:0,DENY_LOG_MESSAGE:1,DENY_TOMBSTONE_MESSAGE:2,DENY_FOR_NON_SENDER:3,DENY_P2P_PAYMENT:4,DENY_STORY_REACTION:5,DENY_BLOB_ATTACHMENT:6,DENY_MESSAGE_NOT_FOUND:7,DENY_MESSAGE_INSTAGRAM_DIRECT_WRITE_RESTRICTION:8});i.default=e}),66);
__d("LSQuickReplyType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});i.default=e}),66);
__d("LSReplyMessageStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});i.default=e}),66);
__d("LSTransportKey",[],(function(t,n,r,o,a,i){var e=Object.freeze({ADVANCED_CRYPTO:"AdvancedCrypto",CARRIER_MESSAGING:"CarrierMessaging",FB_BROKER:"FBBroker",FB_LEGACY_BROKER:"FBLegacyBroker",TAM:"TAM",WHATS_APP:"WhatsApp",INSTAMADILLO:"Instamadillo",ENCRYPTED_BACKUPS:"EncryptedBackups",CLIENT_CONTACTS_PLACEHOLDER:"",ENCRYPTED_BACKUPS_MEDIA:"EncryptedBackupsMedia"});i.default=e}),66);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||e===o("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}l.isEphemeralSettingSetAdminMsg=e}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWAdminMsgTypesGrouped","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWMsgType","MAWTimeUtils","ReQL"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=new Set([(u=o("MAWLocalizationType")).LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL,u.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE,u.LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL,u.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE,u.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS,u.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES,u.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE,u.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES,u.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE,u.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES,u.LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE,u.LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE,u.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE,u.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE,u.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES,u.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES,u.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION,u.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION]),d=new Set([u.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,u.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME,u.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,u.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME]),m=s._(/*BTDS*/"Change").toString(),p=s._(/*BTDS*/"See All").toString(),_=s._(/*BTDS*/"Learn more").toString(),f=s._(/*BTDS*/"Learn more").toString(),g=s._(/*BTDS*/"actions you can take.").toString(),h=s._(/*BTDS*/"Go to other chat").toString(),y=s._(/*BTDS*/"View archived chat").toString(),C=s._(/*BTDS*/"View poll").toString(),b=s._(/*BTDS*/"Change").toString();async function v(t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.admin_message_ctas.index("ctaId")));return n!=null?(e||(e=o("I64"))).add(n.ctaId,(e||(e=o("I64"))).one):(e||(e=o("I64"))).zero}function S(e,t,n){var r=[t,n];return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.admin_message_ctas).bounds({gte:r,lte:r}))}function R(e,t,n){if(e==null)return{showAdChoiceIcon:!1};if(o("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(e))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};if(c.has(e))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:t,targetTitle:n,title:C};if(d.has(e))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:b};switch(e){case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:_};case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:h};case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:y};case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:p};case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return{actionUrl:"https://www.messenger.com/help/1145318292241859/?helpref=uk_lm",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:g};case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return{actionUrl:"https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:f};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function L(e){if(e!=null){if(o("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(e))return"admin_msg_armadillo_ephemeral_change_duration";if(c.has(e))return"admin_msg_poll_details";if(d.has(e))return"admin_msg_change_theme";switch(e){case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return"admin_msg_e2ee_uk_osa";case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:return"admin_msg_dual_thread_cutover";case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2";case o("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return"admin_msg_icdc";case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return"admin_msg_change_thread_limit_sharing_permission"}}}async function E(e,t,n,r,a){await e.admin_message_ctas.add({actionContentBlob:a.actionContentBlob,actionUrl:a.actionUrl,adClientToken:a.adClientToken,adHelpUrl:a.adHelpUrl,adminMessageNicknameParticipantId:a.adminMessageNicknameParticipantId,adPreferenceUrl:a.adPreferenceUrl,ctaId:t,messageId:r.msgId,showAdChoiceIcon:a.showAdChoiceIcon,targetId:a.targetId,targetTitle:a.targetTitle,threadKey:n,timestampMs:o("MAWTimeUtils").toTimestamp(r.ts),title:a.title})}async function k(e,t,n){var r=await Promise.all([S(e,t,n.msgId),v(e)]),o=r[0],a=r[1];if(o!=null)return{ctaId:o.ctaId,ctaType:L(n.adminType),title:o.title};var i=T(n.adminType,n),l=D(n.adminType,n),s=R(n.adminType,i,l);return await E(e,a,t,n,s),{ctaId:a,ctaType:L(n.adminType),title:s.title}}function I(e,t,n){var r=n.adminType;return r!=null&&(o("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(r)||r===o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION||r===o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE||r===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED||r===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED||r===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED||r===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED||r!=null&&c.has(r)||r!=null&&d.has(r)||o("MAWAdminMsgTypesGrouped").dualThreadCutoverAdminMsgs.includes(r))?k(e,t,n):Promise.resolve()}function T(t,n){if(t!=null){if(n.type_===o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE)return(e||(e=o("I64"))).of_string(n.externalId);if(c.has(t)&&n.pollStanzaId!=null)return(e||(e=o("I64"))).of_string(n.pollStanzaId)}}function D(e,t){if(e!=null&&c.has(e))return t.adminContent==null||t.adminContent.length===0?void 0:t.adminContent[t.adminContent.length-1]}l.getAdminMsgCTAContentByAdminType=R,l.getCtaTypeByAdminType=L,l.getAdminMsgCtaStep=I}),226);
__d("MAWBridgeBuildAdminMsg",["MAWAdminMsg","MAWAdminMsgNormalized","MAWSubscribeToContactNames","MAWThreadCustomizationUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e==null?void 0:e.replace(/\$/g,"$$$$")}function s(t,n,r){r===void 0&&(r=0);var a=o("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(n,t),i=a.contactIds,l=a.contents,s=o("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(n),u=o("MAWThreadCustomizationUtils").skipNicknameCheck(n);if(r===1){var c=o("MAWSubscribeToContactNames").getContactNameModeFromLocalizationType(n);return o("MAWAdminMsg").buildLocalizedString(l.map(e),i.map(function(e,t){return s&&t>0||u?c===o("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+e+")":"$CONTACT_FULL_NAME("+e+")":c===o("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+e+")":"$PARTICIPANT_FULL_NAME("+e+")"}),n)}return o("MAWAdminMsg").buildLocalizedString(l,i,n)}l.buildAdminMsgText=s}),98);
__d("MAWBridgeMsgUtils",["LSTransportKey"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=Object.keys(r("LSTransportKey")).find(function(t){return r("LSTransportKey")[t]===e});return t?r("LSTransportKey")[t]:"WhatsApp"}l.convertStringToLSTransportKeyType=e}),98);
__d("MAWReplyBuilder_Forward",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){},buildReplySnippet:function(t,n,r){},buildReplySourceId:function(t){},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){},buildReplyType:function(t){},buildReplyUserId:function(t){}};l.MAWReplyBuilder_Forward=s}),98);
__d("MAWReplyBuilder_HighlightsTabPostReply",["fbt","EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){return""},buildReplySnippet:function(t,n,r){var e=n===r,o="$PARTICIPANT_FIRST_NAME("+n+")";return e?s._(/*BTDS*/"You replied to their post").toString():s._(/*BTDS*/"{name} replied to your post",[s._param("name",o)]).toString()},buildReplySourceId:function(t){return t.replyToMsgId},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){return t.timestampMs!=null?(u||(u=o("I64"))).of_float(t.timestampMs):void 0},buildReplyType:function(n){return(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(t){return t.replyToUserId!=null?(u||(u=o("I64"))).of_string(t.replyToUserId):void 0}};l.MAWReplyBuilder_HighlightsTabPostReply=c}),226);
__d("MAWReplyBuilder_LightweightStatus",["fbt","EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(n){return n.replyMediaExpirationTimestampMs!=null?(e||(e=o("I64"))).of_float(n.replyMediaExpirationTimestampMs):void 0},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){return t.noteContent},buildReplySnippet:function(t,n,r){var e=n===r,o="$PARTICIPANT_FIRST_NAME("+n+")";return e?s._(/*BTDS*/"You replied to their note").toString():s._(/*BTDS*/"{name} replied to your note",[s._param("name",o)]).toString()},buildReplySourceId:function(t){return t.replyToMsgId},buildReplySourceType:function(){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS)},buildReplySourceTypeV2:function(){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){},buildReplyType:function(t){return(u||(u=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(n){return n.replyToUserId!=null?(e||(e=o("I64"))).of_string(n.replyToUserId):void 0}};l.MAWReplyBuilder_LightweightStatus=c}),226);
__d("MAWBumpMessageMsgReplySnippet",["getMAWLocalizedBumpMsgReplySnippet"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.isAuthorMe,n=e.recipientName,o=e.replySenderIsMe,a=e.replySenderIsRecipient,i=e.senderName,l="participantBumpedParticipantMessage";return t&&o?l="currentUserBumpedOwnMessage":t?l="currentUserBumpedMessage":o?l="participantBumpedCurrentUserMessage":a&&(l="participantBumpedOwnMessage"),r("getMAWLocalizedBumpMsgReplySnippet")(l,i,n)}l.buildBumpMessageReplySnippet=e}),98);
__d("MAWReplyBuilder_Message",["fbt","EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWImageUtils","MAWMpsGating","MessagingAttachmentType","getErrorSafe"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){return d(t)},buildReplyAttachmentPlaintextHash:function(t){return p(t)},buildReplyAttachmentType:function(t){return y(t)},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){return _(t)},buildReplyMediaPreviewWidth:function(t){return f(t)},buildReplyMessageText:function(t){var e;return(e=t.replyToLSMessage)==null?void 0:e.text},buildReplySnippet:function(t,n,r){return C(t,n,r)},buildReplySourceId:function(t){return t.replyToMsgId},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)},buildReplyStatus:function(t){return b(t)},buildReplyTimestampMs:function(t){var e;return(e=t.replyToLSMessage)==null?void 0:e.timestampMs},buildReplyType:function(n){return n.isBumpMsg?(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP):(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(t){var e;return(e=t.replyToLSMessage)==null?void 0:e.senderId}};function d(t){var n=t.replyToLSAttachment;if(n!=null&&(n.attachmentType===(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)||n.attachmentType===(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)&&n.receiverFetchId!=null)){var a=n.attachmentFbid;try{return(u||(u=o("I64"))).of_string(a)}catch(e){var i=r("getErrorSafe")(e);r("FBLogger")("messenger_e2ee_web").mustfix("[MAWMsgReply] getReplyAttachmentIdFromReplyContent: Error converting attachmentFbid, %s, to a big int for msg, %s. Attachment of type, %s, is likely using plaintexthash as id, please review types requiring attachment id: %s",a,n.messageId,(u||(u=o("I64"))).to_string(n.attachmentType),i.message)}}}var m=new Set([(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER),e.ofNumber(r("MessagingAttachmentType").IMAGE),e.ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE),e.ofNumber(r("MessagingAttachmentType").VIDEO),e.ofNumber(r("MessagingAttachmentType").AUDIO),e.ofNumber(r("MessagingAttachmentType").FILE)]);function p(e){var t=e.replyToLSAttachment;if(t!=null&&m.has(t.attachmentType))return t.attachmentFbid}function _(t){var n=t.replyToLSAttachment;if(n!=null)return n.attachmentType===(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)?g(t).replyHeight:n.previewHeight}function f(t){var n=t.replyToLSAttachment;if(n!=null)return n.attachmentType===(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)?g(t).replyWidth:n.previewWidth}function g(e){var t,n=(t=e.replyToLSAttachment)!=null?t:{},r=n.previewHeight,a=n.previewWidth;if(r==null||a==null)return{replyHeight:void 0,replyWidth:void 0};var i=o("MAWImageUtils").boundHeightWidth((u||(u=o("I64"))).to_int32(r),u.to_int32(a),96*.8),l=i.height,s=i.width;return{replyHeight:u.of_int32(l),replyWidth:u.of_int32(s)}}function h(e){var t,n=(t=e.replyToLSMessage)==null?void 0:t.text;return n!=null&&n!==""}function y(t){var n=t.replyToLSAttachment;if(n!=null)switch(n.attachmentType){case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA):return h(t)?void 0:(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}function C(e,t,n){var r=e.replyToLSMessage;if(!(r==null&&!o("MAWMpsGating").isMpsMessageRendering())){var a=t===n,i="$PARTICIPANT_FIRST_NAME("+t+")";if(r==null||r.isUnsent===!0)return a?s._(/*BTDS*/"You replied to a removed message").toString():s._(/*BTDS*/"{name} replied to a removed message",[s._param("name",i)]).toString();var l=r.senderId,c=(u||(u=o("I64"))).to_string(l)===n,d=t===u.to_string(l),m="$PARTICIPANT_FIRST_NAME("+u.to_string(l)+")";if(e.isBumpMsg){var p=o("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:a,recipientName:m,replySenderIsMe:c,replySenderIsRecipient:d,senderName:i});return p==null?void 0:p.toString()}return a&&c?s._(/*BTDS*/"You replied to yourself").toString():d?s._(/*BTDS*/"{other} replied to themself",[s._param("other",i)]).toString():a?s._(/*BTDS*/"You replied to {other_name}",[s._param("other_name",m)]).toString():c?s._(/*BTDS*/"{other_name} replied to you",[s._param("other_name",i)]).toString():s._(/*BTDS*/"{other} replied to {other_name}",[s._param("other",i),s._param("other_name",m)]).toString()}}function b(t){var n=t.replyToLSMessage;if(n==null)return o("MAWMpsGating").isMpsMessageRendering()?(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED):void 0;var a=t.replyToLSAttachment;if(n.isUnsent===!0)return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED);if(n.isExpired===!0)return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").EXPIRED);if(n.isAdminMessage===!0)return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID);switch(n.displayedContentTypes){case(e||(e=o("LSIntEnum"))).ofNumber(256):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED);case(e||(e=o("LSIntEnum"))).ofNumber(1):case(e||(e=o("LSIntEnum"))).ofNumber(4):case(e||(e=o("LSIntEnum"))).ofNumber(32):case(e||(e=o("LSIntEnum"))).ofNumber(64):case(e||(e=o("LSIntEnum"))).ofNumber(1024):case(e||(e=o("LSIntEnum"))).ofNumber(536870912):case(e||(e=o("LSIntEnum"))).ofNumber(4096):case(e||(e=o("LSIntEnum"))).ofNumber(16384):case(e||(e=o("LSIntEnum"))).ofNumber(134217728):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID);case(e||(e=o("LSIntEnum"))).ofNumber(2):{if(a!=null)switch(a.attachmentType){case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID)}return}case(e||(e=o("LSIntEnum"))).ofNumber(65536):case(e||(e=o("LSIntEnum"))).ofNumber(131072):case(e||(e=o("LSIntEnum"))).ofNumber(262144):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE);case(e||(e=o("LSIntEnum"))).ofNumber(32768):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").UNKNOWN);default:return}}l.MAWReplyBuilder_Message=c}),226);
__d("MAWReplyBuilder_PostMention",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","MAWPostMentionXMASnippetFbt"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){return""},buildReplySnippet:function(t,n,a){var e=t.mentionedUserId;if(e==null){r("FBLogger")("messenger_e2ee_web").mustfix("Error building reply snippet without recipient ID");return}var i="$PARTICIPANT_FIRST_NAME("+e+")",l=n===a,s=l?o("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(i):o("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(i);return s.toString()},buildReplySourceId:function(t){},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_POST_MENTION)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){return t.timestampMs!=null?(s||(s=o("I64"))).of_float(t.timestampMs):void 0},buildReplyType:function(n){return(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(t){return t.mentionedUserId!=null?(s||(s=o("I64"))).of_string(t.mentionedUserId):void 0}};l.MAWReplyBuilder_PostMention=u}),98);
__d("MAWReplyBuilder_ProducerStoryReply",["fbt","EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWMsgType"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(n){return n.storyMediaId!=null?(e||(e=o("I64"))).of_float(n.storyMediaId):void 0},buildReplyAttachmentPlaintextHash:function(t){var e;return(e=t.storyMediaPlaintextHash)!=null?e:void 0},buildReplyAttachmentType:function(t){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO)},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){},buildReplySnippet:function(t,n,r){var e=n===r,o="$PARTICIPANT_FIRST_NAME("+n+")";return e?s._(/*BTDS*/"You replied to your story").toString():s._(/*BTDS*/"{name} replied to their story",[s._param("name",o)]).toString()},buildReplySourceId:function(t){return t.storyUrl},buildReplySourceType:function(){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)},buildReplySourceTypeV2:function(){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY)},buildReplyStatus:function(t){return t.storyMsgType===o("MAWMsgType").MSG_TYPE.IMAGE?(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID):void 0},buildReplyTimestampMs:function(n){return n.timestampMs!=null?(e||(e=o("I64"))).of_float(n.timestampMs):void 0},buildReplyType:function(t){return(u||(u=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(n){return(e||(e=o("I64"))).of_string(n.storyOwnerId)}};l.MAWReplyBuilder_ProducerStoryReply=c}),226);
__d("MAWReplyBuilder_Story",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){var e;return(e=t.storyMediaPlaintextHash)!=null?e:void 0},buildReplyAttachmentType:function(n){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO)},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){},buildReplySnippet:function(t,n,r){var e=t.storyOwnerId===r,o=n===r,a="$PARTICIPANT_FIRST_NAME("+n+")",i="$PARTICIPANT_FIRST_NAME("+t.storyOwnerId+")";return e?o?s._(/*BTDS*/"You replied to your story").toString():s._(/*BTDS*/"{name} replied to your story",[s._param("name",a)]).toString():o?s._(/*BTDS*/"You replied to {name}'s story",[s._param("name",i)]).toString():void 0},buildReplySourceId:function(t){return t.storyUrl},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){return t.timestampMs!=null?(u||(u=o("I64"))).of_float(t.timestampMs):void 0},buildReplyType:function(t){},buildReplyUserId:function(t){return(u||(u=o("I64"))).of_string(t.storyOwnerId)}};l.MAWReplyBuilder_StoryReply=c}),226);
__d("MAWReplyBuilder_StoryMention",["fbt","EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){},buildReplySnippet:function(t,n,o){var e=t.mentionedUserId;if(e==null){r("FBLogger")("messenger_e2ee_web").mustfix("Error building reply snippet without recipient ID");return}var a="$PARTICIPANT_FIRST_NAME("+e+")",i=n===o;return i?s._(/*BTDS*/"You mentioned {name} in your story",[s._param("name",a)]).toString():s._(/*BTDS*/"Mentioned you in their story").toString()},buildReplySourceId:function(t){},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_MENTION)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){return t.timestampMs!=null?(u||(u=o("I64"))).of_float(t.timestampMs):void 0},buildReplyType:function(n){return(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(t){return t.mentionedUserId!=null?(u||(u=o("I64"))).of_string(t.mentionedUserId):void 0}};l.MAWReplyBuilder_StoryMention=c}),226);
__d("MAWReplyBuilder",["MAWReplyBuilder_Forward","MAWReplyBuilder_HighlightsTabPostReply","MAWReplyBuilder_LightweightStatus","MAWReplyBuilder_Message","MAWReplyBuilder_PostMention","MAWReplyBuilder_ProducerStoryReply","MAWReplyBuilder_Story","MAWReplyBuilder_StoryMention"],(function(t,n,r,o,a,i,l){"use strict";var e={FB_POST_MENTION:o("MAWReplyBuilder_PostMention").MAWReplyBuilder_PostMention,FB_PRODUCER_STORY_REPLY:o("MAWReplyBuilder_ProducerStoryReply").MAWReplyBuilder_ProducerStoryReply,FB_STORY_MENTION:o("MAWReplyBuilder_StoryMention").MAWReplyBuilder_StoryMention,FORWARD:o("MAWReplyBuilder_Forward").MAWReplyBuilder_Forward,HIGHLIGHTS_TAB_POST_REPLY:o("MAWReplyBuilder_HighlightsTabPostReply").MAWReplyBuilder_HighlightsTabPostReply,LIGHTWEIGHT_STATUS:o("MAWReplyBuilder_LightweightStatus").MAWReplyBuilder_LightweightStatus,MESSAGE:o("MAWReplyBuilder_Message").MAWReplyBuilder_Message,STORY:o("MAWReplyBuilder_Story").MAWReplyBuilder_StoryReply};function s(t){return e[t]}function u(e){var t=s(e.replyType);return t.buildReplyUserId(e)}l.getReplyBuilder=s,l.getReplyUserIdNew=u}),98);
__d("MAWMsgReply",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWMsg","MAWMsgType","MAWReplyBuilder","MsgrWebGating","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return e.replySourceId!=null}function c(e,t,n,a,i){o("MsgrWebGating").isQuotedMessagesInLsEnabled()&&n!=null&&n!==(t!=null?t:"")&&r("FBLogger")("messenger_e2ee_web").warn("[MAWMsgReply][%s][%s] LS derived reply field generated does not match the legacy derived version for msg, %s. Expected: %s, Actual: %s",i,e,a,t,n)}function d(t){var n=m(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyUserId(r);return c("getReplyUserId",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function m(t){var n=t.replyToUserId;return n==null?void 0:(e||(e=o("I64"))).of_string(n)}function p(t){var n=_(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplySourceTypeV2();return c("getReplySourceTypeV2",n!=null?(e||(e=o("I64"))).to_string(n):void 0,(e||(e=o("I64"))).to_string(a),t.msgId,t.type_),a}}function _(e){var t=e.isFBPostMention,n=e.isFBStoryMention,a=e.isForwarded,i=e.isMsgHighlightsTabFriendUpdatesReply,l=e.isNoteReply,c=e.isStoryProducerReply,d=e.isStoryReply,m=e.isStoryShare,p=e.replyMediaExpirationTimestampMs,_=u(e);if(t===!0)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_POST_MENTION);if(a)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD);if(m!=null&&m)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(n!=null&&n)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_MENTION);if(i!=null&&i)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(p!=null&&p<o("WATimeUtils").unixTime()&&l!==!0)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY);if(_)return d!=null&&d?c!=null&&c?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY):(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY):l===!0?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS):(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)}function f(t){var n=g(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplySourceType();return c("getReplySourceType",n!=null?(e||(e=o("I64"))).to_string(n):void 0,(e||(e=o("I64"))).to_string(a),t.msgId,t.type_),a}}function g(e){var t=u(e),n=e.isMsgHighlightsTabFriendUpdatesReply,a=e.isNoteReply,i=e.isStoryReply,l=e.isStoryShare;if(l!=null&&l)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(n!=null&&n)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(t)return i!=null&&i?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY):a===!0?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS):(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)}function h(e){var t=y(e);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return t;var n=e.replyContent;if(n!=null){var r=o("MAWReplyBuilder").getReplyBuilder(n.replyType).buildReplySourceId(n);return n.replyType!=="FB_STORY_MENTION"&&n.replyType!=="FB_POST_MENTION"&&c("getReplySourceId",t,r,e.msgId,e.type_),r}}function y(e){if(e.replySourceId!=null)return e.replySourceId}function C(t){var n=b(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyTimestampMs(r);return c("getReplyTimestampMs",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function b(t){if(t.replySourceTimestampMs!=null)return(e||(e=o("I64"))).of_float(t.replySourceTimestampMs)}function v(e){var t=S(e);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return t;var n=e.replyContent;if(n!=null){var r=o("MAWReplyBuilder").getReplyBuilder(n.replyType).buildReplyMessageText(n);return c("getReplyMessageText",t,r,e.msgId,e.type_),r}}function S(e){if(e.replySourceId!=null)return e.replyMessageText}function R(e){if(e.replySourceId!=null)return e.replyMentionedJids}function L(t){var n=E(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyType(r);return c("getReplyType",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function E(e){return e.type_===o("MAWMsg").bumpExistingMessage?(s||(s=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP):u(e)?(s||(s=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR):void 0}function k(e){return e.replySourceId==null?!1:I(e.replyStatusType)}function I(e){switch(e){case o("MAWMsgType").MSG_TYPE.IMAGE:case o("MAWMsgType").MSG_TYPE.VIDEO:case o("MAWMsgType").MSG_TYPE.GIF:case o("MAWMsgType").MSG_TYPE.STICKER:case o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case o("MAWMsgType").MSG_TYPE.PTT:case o("MAWMsgType").MSG_TYPE.RAVEN:case o("MAWMsgType").MSG_TYPE.XMA:case o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;default:return!1}}function T(e){return e.replyStatusType==="XMA"&&e.replyMessageText!=null}function D(t){var n=x(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyMediaPreviewHeight(r);return c("getReplyMediaPreviewHeight",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function x(t){if(k(t))return t.replyMediaPreviewHeight!=null?(e||(e=o("I64"))).of_int32(t.replyMediaPreviewHeight):void 0}function $(t){var n=P(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyMediaPreviewWidth(r);return c("getReplyMediaPreviewWidth",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function P(t){if(k(t))return t.replyMediaPreviewWidth!=null?(e||(e=o("I64"))).of_int32(t.replyMediaPreviewWidth):void 0}function N(t){var n=M(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyAttachmentType(r);return c("getReplyAttachmentType",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function M(e){var t=e.replyStatusType;if(t!=null){var n=t==="Raven",a=k(e)||n;if(a)switch(t){case"Gif":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF);case"Ptt":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER);case"Sticker":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER);case"Video":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO);case"Image":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO);case"XMA":return e.isIGXMAPostShare===!0||e.isIGXMAStoryShare===!0||e.isStoryHighlightShare===!0||e.isPostPrivateReply===!0||e.isMsgHighlightsTabFriendUpdatesReply===!0?(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").FEED_POST):T(e)?void 0:(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA);case"DocumentFile":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER);case"ReceiverFetch":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER);case"Raven":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}}function w(t){var n=A(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyAttachmentId(r);return c("getReplyAttachmentId",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function A(t){var n=t.replyMediaId,r=t.replyXMAId;if(k(t)&&n!=null)return r!=null?void 0:(e||(e=o("I64"))).of_float(n);if(!(n!=null||r==null)&&!(r!=null&&T(t)))return(e||(e=o("I64"))).of_int32(r)}function F(e){var t=O(e);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return t;var n=e.replyContent;if(n!=null){var r=o("MAWReplyBuilder").getReplyBuilder(n.replyType).buildReplyAttachmentPlaintextHash(n);return c("getReplyAttachmentPlaintextHash",t,r,e.msgId,e.type_),r}}function O(e){var t=e.replyPlaintextHash;if(k(e)&&t!=null)return""+t}function B(t){var n=W(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyMediaExpirationTimestampMs(r);return c("getReplyMediaExpirationTimestampMs",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function W(t){var n=t.isNoteReply,r=t.isStoryReply,a=t.replyMediaExpirationTimestampMs,i=t.replyMessageText,l=t.replyStatusType;if(n===!0)return a!=null?(e||(e=o("I64"))).of_float(a):void 0;var s=N(t),u=w(t);if(l!=null&&l==="XMA"&&s==null){if(u!=null)return;if(i==null)return(e||(e=o("I64"))).zero}if(!(u!=null||!(r!=null&&r)))return(e||(e=o("I64"))).zero}l.assertIfQuotedV2=c,l.getReplyUserId=d,l.getReplySourceTypeV2=p,l.getReplySourceType=f,l.getReplySourceId=h,l.getReplyTimestampMs=C,l.getReplyMessageText=v,l.getReplyMentionedJids=R,l.getReplyType=L,l.getReplyMediaPreviewHeight=D,l.getReplyMediaPreviewWidth=$,l.getReplyAttachmentType=N,l.getReplyAttachmentTypeLegacy=M,l.getReplyAttachmentId=w,l.getReplyAttachmentPlaintextHash=F,l.getReplyMediaExpirationTimestampMs=B}),98);
__d("MAWMsgReplyStatus",["I64","LSIntEnum","LSReplyMessageStatus","MAWMsgReply","MAWMsgType","MAWReplyBuilder","MsgrWebGating"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){switch(e){case o("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case o("MAWMsgType").MSG_TYPE.REVOKED:return r("LSReplyMessageStatus").DELETED;case o("MAWMsgType").MSG_TYPE.TEXT:case o("MAWMsgType").MSG_TYPE.IMAGE:case o("MAWMsgType").MSG_TYPE.VIDEO:case o("MAWMsgType").MSG_TYPE.PTT:case o("MAWMsgType").MSG_TYPE.ADMIN:case o("MAWMsgType").MSG_TYPE.GIF:case o("MAWMsgType").MSG_TYPE.STICKER:case o("MAWMsgType").MSG_TYPE.XMA:case o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case o("MAWMsgType").MSG_TYPE.RAVEN:case o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return r("LSReplyMessageStatus").VALID;case o("MAWMsgType").MSG_TYPE.FUTUREPROOF:case o("MAWMsgType").MSG_TYPE.CIPHERTEXT:case o("MAWMsgType").MSG_TYPE.UNAVAILABLE:return r("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return r("LSReplyMessageStatus").UNKNOWN;case o("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return r("LSReplyMessageStatus").EXPIRED;default:return}}function c(t){var n=d(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyStatus(r);return o("MAWMsgReply").assertIfQuotedV2("getLSReplyMessageStatus",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function d(e){var t=u(e.replyStatusType);if(t!=null)return(s||(s=o("LSIntEnum"))).ofNumber(t)}l.getReplyMessageStatus=u,l.getLSReplyMessageStatus=c}),98);
__d("MAWMsgReplySnippet",["fbt","FBLogger","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWCurrentUser","MAWMpsGating","MAWMsgReply","MAWMsgReplyStatus","MAWMsgType","MAWPostMentionXMASnippetFbt","MAWReplyBuilder","MsgrWebGating","ODS"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(t){var n=t.isAuthorMe,a=t.isBumpMsg,i=a===void 0?!1:a,l=t.isDeletedMsg,c=t.isFBPostMention,d=c===void 0?!1:c,m=t.isFBStoryMention,p=m===void 0?!1:m,_=t.isIGStoryMention,f=_===void 0?!1:_,g=t.isIGXMAStoryShare,h=g===void 0?!1:g,y=t.isMsgHighlightsTabFriendUpdatesReply,C=y===void 0?!1:y,b=t.isNoteReply,v=b===void 0?!1:b,S=t.isPostPrivateReply,R=S===void 0?!1:S,L=t.isStoryHighlightShare,E=L===void 0?!1:L,k=t.isStoryProducerReply,I=t.isStoryReaction,T=I===void 0?!1:I,D=t.isStoryReply,x=D===void 0?!1:D,$=t.isStoryShare,P=$===void 0?!1:$,N=t.recipientName,M=t.replyAttachmentType,w=t.replySenderIsMe,A=w===void 0?!1:w,F=t.replySenderIsRecipient,O=F===void 0?!1:F,B=t.senderName;switch(!0){case d:return n?o("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(N):o("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(B);case i:return o("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:n,recipientName:N,replySenderIsMe:A,replySenderIsRecipient:O,senderName:B});case E:return s._(/*BTDS*/"Sent a story highlight");case(h&&M!=null&&(e||(e=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").FEED_POST))):return s._(/*BTDS*/"Sent a story");case(n&&l):return s._(/*BTDS*/"You replied to a removed message");case(n&&P):return s._(/*BTDS*/"You shared a story");case(n&&T):return s._(/*BTDS*/"You reacted to their story");case(n&&f):return N!=null?s._(/*BTDS*/"You mentioned \u0040{name} in your story",[s._param("name",N)]):s._(/*BTDS*/"You mentioned a participant in your story");case(n&&p):return N!=null?s._(/*BTDS*/"You mentioned {name} in your story",[s._param("name",N)]):s._(/*BTDS*/"You mentioned a participant in your story");case f:case p:return s._(/*BTDS*/"Mentioned you in their story");case(!n&&C):return s._(/*BTDS*/"{name} replied to your post",[s._param("name",B)]);case(n&&C):return s._(/*BTDS*/"You replied to their post");case(n&&R):return N!=null?s._(/*BTDS*/"You replied to {name}'s post",[s._param("name",N)]):s._(/*BTDS*/"You replied to a participant's post");case R:return s._(/*BTDS*/"{name} replied to your post",[s._param("name",B)]);case(!n&&v):return s._(/*BTDS*/"{name} replied to your note",[s._param("name",B)]);case(n&&v):return s._(/*BTDS*/"You replied to their note");case(n&&A):return s._(/*BTDS*/"You replied to yourself");case(n&&x):return k===!0?s._(/*BTDS*/"You replied to your story"):N!=null?s._(/*BTDS*/"You replied to {name}'s story",[s._param("name",N)]):s._(/*BTDS*/"You replied to a participant's story");case n:return N!=null?s._(/*BTDS*/"You replied to {other_name}",[s._param("other_name",N)]):s._(/*BTDS*/"You replied to a participant");case l:return s._(/*BTDS*/"{name} replied to a removed message",[s._param("name",B)]);case P:return s._(/*BTDS*/"{user} shared a story",[s._param("user",B)]);case T:return s._(/*BTDS*/"Reacted to your story");case O:return s._(/*BTDS*/"{other} replied to themself",[s._param("other",B)]);case(A&&x):return k===!0?s._(/*BTDS*/"{name} replied to their story",[s._param("name",B)]):s._(/*BTDS*/"{name} replied to your story",[s._param("name",B)]);case A:return s._(/*BTDS*/"{other_name} replied to you",[s._param("other_name",B)]);default:return N!=null?s._(/*BTDS*/"{other} replied to {other_name}",[s._param("other",B),s._param("other_name",N)]):s._(/*BTDS*/"{other} replied to participant",[s._param("other",B)])}}function m(t,n,r,a,i){if(a===void 0&&(a=!1),(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(25))){var l=t?o("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(r):o("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(i);return l==null?void 0:l.toString()}if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(22)))return t?r!=null?s._(/*BTDS*/"You mentioned {name} in your story",[s._param("name",r)]).toString():s._(/*BTDS*/"You mentioned a participant in your story").toString():s._(/*BTDS*/"Mentioned you in their story").toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(14)))return t?s._(/*BTDS*/"You replied to their post").toString():s._(/*BTDS*/"{name} replied to your post",[s._param("name",i)]).toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(13)))return t?r!=null?s._(/*BTDS*/"You replied to {name}'s post",[s._param("name",r)]).toString():s._(/*BTDS*/"You replied to a participant's post").toString():s._(/*BTDS*/"{name} replied to your post",[s._param("name",i)]).toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(18)))return t?s._(/*BTDS*/"You replied to their note").toString():s._(/*BTDS*/"{name} replied to your note",[s._param("name",i)]).toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(24))){var c=(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(24));if(t)return c?s._(/*BTDS*/"You replied to your story").toString():r!=null?s._(/*BTDS*/"You replied to {name}'s story",[s._param("name",r)]).toString():s._(/*BTDS*/"You replied to a participant's story").toString();if(a)return c?s._(/*BTDS*/"{name} replied to their story",[s._param("name",i)]).toString():s._(/*BTDS*/"{name} replied to your story",[s._param("name",i)]).toString()}if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(12)))return t?s._(/*BTDS*/"You reacted to their story").toString():s._(/*BTDS*/"Reacted to your story").toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(4)))return t?s._(/*BTDS*/"You shared a story").toString():s._(/*BTDS*/"{user} shared a story",[s._param("user",i)]).toString()}function p(t,n,a,i){var l=t.senderId,s=(e||(e=o("I64"))).to_string(t.senderId)===a,u=n===a;if(l==null||n==null)throw r("FBLogger")("messenger_e2ee_web").mustfix("Error getting reply snippet without replyToUserId or / and replying message sender");var c="$PARTICIPANT_FIRST_NAME("+e.to_string(l)+")",d="$PARTICIPANT_FIRST_NAME("+n+")",p=m(u,i,c,s,d);return p==null?void 0:p.toString()}function _(e){var t=f(e);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return t;var n=e.replyContent,r=e.sender;if(n!=null){var a=o("MAWReplyBuilder").getReplyBuilder(n.replyType).buildReplySnippet(n,r,o("MAWCurrentUser").getID());return o("MAWMsgReply").assertIfQuotedV2("getReplySnippet",t,a,e.msgId,e.type_),a}}function f(e){var t;if(!o("MAWMpsGating").isMpsMessageRendering()){var n=e.isAuthorMe,a=e.isFBPostMention,i=a===void 0?!1:a,l=e.isFBStoryMention,s=l===void 0?!1:l,u=e.isIGStoryMention,m=u===void 0?!1:u,p=e.isIGXMAStoryShare,_=e.isMsgHighlightsTabFriendUpdatesReply,f=_===void 0?!1:_,g=e.isNoteReply,h=g===void 0?!1:g,y=e.isPostPrivateReply,C=y===void 0?!1:y,b=e.isStoryHighlightShare,v=b===void 0?!1:b,S=e.isStoryProducerReply,R=e.isStoryReaction,L=e.isStoryReply,E=e.isStoryShare,k=E===void 0?!1:E,I=e.replySenderIsMe,T=e.replySourceId,D=e.replyStatusType,x=e.replyToUserId,$=e.sender,P=e.type_,N=P===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;if(!(T==null&&!L&&!k&&!m&&!s&&!v&&!h&&!i)){if(x==null||$==null)throw r("FBLogger")("messenger_web").mustfixThrow("Error getting reply snippet without replyToUserId or sender");return(c||(c=o("ODS"))).bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet"),(t=d({isAuthorMe:n,isBumpMsg:N,isDeletedMsg:o("MAWMsgReplyStatus").getReplyMessageStatus(D)===r("LSReplyMessageStatus").DELETED,isFBPostMention:i,isFBStoryMention:s,isIGStoryMention:m,isIGXMAStoryShare:p,isMsgHighlightsTabFriendUpdatesReply:f,isNoteReply:h,isPostPrivateReply:C,isStoryHighlightShare:v,isStoryProducerReply:S,isStoryReaction:R,isStoryReply:L,isStoryShare:k,recipientName:"$PARTICIPANT_FIRST_NAME("+x+")",replySenderIsMe:I,replySenderIsRecipient:$===x,senderName:"$PARTICIPANT_FIRST_NAME("+$+")"}))==null?void 0:t.toString()}}}l.buildLocalizedReplySnippetLegacy=d,l.getReplySnippetFromLSMessage=p,l.getReplySnippet=_}),226);
__d("MAWBridgeBuildMsg",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWBridgeMsg","MAWBridgeMsgUtils","MAWJids","MAWMsg","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","MAWTimeUtils","MAWVault","MWPBumpEntityKey","isMWBumpMessage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).reduce(function(e,t){return[].concat(e,t)},[])}function d(e){return e!=null?o("MAWVault").unvault(e):void 0}function m(e){return e!=null?o("MAWVault").vault(e):void 0}function p(e){return babelHelpers.extends({},e,{replyMessageText:m(e.replyMessageText),text:m(e.text)})}function _(e){var t=o("MAWMsgReply").getReplyMessageText(e),n=e.adminContent,r=e.adminType,a=e.adminVersion,i=e.content,l=e.isAdminMessage,u=i;l&&n!=null&&r!=null&&(u=o("MAWBridgeBuildAdminMsg").buildAdminMsgText(n,r,a));var _=o("MAWMsgReplySnippet").getReplySnippet(e);e.type_===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE&&(u=m(e.replySourceId==null?"":_!=null?_:s._(/*BTDS*/"Bumped a message").toString()));var f=c(e.mentionedJids,o("MAWMsgReply").getReplyMentionedJids(e)),g=e.commands?e.commands:[];return f.length>0||g.length>0?p(o("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(d(u),f,d(t),g.length>0?g:void 0)):{replyMessageText:t,text:u}}function f(t){var n=t.ephemeralDurationInSec;return n!=null?(e||(e=o("I64"))).of_int32(n):void 0}function g(e,t,n,a){var i,l=r("isMWBumpMessage")(t==null?void 0:t.replyType)?t==null?void 0:t.replyMessageText:t==null?void 0:t.text,s=c(n,t==null||(i=t.mentionIds)==null?void 0:i.split(",").map(o("MAWJids").toUserJid)),u=a!=null?a:[];return s.length>0||u.length>0?p(o("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(d(e),s,d(l),u)):{replyMessageText:l,text:e}}function h(t,n){var a,i,l,s,c=_(t),d=t.type_===o("MAWMsg").unsent,m=o("MAWTimeUtils").toTimestamp(d&&(a=t.originalTs)!=null?a:t.ts);if(o("MAWMsgReply").getReplyAttachmentId(t)!=null&&o("MAWMsgReply").getReplyAttachmentPlaintextHash(t)==null){var p;o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","new_message_handler_for_reply_type_"+(e||(e=o("I64"))).to_float((p=o("MAWMsgReply").getReplyAttachmentType(t))!=null?p:(e||(e=o("I64"))).zero))}var g=o("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(t.transportKey);return babelHelpers.extends({},c,{adminMsgCtaId:n==null?void 0:n.ctaId,adminMsgCtaTitle:n==null?void 0:n.title,adminMsgCtaType:n==null?void 0:n.ctaType,authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:d||!t.isAuthorMe?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,collapsibleId:t.collapsibleId!=null?(e||(e=o("I64"))).of_float(t.collapsibleId):void 0,displayedContentTypes:o("MAWMsg").getDisplayedContentTypes(t.type_,t.isForwarded,t.isExpiredXmaMsg,t.replySourceId!=null,t.unsupportedType,t.xmaMessageType,t.gifPlayback),editCount:(e||(e=o("I64"))).of_int32((i=t.editCount)!=null?i:0),ephemeralDurationInSec:f(t),groupId:(l=t.groupId)!=null?l:void 0,groupIndex:t.groupIndex!=null?(e||(e=o("I64"))).of_float(t.groupIndex):void 0,groupSize:t.groupSize!=null?(e||(e=o("I64"))).of_float(t.groupSize):void 0,hotEmojiSize:o("MAWBridgeMsg").getSpecialTextSize(t),isCollapsed:(s=t.isCollapsed)!=null?s:!1,isUnsent:d,messageId:t.msgId,primarySortKey:e.of_float(t.sortOrderMs),replyAttachmentId:o("MAWMsgReply").getReplyAttachmentId(t),replyAttachmentPlaintextHash:o("MAWMsgReply").getReplyAttachmentPlaintextHash(t),replyAttachmentType:o("MAWMsgReply").getReplyAttachmentType(t),replyMediaExpirationTimestampMs:o("MAWMsgReply").getReplyMediaExpirationTimestampMs(t),replyMediaPreviewHeight:o("MAWMsgReply").getReplyMediaPreviewHeight(t),replyMediaPreviewWidth:o("MAWMsgReply").getReplyMediaPreviewWidth(t),replySnippet:o("MAWMsgReplySnippet").getReplySnippet(t),replySourceId:o("MAWMsgReply").getReplySourceId(t),replySourceTimestampMs:o("MAWMsgReply").getReplyTimestampMs(t),replySourceType:o("MAWMsgReply").getReplySourceType(t),replySourceTypeV2:o("MAWMsgReply").getReplySourceTypeV2(t),replyStatus:o("MAWMsgReplyStatus").getLSReplyMessageStatus(t),replyToUserId:o("MAWMsgReply").getReplyUserId(t),replyType:o("MAWMsgReply").getReplyType(t),sendStatus:o("MAWAckLevel").levelToMessagingSendStatus(t.ack),sendStatusV2:o("MAWAckLevel").levelToMessagingSendStatusV2(t.ack),timestampMs:m,transportKey:g,unsentTimestampMs:d?o("MAWTimeUtils").toTimestamp(t.ts):void 0})}l.getEphemeralDurationInSec=f,l.buildOptimisticMessage=g,l.buildNewAndUpdatedMessageSharedParams=h}),226);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MessagingAttachmentType","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n,a){var i,l,u,c=n.contentRef,d=n.defaultPreviewMediaId,m=n.msgId,p=n.subtitleText,_=n.titleText,f=n.xmaId;if(m!=null){var g=(i=n==null||(l=n.defaultCTA)==null?void 0:l.actionUrl)!=null?i:n==null||(u=n.defaultCTA)==null?void 0:u.nativeUrl,h=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(a,m)),y=String(f),C=(e||(e=o("I64"))).zero,b;if(c!=null)try{var v=JSON.parse(c);v!=null&&(b=JSON.stringify(v))}catch(e){r("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}else r("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");var S=await o("MAWBridgeXMAUtils").addAttachmentCtas(t,n,a,m,y,{}),R=S.attachmentCta1Id,L=S.attachmentCta2Id,E=S.attachmentCta3Id,k=S.defaultCtaId,I={actionUrl:g!=null?g:void 0,attachmentCta1Id:R,attachmentCta2Id:L,attachmentCta3Id:E,attachmentFbid:y,attachmentIndex:e.zero,attachmentType:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),authorityLevel:e.zero,defaultCtaId:k,hasMedia:!1,hasXma:!0,hasXmaPreview:d!=null,isSharable:!0,messageId:m,receiverFetchId:b,subtitleText:p,threadKey:a,timestampMs:C,titleText:_,transportKey:"WhatsApp",xmaContentType:s.ofNumber(r("LSXmaContentType").MSG_RECEIVER_FETCH)};h!=null?await t.attachments.upsert([h.threadKey,h.messageId,h.attachmentFbid],I):await t.attachments.add(I)}}l.call=u}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return t===o("MAWDbMedia").MEDIA_TYPE.IMAGE?n!=null?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE):(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE):t===o("MAWDbMedia").MEDIA_TYPE.VIDEO?n!=null?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO):(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO):t===o("MAWDbMedia").MEDIA_TYPE.PTT?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO):t===o("MAWDbMedia").MEDIA_TYPE.GIF?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE):t===o("MAWDbMedia").MEDIA_TYPE.STICKER?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER):t===o("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE):(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").NONE)}l.mediaTypeToMessageAttachmentType=s}),98);
__d("MAWBridgeNewMediaHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSThreadMediaGalleryGroup","MAWDbMedia","MAWMedia","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","WAMediaHdType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i,l,u){var c,d,m,p,_,f,g,h=n.messagesSortOrderMs?(e||(e=o("I64"))).of_float(n.messagesSortOrderMs[a]):n.sortOrderMs!=null?(e||(e=o("I64"))).of_float(n.sortOrderMs):(e||(e=o("I64"))).of_float(n.ts*1e3);return{accessibilitySummaryText:n.accessibilitySummaryText,attachmentFbid:i,attachmentIndex:(c=t==null?void 0:t.attachmentIndex)!=null?c:(e||(e=o("I64"))).zero,attachmentType:(d=t==null?void 0:t.attachmentType)!=null?d:o("MAWMedia").mediaTypeToMessageAttachmentType(n.mediaType,n.ephemeralMediaViewMode),authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:n.ephemeralMediaState!=null?(e||(e=o("I64"))).of_int32(n.ephemeralMediaState):t==null?void 0:t.ephemeralMediaState,ephemeralMediaViewMode:n.ephemeralMediaViewMode!=null?(e||(e=o("I64"))).of_int32(n.ephemeralMediaViewMode):t==null?void 0:t.ephemeralMediaViewMode,filename:(m=(p=n.filenames!=null?n.filenames[a]:null)!=null?p:n.defaultFilename)!=null?m:t==null?void 0:t.filename,filesize:n.filesize==null?t==null?void 0:t.filesize:(e||(e=o("I64"))).of_int32(n.filesize),gifPlayback:n.gifPlayback,hasMedia:n.hasMedia,hasXma:!1,isHd:((_=n.hdTypes)==null?void 0:_[a])===o("WAMediaHdType").HD_TYPE_HQ_4K,isSharable:!1,messageId:a,offlineAttachmentId:l,playableDurationMs:n.duration==null?t==null?void 0:t.playableDurationMs:(e||(e=o("I64"))).of_int32(n.duration),previewHeight:n.previewHeight==null?t==null?void 0:t.previewHeight:(e||(e=o("I64"))).of_int32(n.previewHeight),previewHeightLarge:n.previewHeightLarge==null?t==null?void 0:t.previewHeightLarge:(e||(e=o("I64"))).of_int32(n.previewHeightLarge),previewWidth:n.previewWidth==null?t==null?void 0:t.previewWidth:(e||(e=o("I64"))).of_int32(n.previewWidth),previewWidthLarge:n.previewWidthLarge==null?t==null?void 0:t.previewWidthLarge:(e||(e=o("I64"))).of_int32(n.previewWidthLarge),threadKey:u,timestampMs:h,titleText:n.accessibilitySummaryText,transportKey:(f=n.transportKey)!=null?f:"WhatsApp",waveformData:(g=n.waveformData)!=null?g:t==null?void 0:t.waveformData}}function c(e,t){var n=t.hasPreviewMedia!=null;return{id:e,mainMediaStatus:t.hasMedia?(s||(s=o("LSIntEnum"))).ofNumber(1):(s||(s=o("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:"initial_media_download",previewMediaStatus:n?t.hasPreviewMedia===!0?(s||(s=o("LSIntEnum"))).ofNumber(1):(s||(s=o("LSIntEnum"))).ofNumber(4):void 0,previewMediaStatusDetails:n?"initial_media_download":void 0}}async function d(t,n,r){var a=n.mediaId,i=n.msgIds,l=n.offlineAttachmentId,s=n.plaintextHash;await m(t,n);var c=p(a,s),d=l!=null?l:c,f=!1,g=_(n),h=null;if(h=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments_ranges_v2__generated).getKeyRange(r).filter(function(t){return(e||(e=o("I64"))).equal(t.mediaGroup,g)})),await Promise.all(i.map(async function(a){var i=t.attachments,l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(i).getKeyRange(r,a)),s=u(l,n,a,c,d,r);if(n.skipShouldUpdateHasMore!==!0&&h!=null&&(e||(e=o("I64"))).le(s.timestampMs,h.minTimestampMs)&&(f=!0),l!=null){var m;return i.upsert([l.threadKey,l.messageId,l.attachmentFbid],babelHelpers.extends({},s,{transportKey:(m=l.transportKey)!=null?m:s.transportKey}))}else return i.add(s)})),h!=null&&h.hasMoreBefore!==!0&&f){var y=babelHelpers.extends({},h,{hasMoreBefore:!0});await t.attachments_ranges_v2__generated.upsert([h.threadKey,h.mediaGroup,h.minTimestampMs],y)}}async function m(t,n){var a=n.mediaId,i=n.plaintextHash;if(i==null){r("FBLogger")("messenger_web_media").mustfix("[NewMedia] No valid media plaintextHash found in reducer %s",a);return}var l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.client_media_status).getKeyRange(i)),u=l!=null&&!(e||(e=o("I64"))).equal(l.mainMediaStatus,(s||(s=o("LSIntEnum"))).ofNumber(4));u||await t.client_media_status.add(c(i,n))}function p(e,t){return""+(t!=null?t:e.toString())}function _(e){switch(e.mediaType){case o("MAWDbMedia").MEDIA_TYPE.IMAGE:case o("MAWDbMedia").MEDIA_TYPE.VIDEO:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS);case o("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSThreadMediaGalleryGroup").FILES_ONLY);default:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS)}}function f(e,t){var n=t.threadJid;return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,n,"MAWBridgeNewMediaHandler",function(e,n){return d(e,t,n)})}l.getAttachmentFromBridgeMedia=u,l.callWithoutWaitingForAnything=d,l.getAttachmentID=p,l.call=f}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n){var r=String(t.xmaId),a=t.msgId;if(a!=null){var i=t.targetType===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(i)return o("MAWBridgeHandleReceiverFetchXMA").call(e,t,n);var l=await o("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(e,n,a),s=l[0],u=l[1],c=await o("MAWBridgeXMAUtils").addAttachmentCtas(e,t,n,a,r,u),d=c.attachmentCta1Id,m=c.attachmentCta2Id,p=c.attachmentCta3Id,_=c.defaultCtaId,f=o("MAWBridgeXMAUtils").composeAttachmentXMA(t,n,r,a,d,m,p,_,"MAWBridgeNewXMAHandler");s!=null?await e.attachments.upsert([s.threadKey,s.messageId,s.attachmentFbid],f):await e.attachments.add(f)}}function s(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.threadJid,"MAWBridgeNewXMAHandler",function(t,r){return e(t,n,r)})}function u(e,t){return s(e,t)}l.callWithoutWaitingForAnything=e,l.call=u}),98);
__d("MAWMsgFetchLSReplyMsgAndAttachment",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","MAWCurrentUser","MAWDbMsg","MAWMpsGating","MAWReplyBuilder","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(e,t){var n=t.replyContent;if(n==null||n.replyType!=="MESSAGE"||n.replyToMsgId==null)return null;var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(n.replyToMsgId));!o("MAWMpsGating").isMpsMessageRendering()&&a==null&&t._META_loaded_as_quoted_msg!==!0&&r("FBLogger")("messenger_e2ee_web").mustfix("[fetchReplyLocalViaLS] Reply snippet cannot be generated as original message is not in LSDB");var i;return a!=null&&(i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(a.threadKey,a.messageId))),babelHelpers.extends({},t,{replyContent:babelHelpers.extends({},n,{replyToLSAttachment:i,replyToLSMessage:a})})}async function c(t,n){var a=o("MAWMpsGating").isMpsMessageRendering()?void 0:await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(n.threadKey,n.messageId)),i=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.messages.index("replySourceIdMessageID")).getKeyRange(n.messageId));await Promise.all(i.map(function(i){var l=i.replySourceTypeV2,u=i.replyType;if(l==null||u==null){r("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error getting reply snippet without replySourceTypeV2 and/or replyType");return}var c=o("MAWDbMsg").toMsgId(n.messageId);if(c==null){r("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error extracting message id from replyToLSMessage");return}if(i.messageId===n.messageId){r("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Message replying to itself should not be updated");return}if(l===(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)){var d={isBumpMsg:i.replyType===(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP),replyToLSAttachment:a,replyToLSMessage:n,replyToMsgId:c,replyType:"MESSAGE"},m=o("MAWReplyBuilder").getReplyBuilder(d.replyType),p=a!=null?{replyAttachmentId:m.buildReplyAttachmentId(d),replyAttachmentPlaintextHash:m.buildReplyAttachmentPlaintextHash(d),replyAttachmentType:m.buildReplyAttachmentType(d),replyMediaPreviewHeight:m.buildReplyMediaPreviewHeight(d),replyMediaPreviewWidth:m.buildReplyMediaPreviewWidth(d)}:{},_=babelHelpers.extends({},i,p,{replyMessageText:m.buildReplyMessageText(d),replySnippet:m.buildReplySnippet(d,(s||(s=o("I64"))).to_string(i.senderId),o("MAWCurrentUser").getID()),replySourceTimestampMs:m.buildReplyTimestampMs(d),replyStatus:m.buildReplyStatus(d),replyToUserId:m.buildReplyUserId(d)});return t.messages.put(_)}}))}l.fetchReplyLocalViaLS=u,l.updateMessagesReplyingToMsg=c}),98);
__d("MAWUpdateMsg",["MAWBridgeBuildMsg","MAWMsgFetchLSReplyMsgAndAttachment","MsgrWebGating"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,r){var a=o("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(t,r),i=babelHelpers.extends({},n,a);await e.messages.upsert([n.threadKey,n.timestampMs,n.messageId],i),o("MsgrWebGating").isQuotedMessagesInLsEnabled()&&await o("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(e,i)}l.call=e}),98);
__d("MAWBridgeNewMsgHandler",["FBLogger","I64","LSIntEnum","LSMessageRenderingType","LSQuickReplyType","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWBridgeNewMediaHandler","MAWBridgeNewXMAHandler","MAWBridgeXMAUtils","MAWMpsGating","MAWMsgFetchLSReplyMsgAndAttachment","MAWThreadLoadingState","MAWUpdateMsg","MAWXMAUtils","MWPBumpEntityKey","MpsMessageToBridge","MpsOverBridge","MpsToBridgeMessageId","MpsTypes","MsgrWebGating","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){return babelHelpers.extends({},o("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(n,a),{forwardScore:(e||(e=o("I64"))).of_float(n.forwardingScore),isAdminMessage:n.isAdminMessage,isForwarded:n.isForwarded,messageRenderingType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageRenderingType").DEFAULT),offlineThreadingId:n.externalId,quickReplyType:s.ofNumber(r("LSQuickReplyType").NONE),senderId:e.of_string(n.sender),threadKey:t,viewFlags:s.ofNumber(0)})}function c(e,t,n){var r=t.mediaId,a=t.offlineAttachmentId,i=t.plaintextHash,l=o("MAWBridgeNewMediaHandler").getAttachmentID(r,i),s=a!=null?a:l;return o("MAWBridgeNewMediaHandler").getAttachmentFromBridgeMedia(null,t,n,l,s,e)}async function d(e,t,n,r){n.unsupportedType==="stickerReceiverFetchMessage"&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");var a=u(t,n,r),i=a.messageId,l=a.timestampMs;await e.messages.upsert([t,l,i],a),o("MsgrWebGating").isQuotedMessagesInLsEnabled()&&await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages).getKeyRange(t,l,i)).then(function(t){if(t!=null)return o("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(e,t)})}async function m(e,t,n,r){n.unsupportedType==="stickerReceiverFetchMessage"&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");var a=u(t,n,r),i=await e.messages.add(a),l=i[0],s=i[1],c=i[2];o("MsgrWebGating").isQuotedMessagesInLsEnabled()&&await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages).getKeyRange(t,s,c)).then(function(t){if(t!=null)return o("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(e,t)})}async function p(e,t,n){var a=n.replyContent;if(a==null||a.replyType!=="MESSAGE")return n;var i=await o("MpsOverBridge").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-first"},debug:{purpose:"reply-fetch-local"},messageId:o("MpsToBridgeMessageId").bridgeMsgIdToMps(a.replyToMsgId).messageId,threadId:o("MpsTypes").toThreadId(n.chatJid)}),l=i.value;if(l==null)return r("FBLogger")("messenger_e2ee_web").mustfix("[fetchReplyLocalViaMPS] Reply snippet cannot be generated as original message is not in MPS"),n;var s=o("MpsMessageToBridge").mpsFullMessagetoBridge(l),d=s==null?void 0:s.topLevel,m=s==null?void 0:s.supplementals;if(d!=null&&d.kind==="bridgeMsg"){var p=m==null?void 0:m.find(function(e){return e.kind==="bridgeMedia"||e.kind==="bridgeXMA"}),_=d.value.msgId,f;(p==null?void 0:p.kind)==="bridgeMedia"?(f=c(t,p==null?void 0:p.value,a.replyToMsgId),await o("MAWBridgeNewMediaHandler").callWithoutWaitingForAnything(e,p==null?void 0:p.value,t)):(p==null?void 0:p.kind)==="bridgeXMA"&&(f=o("MAWBridgeXMAUtils").composeAttachmentXMA(p==null?void 0:p.value,t,String(p==null?void 0:p.value.xmaId),_,void 0,void 0,void 0,void 0,"MAWBridgeNewMsgHandler"),await o("MAWBridgeNewXMAHandler").callWithoutWaitingForAnything(e,p==null?void 0:p.value,t));var g=u(t,d.value,void 0);return await e.messages.add(g),babelHelpers.extends({},n,{replyContent:babelHelpers.extends({},a,{replyToLSAttachment:f,replyToLSMessage:g})})}return n}async function _(e,t,n){var r,a;if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var i=await o("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(e,n);return i==null?n:o("MAWMpsGating").isMpsMessageRendering()&&((r=i.replyContent)==null?void 0:r.replyToLSAttachment)==null&&((a=i.replyContent)==null?void 0:a.replyToLSMessage)==null?p(e,t,n):i}async function f(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("optimistic")).getKeyRange(t.externalId));return n!=null?Promise.resolve(n):o("MsgrWebGating").isQuotedMessagesInLsEnabled()?o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(t.msgId)):Promise.resolve(null)}async function g(t,n,a){var i=await _(t,a,n);if(!o("MAWXMAUtils").isXMAStoryReply(i.xmaMessageType)){if(i.isExpiredMsg===!0){r("FBLogger")("messenger_web").mustfix("Attempted to insert an expired message");return}var l=await o("MAWAdminMsgCTA").getAdminMsgCtaStep(t,a,i);if(o("MAWMpsGating").isMpsMessageRendering())await d(t,a,i,l);else{var s,u=await f(t,i);u==null?await m(t,a,i,l):await o("MAWUpdateMsg").call(t,i,u,l),o("MAWMpsGating").isMpsMessageRendering()&&((s=i.editCount)!=null?s:0)>0&&await h(t,i)}if(i.collapsibleId!=null){var c=(e||(e=o("I64"))).of_float(i.collapsibleId),p=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.messages.index("collapsibleId")).getKeyRange(c));if(p.length>1){var g=p[0],y=p[1];(e||(e=o("I64"))).gt(g.timestampMs,y.timestampMs)?await t.messages.put(babelHelpers.extends({},y,{isCollapsed:!0})):await t.messages.put(babelHelpers.extends({},g,{isCollapsed:!0}))}}}}async function h(e,t){var n=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.messages.index("replySourceIdMessageID")).getKeyRange(t.msgId));await Promise.all(n.map(function(n){var r=babelHelpers.extends({},n,{replyMessageText:t.content});return e.messages.put(r)}))}async function y(e,t){var n=await o("MAWThreadLoadingState").getThreadKeyIfMiThreadNotMissing(e,t.chatJid);n!=null&&await g(e,t,n)}async function C(e,t){await Promise.all(t.map(function(t){return y(e,t)}))}l.callWithoutWaitingForAnything=g,l.call=y,l.bulkCall=C}),98);
__d("getLSMediaContactProfilePictureUrl",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.profilePictureUrlExpirationTimestampMs;if(t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)||e.profilePictureUrl===""){var n;return(n=e.profilePictureFallbackUrl)!=null?n:e.profilePictureUrl}else return e.profilePictureUrl}l.default=e}),98);
__d("getLSMediaThreadPictureUrl",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.threadPictureUrl,n=e.threadPictureUrlExpirationTimestampMs,r=e.threadPictureUrlFallback,a=n;return a!=null&&o("LSMediaUrlUtils").isTimestampExpired(a)?r:t}l.default=e}),98);/*FB_PKG_DELIM*/
__d("createMainThreadQuery",["FBLogger","IGDWebUtils","MAWRotateDTSG","WARetryableError","executeGraphQLQuery","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.getNetwork(),n={execute:t.execute};return n}async function s(e,t,n){var a=o("relay-runtime").getRequest(e);if(a.params.operationKind!=="query")throw r("FBLogger")("messenger_web").mustfixThrow("createWorkerQuery: Expected query operation");var i=o("IGDWebUtils").isOnInstagramWeb(),l=await o("executeGraphQLQuery").executeGraphQLQuery(n,e,t).then(function(e){return e.toPromise()}).then(function(e){var t,n=Array.isArray(e)?(t=e[0])==null?void 0:t.data:e==null?void 0:e.data;if(n!=null)return n}).catch(function(e){if(("code"in e&&e.code===1357004||"message"in e&&e.message.indexOf("1357004")!==-1||typeof e=="string"&&e.indexOf("1357004")!==-1)&&!i)return r("FBLogger")("messenger_web").info("Failed with expired DTSG, attempting to rotate."),o("MAWRotateDTSG").tryRotateDTSG().then(function(t){throw t?new(r("WARetryableError"))(e):e});throw e});return l}l.getWorkerLikeRelayEnvironment=e,l.createMainThreadQuery=s}),98);
__d("EBCreateGraphQLFetchFnUnified",["EBAPIWorkerCheck","WorkerRelay","WorkerRelayNetwork","createMainThreadQuery","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("CometRelayEnvironment").__setRef("EBCreateGraphQLFetchFnUnified");async function s(){var t=o("EBAPIWorkerCheck").runningInWorker();if(t)return await o("WorkerRelayNetwork").createWorkerNetworkExecute(),o("WorkerRelay").createWorkerQuery;var n=await e.load();return function(e,t){var r=o("createMainThreadQuery").getWorkerLikeRelayEnvironment(n);return o("createMainThreadQuery").createMainThreadQuery(e,t,r)}}l.createGraphQlFetchFnUnified=s}),98);
__d("EBFormatUtils",["I64","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){if(t!=null)return(e||(e=o("I64"))).min(t,e.of_float(o("WATimeUtils").millisTime()));switch(n){case"before":return(e||(e=o("I64"))).of_float(o("WATimeUtils").millisTime());case"after":return(e||(e=o("I64"))).zero;default:return(e||(e=o("I64"))).max_int}}function u(e,t){switch(t){case"before":return[e,0];case"after":return[0,e];default:return[Math.ceil(e/2),Math.ceil(e/2)]}}l.adjustTs=s,l.adjustCount=u}),98);
__d("EBMessageMetadataQueryQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9456956994433373"}),null);
__d("EBMessageMetadataQueryQuery.graphql",["EBMessageMetadataQueryQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"data"}],t={alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XFBTDeanonMessagesResponse",kind:"LinkedField",name:"deanon_messages_metadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sort_order_ms",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("EBMessageMetadataQueryQuery_facebookRelayOperation"),metadata:{},name:"EBMessageMetadataQueryQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("EBMessageRangeQueryUtils",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=Math.pow(2,48)-1;function s(e){var t=Number(e);return isNaN(t)?e:u(t).toString()}function u(t){if(t<0)return 0;if(t<=e)return t;var n=o("WATimeUtils").millisTime()+6e4;return n}l.safeTimestampMsString=s,l.safeTimestampMsNumber=u}),98);
__d("XFBLSEncryptedBackupsMessagesRangeQueryDirection.facebook",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["AFTER","BEFORE"]),l=e;i.default=l}),66);
__d("EBMessageMetadataQuery",["EBAPIQPLPoints","EBAPIWorkerCheck","EBCreateGraphQLFetchFnUnified","EBMessageMetadataQueryQuery.graphql","EBMessageRangeQueryUtils","FBLogger","I64","LSDatabaseSingleton","QPLUserFlow","ReQL","WAHashStringToNumber","WAJids","WAResultOrError","XPlatRelayEnvironment","getErrorSafe","gkx","qpl","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("gkx")("10665"),d=e!==void 0?e:e=n("EBMessageMetadataQueryQuery.graphql"),m=new Map;async function p(e){if(m.has(e))return m.get(e);var t=await(s||(s=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.mi_act_mapping_table.index("jid")).getKeyRange((u||(u=o("I64"))).of_string(e)));if((n==null?void 0:n.serverThreadKey)!=null)return m.set(e,(u||(u=o("I64"))).to_float(n.serverThreadKey)),u.to_float(n.serverThreadKey)}var _=0;async function f(e){var t=e.direction,n=e.fetchPolicy,a=e.includeAnonymizedMessages,i=a===void 0?!1:a,l=e.instanceKey,s=e.networkCacheConfig,u=e.numberOfMessages,m=e.referenceTimestamp,f=m===void 0?null:m,g=e.threadId;if(o("EBAPIWorkerCheck").runningInWorker())return o("WAResultOrError").makeError("unsupported-context");if(!c&&!r("gkx")("16464"))return o("WAResultOrError").makeError("unsupported-mailbox");var h=l!=null?o("WAHashStringToNumber").hashStringToNumber(l):++_;try{var y,C;r("QPLUserFlow").start(r("qpl")._(521476771,"2454"),{annotations:{int:{number_of_messages:u}},instanceKey:h});var b=o("XPlatRelayEnvironment").getRelayEnvironment(),v=t==="after"?"AFTER":"BEFORE";r("QPLUserFlow").addPoint(r("qpl")._(521476771,"2454"),o("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_START,{instanceKey:h});var S=await p(g),R=await o("relay-runtime").fetchQuery(b,d,{data:{act_thread_id:g,direction:v,include_anonymized_messages:i,reference_timestamp:f==null?f:o("EBMessageRangeQueryUtils").safeTimestampMsNumber(f),requested_messages:u,server_thread_key:S}},{fetchPolicy:n!=null?n:void 0,networkCacheConfig:s!=null?s:void 0}).toPromise();r("QPLUserFlow").addPoint(r("qpl")._(521476771,"2454"),o("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_END,{instanceKey:h});var L=(y=R==null||(C=R.viewer)==null||(C=C.encrypted_backup)==null||(C=C.mailbox)==null?void 0:C.deanon_messages_metadata)!=null?y:[],E=L.map(function(e){var t=e.offline_threading_id,n=e.sort_order_ms;return{offlineThreadingId:t,sortOrderMs:n}});return r("QPLUserFlow").endSuccess(r("qpl")._(521476771,"2454"),{instanceKey:h}),o("WAResultOrError").makeResult({instanceKey:l,messages:E})}catch(e){var k=r("getErrorSafe")(e);return r("FBLogger")("wmi_eb").catching(k).mustfix("Error querying messaging metadata from EBMessageMetadataQuery"),r("QPLUserFlow").endFailure(r("qpl")._(521476771,"2454"),"error",{error:k,instanceKey:h}),o("WAResultOrError").DEPRECATED_makeError("error",k)}}function g(e){var t=e.chatJid,n=e.direction,a=e.numberOfMessages,i=e.referenceTimestamp;return h({chatJid:t,direction:n,numberOfMessages:a,referenceTimestamp:i}).catch(function(e){var t=r("getErrorSafe")(e);return r("FBLogger")("wmi_eb").catching(t).mustfix("Error querying messaging metadata from EBMessageMetadataQuery"),o("WAResultOrError").makeError("runtime-error")})}async function h(e){var t,n,a=e.chatJid,i=e.direction,l=e.numberOfMessages,s=e.referenceTimestamp;if(!c&&!r("gkx")("16464"))return o("WAResultOrError").makeError("unsupported-mailbox");var u=o("WAJids").threadIdForChatJid(a),m=await o("EBCreateGraphQLFetchFnUnified").createGraphQlFetchFnUnified(),p=await m(d,{data:{act_thread_id:u,direction:y(i),include_anonymized_messages:!1,reference_timestamp:s==null?s:o("EBMessageRangeQueryUtils").safeTimestampMsNumber(s),requested_messages:l}}),_=(t=p==null||(n=p.viewer)==null||(n=n.encrypted_backup)==null||(n=n.mailbox)==null||(n=n.deanon_messages_metadata)==null?void 0:n.map(function(e){var t=e.offline_threading_id,n=e.sort_order_ms;return{offlineThreadingId:t,sortOrderMs:n}}))!=null?t:[];return o("WAResultOrError").makeResult(_)}function y(e){switch(e){case"before":return"BEFORE";case"after":return"AFTER"}}l.messageMetadataQueryForMainThreadMAWDeanon=f,l.messageMetadataQuery=g}),98);
__d("LSMailboxType",[],(function(t,n,r,o,a,i){var e=Object.freeze({MESSENGER:0,COMMUNITIES:1,GEMSTONE:2,TINCAN:1024,TAM:4096});i.default=e}),66);
__d("LSOnSendMessageFailure.nop",["MWChatInteraction","Promise","err","justknobx","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("sendToSentQPLLogger").__setRef("LSOnSendMessageFailure.nop");function u(t,o,a,i){if(!r("justknobx")._("1414")||a==null)return(e||(e=n("Promise"))).resolve();var l=c(a);return l==null||r("promiseDone")(s.load().then(function(e){return e.markSendToSentFail(l,"send_message_server_error",r("err")("send_message_server_error: %s",i))})),(e||(e=n("Promise"))).resolve()}function c(e){var t=o("MWChatInteraction").get(o("MWChatInteraction").s2sKey(e));return t==null?null:Number(t)}u.__nop_name__="LSOnSendMessageFailure",l.default=u}),98);
__d("LSMarkOptimisticMessageFailed",["LSOnSendMessageFailure.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return e[2]===!0?r[0]=t.i64.cast([0,5]):r[0]=t.i64.cast([0,4]),e[2]===!0?r[1]=t.i64.cast([0,5]):r[1]=t.i64.cast([0,4]),e[2]===!0?r[2]=t.i64.cast([0,5]):r[2]=t.i64.cast([0,4]),t.nativeOperation(n("LSOnSendMessageFailure.nop"),e[0],e[1])},function(n){return t.forEach(t.filter(t.db.table(12).fetch([[[e[0]]],"optimistic"]),function(n){return n.offlineThreadingId===e[0]&&t.i64.eq(n.authorityLevel,t.i64.cast([0,20]))}),function(e){var t=e.update,n=e.item;return t({sendStatus:r[0],sendStatusV2:r[1]})})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxMarkOptimisticMessageFailedStoredProcedure",e.__tables__=["messages"],a.exports=e}),null);
__d("LSMarkOptimisticMessageFailedStoredProcedure",["LSMarkOptimisticMessageFailed","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMarkOptimisticMessageFailed"),a.optimisticMid,a.errorMessage,a.isRetryable);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMediaUrlUtils",["I64","ServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){if((e||(e=o("I64"))).gt(t,(e||(e=o("I64"))).zero)){var n=(e||(e=o("I64"))).of_float(o("ServerTime").getMillis()/1e3);return e.lt(t,n)}return!1}function u(t){if((e||(e=o("I64"))).gt(t,(e||(e=o("I64"))).zero)){var n=(e||(e=o("I64"))).of_float(o("ServerTime").getMillis());return e.lt(t,n)}return!1}function c(e,t){return e!=null&&t!=null&&!u(t)}l.isTimestampExpired=s,l.isTimestampExpiredForMillis=u,l.hasValidReceiverFetchPreviewUrl=c}),98);
__d("LSMessageSearchType",[],(function(t,n,r,o,a,i){var e=Object.freeze({THREAD:1,MESSAGE:2});i.default=e}),66);
__d("LSMinosVerifySingleEpochV1.nop",["EBMinosInterfaceTypes","EBMinosQplFlow","I64","Promise","getSafeQplErrorMessage","gkx","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("EBMinosVerifySingleEpoch").__setRef("LSMinosVerifySingleEpochV1.nop"),c=function(a,i,l,c,d,m,p,_,f){if(!(r("gkx")("20911")||r("gkx")("17219")))return(s||(s=n("Promise"))).resolve([!1]);var t=o("EBMinosQplFlow").startMinosVerifySingleEpochQpl({entryPoint:"verify-single-epoch-native-op"});try{var g,h=(g=o("EBMinosInterfaceTypes")).unsafeCastToBase64StringIntToEpochNumber(l),y=g.unsafeCastToMailboxAuthPK(p),C=g.unsafeCastToMailboxEncryptionPK(m),b=g.unsafeCastToMailboxSigningPK(d),v=g.unsafeCastToUserFbId((e||(e=o("I64"))).to_string(c)),S=o("EBMinosInterfaceTypes").unsafeCastToEpochSelfSig(f),R=_!=null?o("EBMinosInterfaceTypes").unsafeCastToEpochHead(_):void 0;return u.load().then(function(e){return e.minosVerifySingleEpoch(h,v,b,C,y,R,S,t)})}catch(e){return t.endFailWithError("runtime-error",o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)),(s||(s=n("Promise"))).resolve([!1])}};c.__nop_name__="LSMinosVerifySingleEpoch",l.default=c}),98);
__d("MAWMarkMessageSendAsFailedLSDB",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a){var l;return(l=o==null?void 0:o.runInTransaction(async function(t){await r("LSMarkOptimisticMessageFailedStoredProcedure")(r("LSFactory")(t),{errorMessage:n,isRetryable:a,optimisticMid:e})},"readwrite",void 0,void 0,i.id+":29"))!=null?l:Promise.resolve()}l.markMessageSendAsFailed=e}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1271"),s=o("FalcoLoggerInternal").create("message_sends_client",e),u=s;l.default=u}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=[];function c(e){return function(){for(;u.length>0;)(s||(s=r("ErrorGuard"))).applyWithGuard(p,null,[e,u.shift(),!0])}}var d=!1;function m(e,t){u.push(t),d||(o("LSPlatformLsInitLog").onCompleteOrFail(c(e)),d=!0)}function p(t,n,a){var i=n._mentionedJids,l=n.actor,s=n.additionalTags,u=n.attachmentFbids,c=n.attachmentType,d=n.backend,p=n.ephemeralDurationInSec,_=n.hasReply,f=n.igdTargetType,g=n.initatingSource,h=n.isInstamadilloTTLC,y=n.messageSendDataclass,C=n.messagingThreadId,b=n.msgTtl,v=n.offlineThreadingId,S=n.sendType,R=n.source,L=n.threadKey,E=n.threadType;r("promiseDone")((async function(){await Promise.all([o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.participants).getKeyRange(L).filter(function(t){return!(e||(e=o("I64"))).equal(t.contactId,l)})),o("MultipleTabsLogger").hasMultipleTabs()]).then(function(i){var k=i[0],I=i[1];if(k==null){var T=o("LSPlatformLsInitLog").isPending();if(T&&a!==!0){m(t,n);return}a===!0&&r("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var D=k.map(function(t){return(e||(e=o("I64"))).to_string(t.contactId)}),x=o("LSMessagingThreadTypeUtil").isOneToOne(E)&&(k==null?void 0:k.length)===0;x&&D.push((e||(e=o("I64"))).to_string(l));var $=C!=null?C:(e||(e=o("I64"))).to_string(L),P=b!=null?(e||(e=o("I64"))).to_string((e||(e=o("I64"))).of_float(b)):void 0,N=[I===!0?19:null,p!=null?15:null,h===!0?37:null].filter(Boolean);($==null||$===""||(e||(e=o("I64"))).le(L,(e||(e=o("I64"))).zero))&&(n.waGroupJid!=null?r("FBLogger")("mw_log_send").mustfix("Thread FBID is null and recovered by chatJid in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(e||(e=o("I64"))).to_string(L),C,S):r("FBLogger")("mw_log_send").mustfix("Thread FBID is null in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(e||(e=o("I64"))).to_string(L),C,S)),r("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:s,backend:d,event_type:S,feature_tags:N,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:f,igd_verb:void 0,initiating_app_id:void 0,initiating_source:g,is_reply:_,message_attachment_fbids:u.map(String),message_id:void 0,message_send_dataclass_logged:y,message_type:c,messaging_thread_fbid:$,messaging_thread_type:(e||(e=o("I64"))).to_int32(E),msg_ttl:P,nav_chain:void 0,nonce:void 0,offline_threading_id:v,recipient_fbids:D,send_attribution:e.to_int32(R),send_attribution_raw:void 0,view_mode:void 0,wa_group_jid:n.waGroupJid}})})})())}l.log=p}),98);
__d("MAWCommonSetupBridge",["BroadcastChannelFallback","BrowserLockManager","CurrentAppID","CurrentUser","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWBridge","MAWChatJid","MAWCrossWorkerPortal","MAWCurrentUser","MAWDbMedia","MAWInit","MAWJobActionsV2","MAWMIC","MAWReportSendMessageSuccessResult","MAWThreadCutover","MAWThreadUtils","MWLogSend","ODS","Promise","QPLEvent","QPLUserFlow","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WAExceededStorageQuota","WAJids","cr:2691","gkx","justknobx","pageID","performanceAbsoluteNow","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=r("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),g=new Set([25312111,25311870]),h=new Map,y=new Map([[(_=o("MAWDbMedia")).MEDIA_TYPE.IMAGE,8],[_.MEDIA_TYPE.VIDEO,10],[_.MEDIA_TYPE.GIF,6],[_.MEDIA_TYPE.STICKER,4],[_.MEDIA_TYPE.PTT,11],[_.MEDIA_TYPE.DOCUMENT_FILE,9]]),C=new Set([25312150,25313100,1056840931]),b=function(){return(p||(p=r("performanceAbsoluteNow")))()-Date.now()},v=b();function S(e,t,n){return(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return o("MAWThreadCutover").isCutoverSecureThreadFromChatJid(a,e).then(function(e){r("QPLUserFlow").addAnnotations(t,{bool:{is_cutover:e}},{instanceKey:n})})})}var R=/[^a-zA-Z0-9._-]/g,L=/[.]+/g,E=/[\s_.-]+/g;function k(e){return e.replace(E,".").replace(R,"").replace(L,".")}var I={broadcastChannelFallback:function(t){var e=t.event,n=t.namespace;o("BroadcastChannelFallback").handleBroadcastChannelFallbackMessage(n,e)},handleMessageSendResult:function(t){t.success&&o("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResult(t.report)},log:function(t){var e=t.logLevel,n=t.logString,r=t.tags,a=r.length>0,i=""+(o("CurrentAppID").getAppID()||"unknown");switch(e){case"count":(u||(u=o("ODS"))).bumpEntityKey(3185,k("e2ee."+(a?r.join("."):n)),k("count."+(a?n+"."+i:i)),1),f.onReadyImmediately(function(e){var t=e.count;return t(n,r)});return;case"log":f.onReadyImmediately(function(e){var t=e.info;return t(n,r)});return;case"warn":f.onReadyImmediately(function(e){var t=e.warn;return t(n,r)});return;case"logRestricted":f.onReadyImmediately(function(e){var t=e.logRestricted;return t(n,r)});return;case"debug":break;case"error":break;default:break}},logError:function(t){var e=t.entriesToReport,n=t.framesToPop,r=t.logString,o=t.message,a=t.stack,i=t.tags;f.onReadyImmediately(function(t){var l=t.logError;return l(r,i,o,a,n,e)})},odsBumpEntityKey:function(t){var e=t.amount,n=t.entity,r=t.key;(u||(u=o("ODS"))).bumpEntityKey(3185,n,r+"."+(o("CurrentAppID").getAppID()||"unknown"),e)},onJobFinished:function(t){switch(t.type==="createGroup"&&t.originalArgs.key!=null&&o("MAWJobActionsV2").recentFinishedJobsCache.set(t.originalArgs.key,t.result),t.type){case"sendAppData":{var e,n=t.originalArgs,a=t.result;(e=n.args.contents.actions)==null||e.forEach(function(e){var t=e.messageAction;t==null||t.type!=="delete_for_me"||a.type!=="not_sent"||h.set(a.appDataExternalId,{chatJid:t.protocolMsgId.chat,externalId:t.protocolMsgId.externalId,type:"deleteMsgForMe"})});break}}if(t.type==="sendWrittenAppData"){var i=t.originalArgs.appDataExternalId,l=h.get(i);if(h.delete(i),l!=null&&l.type==="deleteMsgForMe"&&t.result.type==="success"){var u=l.chatJid,m=l.externalId,p=o("MAWThreadUtils").getLSThreadTypeFromJid(u);r("promiseDone")((s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){r("promiseDone")(o("MAWChatJid").toThreadKey(e.tables,u,"MAWCommonSetupBridge::sendWrittenAppData").then(function(t){o("MWLogSend").log(e,{actor:(c||(c=o("I64"))).of_string(o("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:25,backend:1,hasReply:!1,messagingThreadId:c.to_string(t),offlineThreadingId:m,sendType:3,source:(d||(d=o("LSIntEnum"))).ofNumber(r("LSMessagingThreadAttributionType").UNKNOWN),threadKey:t,threadType:p})}))}))}}},qplEvent:function(a){var t,i=a.action,l=a.annotations,s=a.debugInfo,u=a.error,c=a.event,d=a.instanceKey,p=a.performanceAndDateSkew,_=a.timeoutInMs,f=a.timestamp;if(!(!r("CurrentUser").isEmployee()&&g.has((m||(m=o("QPLEvent"))).getMarkerId(c)))){var h=d||0,y=l==null||(t=l.string)==null?void 0:t.jid,R=y!=null?o("WAJids").validateChatJid(y):void 0,L=C.has((m||(m=o("QPLEvent"))).getMarkerId(c))&&R!=null?S(R,c,h):(e||(e=n("Promise"))).resolve(),E=f!=null&&p!=null&&r("gkx")("8334")?f+p-v+b():f;switch(i.type){case"start":r("QPLUserFlow").start(c,{annotations:babelHelpers.extends({},l||{},{bool:babelHelpers.extends({},(l==null?void 0:l.bool)||{},{isArmadilloPublicLaunchUser:r("gkx")("23405"),isDev:0,isGifSearchEnbled:!0,isLockApiSupported:r("BrowserLockManager")!=null,isRestoreDBEnabled:r("gkx")("23906"),isTlcPublicUser:o("MAWCurrentUser").isTlcPublicUser(),s_pdb:r("gkx")("8483"),useSharedWorker:o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()})}),instanceKey:h,timeoutInMs:_,timestamp:E});break;case"success":{r("QPLUserFlow").addAnnotations(c,{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:h}),L.finally(function(){r("QPLUserFlow").endSuccess(c,{annotations:l,instanceKey:h,timestamp:E})});break}case"cancel":{r("QPLUserFlow").addAnnotations(c,{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:h}),L.finally(function(){r("QPLUserFlow").endCancel(c,{annotations:l,cancelReason:i.cancelReason,instanceKey:h,timestamp:E})});break}case"point":l&&r("QPLUserFlow").addAnnotations(c,l,{instanceKey:h}),(m||(m=o("QPLEvent"))).getMarkerId(c)===1056839232?o("MAWMIC").addPoint(i.name,E):r("QPLUserFlow").addPoint(c,i.name,{instanceKey:h,timestamp:E});break;case"annotations":r("QPLUserFlow").addAnnotations(c,l!=null?l:{},{instanceKey:h});break;case"failure":r("QPLUserFlow").addAnnotations(c,{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{failureReason:i.name}},{instanceKey:h}),L.finally(function(){r("QPLUserFlow").endFailure(c,i.name,{annotations:l,instanceKey:h,timestamp:E})});break;case"error":r("QPLUserFlow").markError(c,i.name,{debugInfo:s,error:u,instanceKey:h});break;default:throw r("FBLogger")("messenger_web").mustfixThrow("Bridge sends unreachable qplEvent action type")}}}},T=function(t,n){return t.push(n),t},D=function(t){var e=t.customizeEventHandlers,a=t.worker;o("MAWInit").MAWInit.logPoint("bridge_setup_start");var i=o("MAWBridge").getBridge();i.setHandlers("event",babelHelpers.extends({},I,e));var l=o("MAWCrossWorkerPortal").getOrCreateCrossWorkerPortal(i,["backend","kt","mps","waapi","ebsmapi"],T,{bridgeBatcherMaxTokens:Number.MAX_SAFE_INTEGER,portalCacheSize:r("justknobx")._("3092")});if(l.setPort(a),r("gkx")("3282")){var s=o("WADevToolsBridge").getDevToolBridge(),u=new MessageChannel,c=o("WACrossWorkerPortal").attachPortal(s,["backend"],T,r("pageID")),d=o("WACrossWorkerPortal").attachPortal(s,["devtool","mawDbDevTool"],T,r("pageID"));o("WADevToolMessageChannel").onCreateNewChannel(function(e){c.setPort(e.port1)}),d.setPort(u.port1),n("cr:2691")==null||n("cr:2691").connectAddonPort(u.port2),l.addListener(function(e,t){return s.fireAndForget("devtool","bridgeMessage",{direction:t==="outgoing"?"toWorker":"toMain",msg:e,ts:Date.now()},!0)})}return o("MAWMIC").addPoint("bridge_setup_done"),o("MAWInit").MAWInit.logPoint("bridge_setup_end"),i};l.MEDIA_TYPE_TO_ATTACHMENT_TYPE=y,l.initBridge=D}),98);
__d("MAWGetAttachmentTypeForSendWrittenMsg",["MAWCommonSetupBridge"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,a,i,l,s,u){if(a)return 43;if(e==="revokeMsg")return 26;if(i!=null)return i;if(n)return 3;if(r&&l===!1||s===!0)return 13;if(u===!0)return 6;var c=t!=null?o("MAWCommonSetupBridge").MEDIA_TYPE_TO_ATTACHMENT_TYPE.get(t):null;return c!=null?c:0}l.getAttachmentTypeForSendWrittenMsg=e}),98);
__d("MAWReportSendMessageSuccessResult",["BrowserLockManager","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWChatJid","MAWCurrentUser","MAWFrontendMediaUtils","MAWGetAttachmentTypeForSendWrittenMsg","MAWThreadUtils","MAWVault","MAWXMAUtils","MWLogSend","MultipleTabsLogger","URLMatcher","getErrorSafe","justknobx","promiseDone","shouldUseMAWSharedWorker"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;async function c(e,t){try{var n=await o("MAWChatJid").toThreadKey(e.tables,t,"MAWCommonSetupBridge::sendWrittenMsg");return n}catch(e){throw r("getErrorSafe")(e)}}function d(t,n){var a,i=t.externalId,l=null,d=!1,m=!1;switch(t.messageType){case"editMsg":d=!0;break;case"revokeMsg":i=t.referencedExternalId;break;case"sendMsg":m=t.specialTextSize!=null;break;case"reactionMsg":l=t.reaction!=null?20:27;break;case"bumpMsg":break;case"noteReplyMsg":break;case"sendPoll":break;case"fixMe":return;default:t.messageType}var p=null,_=t.isVideoGif;t.fileType!=null&&(p=o("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(t.fileType,void 0,void 0,_).mediaType);var f=t.xmaMessageType!=null,g=t.quote!=null||o("MAWXMAUtils").isXMAStoryReply(t.xmaMessageType),h=r("URLMatcher").match(o("MAWVault").unvault((a=t.content)!=null?a:"")),y=h!=null&&h.length>0,C=o("MAWGetAttachmentTypeForSendWrittenMsg").getAttachmentTypeForSendWrittenMsg(t.messageType,p,m,f,d,l,g,y,_),b=o("MAWThreadUtils").getLSThreadTypeFromJid(t.chatJid);r("promiseDone")((e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(async function(e){var a,l=(t==null?void 0:t.source)!=null?t.source:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessagingThreadAttributionType").UNKNOWN),d=await c(e,t.chatJid);o("MWLogSend").log(e,{actor:(u||(u=o("I64"))).of_string(o("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:C,backend:1,hasReply:g,initatingSource:t==null?void 0:t.initiatingSource,messageSendDataclass:n,messagingThreadId:u.to_string(d),msgTtl:(a=t.ephemeralSetting)==null?void 0:a.ephemeralExpirationInSec,offlineThreadingId:i,sendType:1,source:l,threadKey:d,threadType:b,waGroupJid:void 0})}))}function m(e){r("justknobx")._("154")&&o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&r("BrowserLockManager")!=null&&!o("MultipleTabsLogger").hasUniqueLock()||d(e)}l.reportSendMessageSuccessResultFn=d,l.reportSendMessageSuccessResult=m}),98);
__d("MAWMessageSendReporter",["FBLogger","MAWMarkMessageSendAsFailedLSDB","MAWReportSendMessageSuccessResult","MAWSetupWorkerAuxStateForLogging","MWLogSendToSentFailedError","QPLUserFlow","getErrorSafe","getSafeQplErrorMessage","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,a,i){var l=n.qplEventType,u=n.qplInstanceKey;try{var c=await t;if(c==null)return;if(c.success)c.value!=null?o("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResultFn(c.value,i):r("QPLUserFlow").addPoint(l,"no-op",{instanceKey:u}),r("QPLUserFlow").endSuccess(l,{instanceKey:u});else{var d,m,p,_=c.error.isRetriable===!0;r("MWLogSendToSentFailedError")({qplEventType:l,qplInstanceKey:u},c.error.type,void 0,c.error.errorCode,c.error.applicationErrorCode),r("QPLUserFlow").endFailure(l,c.error.type,{annotations:{bool:{isRetriable:(d=c.error.isRetriable)!=null?d:!1,workerTerminatedPermanently:o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},int:{errorCode:(m=c.error.errorCode)!=null?m:0},string:{details:(p=c.error.details)!=null?p:""},string_array:{worker_restart_msgs:o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:u}),s(e,_,a)}}catch(t){var f=r("getErrorSafe")(t);if(r("MWLogSendToSentFailedError")({qplEventType:l,qplInstanceKey:u},"runtime-failure",f),r("QPLUserFlow").endFailure(l,"runtime-failure",{annotations:{bool:{workerTerminatedPermanently:o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},string:{errorDescription:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(f)},string_array:{worker_restart_msgs:o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:u}),s(e,!1,a,f),r("FBLogger")("messenger_web").catching(f).mustfix("MAWMessageSendReporter"),typeof f=="object"){var g=String(f==null?void 0:f.message),h=String(f==null?void 0:f.messageParams),y=String(f==null?void 0:f.stack);r("FBLogger")("messenger_web").mustfix("Failed to send, e: %s. error params: %s. call stack: %s",g,h,y)}}}function s(e,t,n,a){if(e!=null){var i=e.chatJid,l=e.externalId;r("promiseDone")(o("MAWMarkMessageSendAsFailedLSDB").markMessageSendAsFailed(l,i,o("getSafeQplErrorMessage").getSafeQPLErrorMessage(a),n,t))}}l.MAWMessageSendReporter=e}),98);
__d("MAWMiActOnActThreadReadyWithoutValidator",["I64","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReadyInstrumentation","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState__DO_NOT_USE","MWFBLogger","emptyFunction","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWLogger().tags(["Occam","MiActMapping"]);async function d(t,n,a,i,l,d){var m=o("MAWMiActOnActThreadReadyInstrumentation").getOnActThreadReadyInstanceKey(a);o("MAWMiActOnActThreadReadyInstrumentation").startQPL(m,a,n,"onActThreadReady"),o("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"get_thread_lifecycle_state_by_thread_key_start");var p=d||await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(t,n,a);switch(o("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(m,"get_thread_lifecycle_state_by_thread_key_end"),o("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(m,{string:{threadState:p.type}}),p.type){case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:return c.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"])),a,p.type,(u||(u=o("I64"))).to_string(n)),o("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(m),i(n,p.jid);case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.THREAD_KEY_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:return c.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Enqueue by thread key: ",", threadState: ",", threadKey: "," on act thread ready"])),a,p.type,(u||(u=o("I64"))).to_string(n)),o("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(n,i,l!=null?l:r("emptyFunction"),a,p.type,m);case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw o("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(m,"jid_missing_mi_or_mapping_state"),c.mustfixThrow("Unhandled onActThreadReady for threadKey:%s, thread action: %s",(u||(u=o("I64"))).to_string(n),a);default:throw p.type,c.mustfixThrow(" Unreachable miActThreadState.type: %s",p.type)}}function m(e,t,n){return new Promise(function(o,a){d(e,t,n,function(e,t){return o({chatJid:t,serverThreadKey:e}),Promise.resolve()},function(e){return a(r("err")("Timed out waiting for ACT thread to be ready in %s. Thread state: %s",n,e))}).catch(function(){return a()})})}l.onActThreadReadyWithoutValidator=d,l.waitForACTThreadReadyWithoutValidator=m}),98);
__d("MAWMiActOnActThreadReady",["MAWMIC","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnActThreadReadyWithoutValidator","cr:7542","err","promiseDone","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,r,a,i){var l=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByThreadKey(e,t,r),s=l.type,u=async function(i,l){return n("cr:7542")&&await n("cr:7542").load().then(function(n){var o=n.validateActThreadReady;return o({chatJid:l,description:r,initialMappingStateType:s,tables:e,threadKey:t})}),a==null?void 0:a(i,l)};return o("MAWMiActOnActThreadReadyWithoutValidator").onActThreadReadyWithoutValidator(e,t,r,u,i,l)}function s(t,n,a,i){return new Promise(function(l,s){e(t,n,a,function(e,t){return l({chatJid:t,serverThreadKey:e}),Promise.resolve()},function(e){s(r("err")("Timed out waiting for ACT thread to be ready in %s. Thread state: %s",a,e)),r("promiseDone")(o("MAWMIC").getState().then(function(e){i!=null&&o("sendToSentQPLLogger").addSendToSentAnnotations(i,{string:{mic_state:e}})}))}).catch(function(){return s()})})}l.onActThreadReady=e,l.waitForACTThreadReady=s}),98);
__d("LSUpdateDisappearingSettingInClientThreadsTable.nop",["I64","LSMessagingThreadAttributionType","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","MAWJids","MAWMessageSendReporter","MAWMiActOnActThreadReady","ReQL","WATimeUtils","promiseDone","qpl","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=async function(n,a,i){var t=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(n.threads).getKeyRange(i));if(t!=null)return o("MAWMiActOnActThreadReady").onActThreadReady(n,i,"LSUpdateDisappearingSettingInClientThreadsTable.nop",function(n,a){var i,l,s={ephemeralExpirationInSec:(e||(e=o("I64"))).to_int32((i=t.disappearingSettingTtl)!=null?i:(e||(e=o("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:o("WATimeUtils").castMilliSecondsToUnixTime(e.to_float((l=t.disappearingSettingUpdatedTs)!=null?l:(e||(e=o("I64"))).zero))};if(o("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:a,settings:s}),t.disappearingSettingUpdatedBy!=null){var u=(e||(e=o("I64"))).to_string(t.disappearingSettingUpdatedBy),c=u===r("MAWEphemeralMsgAutoResetSystemId");if(u===o("MAWCurrentUser").getID()||c){var d=function(t){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","setEphemeralSettingsFromFrontend",{chatJid:a,ephemeralExpirationInSec:s.ephemeralExpirationInSec,ephemeralLastUpdatedOrSetTimestamp:s.ephemeralLastUpdatedOrSetTimestamp,isEphemeralSettingReset:c,s2sInstanceKey:t})},m=o("sendToSentQPLLogger").markSendToSentStartWithAnnotation(t,{isEphemeralSetting:!0},r("LSMessagingThreadAttributionType").UNKNOWN);r("promiseDone")(o("MAWMessageSendReporter").MAWMessageSendReporter(null,d(m),{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:m}))}else o("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingsFromMI",{author:o("MAWJids").toUserJid(u),chatJid:a,ephemeralExpirationInSec:s.ephemeralExpirationInSec,ephemeralLastUpdatedOrSetTimestamp:s.ephemeralLastUpdatedOrSetTimestamp,fromWAI:!1,isEphemeralSettingReset:!1,serverTs:s.ephemeralLastUpdatedOrSetTimestamp})}return Promise.resolve()})};s.__nop_name__="LSInsertAdminMessageInClientMessages",l.default=s}),98);
__d("LSUpdateThreadDisappearingSetting",["LSArrayGetObjectAt","LSDeserializeFromJsonIntoDictionaryV2.nop","LSUpdateDisappearingSettingInClientThreadsTable.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return r[0]=new t.Map,r[0].set("ephemerality_type",void 0),t.i64.neq(e[1],void 0)?r[1]=t.i64.to_string(e[1]):r[1]=void 0,r[0].set("ephemeral_options_duration_in_sec",r[1]),t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,o){var a=e.done,i=e.value;return a?r[2]=void 0:(o=i.item,t.sequence([function(e){return r[8]=o.metadata,r[8]!==void 0?t.sequence([function(e){return t.nativeOperation(n("LSDeserializeFromJsonIntoDictionaryV2.nop"),r[8]).then(function(e){var t;return t=e,r[9]=t[0],t})},function(e){return r[10]=new t.Map,r[11]=r[9].keys(),r[12]=t.i64.of_int32(r[11].length),t.i64.gt(r[12],t.i64.cast([0,0]))?t.loopAsync(r[12],function(e){return r[13]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[11],r[13]).then(function(e){var t;return t=e,r[14]=t[0],r[15]=t[1],t})},function(e){return r[16]=r[9].get(r[14]),r[10].set(r[14],r[16])}])}):t.resolve()},function(e){return r[7]=r[10]}]):t.resolve((r[9]=new t.Map,r[7]=r[9]))},function(e){return r[2]=r[7]}]))})},function(n){return r[2]?r[4]=!1:r[4]=!0,r[4]||r[2].set("message_ephemerality_setting",r[0]),r[2]?r[5]=!1:r[5]=!0,r[5]?r[6]=void 0:(r[7]=t.toJSON(r[2]),r[6]=r[7]),t.forEach(t.filter(t.db.table(9).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(n.syncGroup,t.i64.cast([0,95]))}),function(t){var n=t.update,o=t.item;return n({disappearingSettingTtl:e[1],disappearingSettingUpdatedTs:e[2],disappearingSettingUpdatedBy:e[3],metadata:r[6]})})},function(r){return t.nativeOperation(n("LSUpdateDisappearingSettingInClientThreadsTable.nop"),e[0])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxUpdateThreadDisappearingSettingStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSWriteMinosPublicKeyV1.nop",["EBMinosInterfaceTypes","EBMinosQplFlow","FBLogger","I64","Promise","WALongInt","WATimeUtils","cr:12497","getErrorSafe","getSafeQplErrorMessage","gkx","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("requireDeferred")("EBWriteMinosMailboxKeysToCache").__setRef("LSWriteMinosPublicKeyV1.nop"),d=function(a,i,l,d,m,p,_,f,g,h,y,C){if(!(r("gkx")("20911")||r("gkx")("17219"))||_==null)return(u||(u=n("Promise"))).resolve();var t=o("EBMinosQplFlow").startMinosWritePublicKeysQpl();return n("cr:12497")!=null&&t.addAnnotations({bool:{isBackendSetupInProgress:n("cr:12497").isBackendSetupInProgress(),isBackendSetupSuccessful:n("cr:12497").isBackendSetupSuccessful()}}),d==null||m==null||p==null||f==null?(t.endFailWithError("missing_required_values"),(u||(u=n("Promise"))).resolve()):(t.addPoint("mailbox_to_cache_deferred_load_start"),r("promiseDone")(c.load().then(function(e){var n;return t.addPoint("mailbox_to_cache_deferred_load_end"),e.writeMinosMailboxKeysToCache({contactId:(n=o("EBMinosInterfaceTypes")).unsafeCastToUserFbId((s||(s=o("I64"))).to_string(l)),encryptionPublicKey:o("EBMinosInterfaceTypes").unsafeCastToMailboxEncryptionPK(p),epochAnonId:o("EBMinosInterfaceTypes").unsafeCastToBase64StringIntToEpochNumber(d),epochHead:o("EBMinosInterfaceTypes").unsafeCastToEpochHead(_),epochHeadCreationTime:o("EBMinosInterfaceTypes").unsafeCastToEpochCreationTime(o("WATimeUtils").castLongIntToUnixTime(o("WALongInt").decimalStringToLongInt(s.to_string(m)))),publicKeyFbid:o("EBMinosInterfaceTypes").unsafeCastToMailboxFbId(o("WALongInt").decimalStringToLongInt(s.to_string(f))),qplFlow:t})}),function(){},function(n){var a=r("getErrorSafe")(n);t.endFailWithError("runtime-error",o("getSafeQplErrorMessage").getSafeQPLErrorMessage(a)),r("FBLogger")("wmi").MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web minos] Error writing minos public keys to cache: ",""])),a.message)}),(u||(u=n("Promise"))).resolve())};d.__nop_name__="LSWriteMinosPublicKey",l.default=d}),98);
__d("MAWBridgeFireAndForgetEagerly",["MAWBridgeFireAndForget","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve({fireAndForget:o("MAWBridgeFireAndForget").fireAndForget})};l.load=s}),98);
__d("MAWDeanonDataCheck",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=t;return n||(r=t+1),e.length>=r}i.hasEnoughDeanonData=e}),66);
__d("MAWEBMsgsWithSameSortOrderFix",["MAWMessagesCompare","MAWMessagesDirection","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n;if(t==null)return e;var o=(n=r("qex")._("23"))!=null?n:0;return e+o}function s(e){var t=e.direction,n=e.includeReferenceExternalId,a=e.msgCount,i=e.referenceExternalId,l=e.sourceMsgs;if(!r("qex")._("18"))return l;var s=d(l,t),p=o("MAWMessagesCompare").getSortComparisonFunctionForDirection(s),_=l.toSorted(p),f=_.findIndex(function(e){return e.externalId===i});if(m({fetchDirection:t,msgsDirection:s}))return f=u({includeReferenceExternalId:n,referenceMsgIndex:f}),_.slice(f,f+a);f=c({includeReferenceExternalId:n,msgsCount:_.length,referenceMsgIndex:f});var g=Math.max(0,f-a+1);return _.slice(g,f+1)}function u(e){var t=e.includeReferenceExternalId,n=e.referenceMsgIndex;return n===-1?0:t?n:n+1}function c(e){var t=e.includeReferenceExternalId,n=e.msgsCount,r=e.referenceMsgIndex;return r===-1?n-1:t?r:r-1}function d(e,t){var n,r,a=(n=e.find(function(e){return e.sortOrderMs!=null}))==null?void 0:n.sortOrderMs,i=(r=e.findLast(function(e){return e.sortOrderMs!=null}))==null?void 0:r.sortOrderMs;return a==null||i==null?o("MAWMessagesDirection").translateMawDirectionToMwpDirection(t):a>=i?"desc":"asc"}function m(e){var t=e.fetchDirection,n=e.msgsDirection;return t==="before"&&n==="desc"||t==="after"&&n==="asc"}l.overFetchEBMsgsIfNeeded=e,l.fixEBMessagesPagination=s}),98);
__d("MAWEBDeanonFetch",["EBMessageMetadataQuery","FBLogger","MAWEBMsgsWithSameSortOrderFix","WAJids","WAResultOrError","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e.chatJid,n=e.count,a=e.direction,i=e.includeReferenceTimestamp,l=e.referenceExternalId,s=e.referenceTimestampMs,u=e.sortFn;try{var c=o("MAWEBMsgsWithSameSortOrderFix").overFetchEBMsgsIfNeeded(n,l),d=await o("EBMessageMetadataQuery").messageMetadataQueryForMainThreadMAWDeanon({direction:a,includeAnonymizedMessages:!1,numberOfMessages:c,referenceTimestamp:s,threadId:o("WAJids").threadIdForChatJid(t)});if(d.success===!1)return o("WAResultOrError").DEPRECATED_makeError("error",d.payload);var m=d.value.messages,p=m.reduce(function(e,t){var n=t.offlineThreadingId,r=t.sortOrderMs;if(n==null||r==null)return e;var o=Number(r);return i!==!0&&o===s||e.push({externalId:n,msgType:"unknown-deanon",sortOrderMs:o}),e},[]),_=o("MAWEBMsgsWithSameSortOrderFix").fixEBMessagesPagination({direction:a,includeReferenceExternalId:i,msgCount:n,referenceExternalId:l,sourceMsgs:p}),f=u==null?_:_.sort(u);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web_missing_messages").catching(g).mustfix("Deanon GraphQL fails with error"),o("WAResultOrError").DEPRECATED_makeError("request-error",g)}}l.fetchMessagesMetadataFromEBDeanon=e}),98);
__d("MAWFetchExternalIdUsingCache",["FBLogger","LSDatabaseSingleton","MAWBridgeSendAndReceive","MAWDbMsg","WAStanzaUtils","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map;async function u(e){if(e==="")return null;var t=d(e);if(t!=null)return t;if(t=await c(e),t!=null)return m(e,t),t;try{var n=o("MAWDbMsg").toMsgId(e);if(n==null)return r("FBLogger")("messenger_web").warn("[MAWFetchProtocolMessageIdUsingCache] failed fetch external id, invalid msgId %s",e),null;var a=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:n});return(a==null?void 0:a.externalId)==null?(r("FBLogger")("messenger_web").warn("[MAWFetchProtocolMessageIdUsingCache] external id for msgId %s not found",e),null):(m(e,a.externalId),a.externalId)}catch(e){var i=r("getErrorSafe")(e);throw r("FBLogger")("messenger_web").catching(i).mustfix("[MAWFetchProtocolMessageIdUsingCache] getProtocolMsgIdByMsgId bridge call failed"),i}}async function c(t){var n=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await n.tables.messages.index("messageId").get(t);return r!=null?o("WAStanzaUtils").toStanzaId(r.offlineThreadingId):null}function d(e){return s.get(e)}function m(e,t){return e===""?!1:(s.set(e,t),!0)}l.fetchExternalIdUsingCache=u,l.populateExternalIdCache=m}),98);
__d("MAWMessagesPaginationUtils",["FBLogger","MAWFetchExternalIdUsingCache","MAWMessagesDirection","WAStanzaUtils","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWMessagesDirection").getRangeMsgIdForDirection(e,t);return u(n)}function s(e){r("qex")._("18")&&e.forEach(function(e){return o("MAWFetchExternalIdUsingCache").populateExternalIdCache(e.msgId.toString(),o("WAStanzaUtils").toStanzaId(e.externalId))})}async function u(e){if(e==null||e===""||!r("qex")._("18"))return null;var t=await o("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(e);return t==null&&r("FBLogger")("messenger_web").mustfix("[MAWMessagesPaginationUtils] getExternalIdByMsgId for msgId: %s returned null",e),t}function c(e,t,n){return e===t?Promise.resolve(n):d(t)}async function d(e){if(!r("qex")._("18"))return{maxExternalId:null,minExternalId:null};var t=await u(e.minMessageId),n=await u(e.maxMessageId);return{maxExternalId:n==null?void 0:n.toString(),minExternalId:t==null?void 0:t.toString()}}l.getRangeExternalIdForDirection=e,l.populateExternalIdCache=s,l.getExternalIdByMsgId=u,l.getMessagesRangesV2ExternalIdsIfChanged=c,l.getMessagesRangesV2ExternalIds=d}),98);
__d("MAWFetchEBDeanonMessagesMetadata",["DateConsts","EBFormatUtils","FBLogger","I64","MAWEBDeanonFetch","MAWMessagesDirection","MAWMessagesPaginationUtils","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e,s=100,u="timeout",c=10*o("DateConsts").MS_PER_SEC;async function d(t){var n=t.chatJid,a=t.direction,i=t.includeReferenceTimestamp,l=t.logger,d=t.range,m=t.sortFn;r("FBLogger")("messenger_web").info("EBMessageRangeDataSource: Issuing fetch request to EB Deanon API"),l==null||l.markQPLPoint("eb_fetch_deanon_start");var p=o("MAWMessagesDirection").translateMwpDirectionToMawDirection(a),_=(e||(e=o("I64"))).to_float(o("EBFormatUtils").adjustTs(o("MAWMessagesDirection").getI64RangeTimestampForDirection(a,d),p)),f=await o("MAWMessagesPaginationUtils").getRangeExternalIdForDirection(a,d);return Promise.race([o("MAWEBDeanonFetch").fetchMessagesMetadataFromEBDeanon({chatJid:n,count:s,direction:p,includeReferenceTimestamp:i,referenceExternalId:f,referenceTimestampMs:_,sortFn:m}),new Promise(function(e){return window.setTimeout(function(){return e(o("WAResultOrError").makeError(u))},c)})]).then(function(e){return l==null||l.markQPLPoint("eb_fetch_deanon_end"),e})}l.fetchEBDeanonMessagesMetadata=d}),98);
__d("MAWSubscribeToLSTruncateMetadataThreads",["I64","Int64Hooks","MAWMiActMappingTableAPI","gkx","promiseDone","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n){return r("gkx")("9855")?o("MAWMiActMappingTableAPI").subscribeToMappingDeletion(t,n):function(){}};function u(t,n){var a=o("react-compiler-runtime").c(5),i=r("useAsyncReStore")(),l,u;a[0]!==i||a[1]!==n||a[2]!==t?(l=function(){if(r("gkx")("9855")){var a=i.then(function(r){return s(r,function(r,a){(e||(e=o("I64"))).equal(a,t)&&n()})});return(function(){r("promiseDone")(a,c)})}},u=[t,i,n],a[0]=i,a[1]=n,a[2]=t,a[3]=l,a[4]=u):(l=a[3],u=a[4]),o("Int64Hooks").useEffectInt64(l,u)}function c(e){return e()}l.subscribeToLSTruncateMetadataThreads=s,l.useLSTruncateMetadataThread=u}),98);
__d("MAWFetchDeanonMetadataUsingCache",["I64","MAWDeanonDataCheck","MAWFetchEBDeanonMessagesMetadata","MAWMessagesCompare","MAWMessagesDirection","MAWSubscribeToLSTruncateMetadataThreads","WAJids","WAResultOrError","WATagsLogger","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("WATagsLogger").TAGS(["MAWFetchDeanonMetadataUsingCache"]),d=new Map,m=r("justknobx")._("3763"),p=new Map,_=null;async function f(t){var n=t.chatJid,r=t.db,a=t.direction,i=t.isFirstPage,l=t.logger,s=t.pageSize,u=t.range,d=t.sortFn;h(r);var m=g(n,a,l,u);if(m!=null&&(l==null||l.addQPLAnnotations({bool:{is_first_page:i},int:{deanon_cached_data_size:m==null?void 0:m.length}}),o("MAWDeanonDataCheck").hasEnoughDeanonData(m,s,i)))return c.LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Using cached Deanon messages metadata for comparison to local data"]))),l==null||l.addQPLAnnotations({bool:{is_deanon_cached_data_used:!0}}),o("WAResultOrError").makeResult(m);var p=await o("MAWFetchEBDeanonMessagesMetadata").fetchEBDeanonMessagesMetadata({chatJid:n,direction:a,includeReferenceTimestamp:!i,logger:l,range:u,sortFn:d});return p.success===!0&&(l==null||l.addQPLAnnotations({bool:{is_deanon_data_fetched:!0}}),C(n,a,l,p.value,u)),p}function g(e,t,n,r){var a;n==null||n.markQPLPoint("deanon_cache_fetch_start"),v(e,t);var i=(a=d.get(o("WAJids").threadIdForChatJid(e)))==null?void 0:a.get(t);if(i==null)return null;var l=o("MAWMessagesDirection").getI64RangeTimestampForDirection(t,r),s=(u||(u=o("I64"))).ge(l,i.minTimestampMs)&&(u||(u=o("I64"))).le(l,i.maxTimestampMs);if(!s)return null;var c=o("MAWMessagesDirection").switchOnMWPMessagesDirection(t,{asc:i.msgsMetadata.findIndex(function(e){return(u||(u=o("I64"))).ge(u.of_float(e.sortOrderMs),l)}),desc:i.msgsMetadata.findIndex(function(e){return(u||(u=o("I64"))).le(u.of_float(e.sortOrderMs),l)})}),m=i.msgsMetadata.slice(c);return n==null||n.markQPLPoint("deanon_cache_fetch_end"),m}function h(e){_==null&&(_=o("MAWSubscribeToLSTruncateMetadataThreads").subscribeToLSTruncateMetadataThreads(e,function(e,t){var n=(u||(u=o("I64"))).to_string(e);d.delete(n),p.delete(n)}))}function y(e,t,n,r){var a,i=o("WAJids").threadIdForChatJid(e),l=(a=d.get(i))!=null?a:new Map;l.set(t,{maxTimestampMs:r.max,minTimestampMs:r.min,msgsMetadata:n}),d.set(i,l)}function C(e,t,n,r,a){if(r.length!==0){n==null||n.markQPLPoint("deanon_cache_replace_start");var i=(u||(u=o("I64"))).of_float(r[r.length-1].sortOrderMs),l=o("MAWMessagesDirection").switchOnMWPMessagesDirection(t,{asc:{max:i,min:a.maxTimestampMs},desc:{max:a.minTimestampMs,min:i}});y(e,t,r,l),n==null||n.markQPLPoint("deanon_cache_replace_end")}}function b(e,t){if(t.length!==0){for(var n=[].concat(t).sort(o("MAWMessagesCompare").getSortComparisonFunctionForDirection("desc")),r=0,a=n.length-1;r<a&&n[r].sortOrderMs===n[r+1].sortOrderMs;)r++;if(r!==a){var i=(u||(u=o("I64"))).of_float(n[a].sortOrderMs);p.set(u.to_string(e),{insertTime:Date.now(),minTimestampMs:i,msgsMetadata:n.slice(r)})}}}function v(e,t){var n=S(e,t);n!=null&&(c.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Using init-sync deanon data for ",""])),e),y(e,t,n.msgsMetadata,{max:(u||(u=o("I64"))).max_int,min:n.minTimestampMs}),p.delete(o("WAJids").threadIdForChatJid(e)))}function S(e,t){if(t==="desc"){var n=Date.now(),r=p.get(o("WAJids").threadIdForChatJid(e));if(!(r!=null&&n-r.insertTime>m))return r}}l.MAWFetchDeanonMetadataUsingCache=f,l.fetchDeanonDataFromCache=g,l.initDeanonCacheDescForThread=b}),98);
__d("MWLSContactTypeExactUtils",["I64","LSContactTypeExact","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").IG_USER))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").IG_BUSINESS_USER))?!0:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").IG_CREATOR_USER))}l.isIgContact=u}),98);/*FB_PKG_DELIM*/
__d("ReStorePersistence",["FBLogger","JSONStringifyBigIntSafe","ReStoreCommonUtils","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["dir"],s,u,c=d();function d(){return"__ReStore_DELETED__"}var m={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},p=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state"]),_=16,f=64,g=64,h=Math.floor(_/2),y=Math.floor(f/2),C=Math.floor(g/2);function b(e){if(e==null)return e;var t=Object.getOwnPropertyNames(e),n={},r,o;for(r=0;r<t.length;r++)o=e[t[r]],n[t[r]]=o;return n}function v(e,t){return t===void 0&&(t=c),e===t}function S(e,t,n){for(var r=0,a=e.length-1;r<=a;){var i=r+a>>1;(n[0]?(u||(u=o("ReStoreKeyComparer"))).compareKey(e[i],t)<0:(u||(u=o("ReStoreKeyComparer"))).compareKey(e[i],t)<=0)?r=i+1:a=i-1}var l=[r,a][n[1]];return l===e.length?-1:l}var R=(function(){function t(e,t,n,r,o,a){this.$2=t,this.$3=n,this.$1=e,this.$4=r,this.$5=o,this.$6=a}var n=t.prototype;return n.$7=function(t){return t==null?"root":"index("+t+")"},n.$8=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{children:[].concat(t.children),isLeaf:!0,keys:[].concat(t.keys),nextId:t.nextId,prevId:t.prevId}})},n.$9=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{children:[].concat(t.children),isLeaf:!1,keys:[].concat(t.keys)}})},n.$10=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{headId:t.headId,rootId:t.rootId,tailId:t.tailId}})},n.$11=function(t,n){if(!t.length)return[0,0];var e=S(t,n,m.gte);return e===-1?[t.length,0]:(u||(u=o("ReStoreKeyComparer"))).compareKey(t[e],n)===0?[e,1]:[e,0]},n.$12=function*(t,n,o,a){for(var e=yield*this.$13(t,n),i=e,l=n,s=-1;!i.isLeaf;){if(a==null||a.push([i,l,s]),i.keys==null){if(p.has(this.$2)){var u,c;(u=(c=this.$4).logError)==null||u.call(c,this.$2,this.$5,"dbCorruption",{})}throw r("FBLogger")("messenger_web").mustfixThrow("Encountered not leaf node without keys")}s=S(i.keys,o,m.gt),s===-1&&(s=i.keys.length),l=i.children[s],i=yield*this.$13(t,l)}return[i,l,s]},n.$14=function*(t,n){this.$3();var e=this.$1.get(n);if(!v(e)){if(e!==void 0)return e;var o=this.$4.get(t,this.$2,n,this.$5);return(s||(s=r("isPromise")))(o)?yield o:o}},n.$13=function*(t,n){var e=yield*this.$14(t,n);if(e===void 0){var o,a,i=this.$1.get(n);throw(o=(a=this.$4).logError)==null||o.call(a,this.$2,this.$5,"dbCorruption",{deletedInThisTxn:v(i)?"true":"false",id:r("JSONStringifyBigIntSafe")(n)||""}),r("FBLogger")("messenger_web").mustfixThrow("value not found")}return e},n.$15=function*(t,n){var e=yield*this.$14(t,o("ReStorePersistenceIds").idForNextId),r=e!=null?e:0;return this.$1.set("nextId",r+1),this.$1.set(r,n),r},n.$16=function(t,n){this.$3(),this.$1.set(t,n)},n.incrementSeed=function*(t,n){var e=yield*this.$14(t,"seed"),r=e!=null?e:0;return n===void 0?(this.$1.set("seed",r+1),r):(n>=r&&this.$1.set("seed",n+1),n)},n.readData=function*(t,n){return yield*this.$14(t,n)},n.$17=function*(t,n,r){var e=yield*this.$14(t,this.$7(n));if(e!=null){var a=yield*this.$12(t,e.rootId,r),i=a[0],l=S(i.keys,r,m.gte);if(!(l===-1||(u||(u=o("ReStoreKeyComparer"))).compareKey(i.keys[l],r)!==0))return i.children[l]}},n.tableGet=function*(t,n){var e=yield*this.$17(t,void 0,n);if(e!==void 0)return yield*this.$18(t,e)},n.$18=function*(t,n){return Array.isArray(n)?n[0]:yield*this.$13(t,n)},n.$19=function*(t,n,o,a){if(Array.isArray(n)){var e=yield*this.$17(t,void 0,n);if(e==null)throw r("gkx")("3570")&&this.$6(o,a,this.$2),r("FBLogger")("messenger_web").mustfixThrow("Encountered value in index %s but not found in table %s",o,this.$2);return yield*this.$18(t,e)}return yield*this.$13(t,n)},n.indexGet=function*(t,n,r){var e=yield*this.$17(t,n,r);if(e!=null)return yield*this.$19(t,e,n,r)},n.getId=function*(t,n){var e=yield*this.$17(t,void 0,n);return Array.isArray(e)?n:e},n.tableSet=function*(t,n,r){var e,o=this.$4.shouldInline(this.$2,r),a=this.$7(),i=yield*this.$14(t,a);if(i==null){o||(e=yield*this.$15(t,r));var l={children:[e!=null?e:[r]],isLeaf:!0,keys:[n]},s=yield*this.$15(t,l);return this.$16(a,{headId:s,rootId:s,tailId:s}),[e!=null?e:n,!1]}var u=[],d=yield*this.$12(t,i.rootId,n,u),m=d[0],p=d[1],_=this.$11(m.keys,n),f=_[0],g=_[1],h=!1;if(g===1){var y=m.children[f];if(!Array.isArray(y))if(h=!0,o)this.$1.set(y,c);else return this.$16(y,r),[y,!1]}var C=this.$8(m,p);return o||(e=yield*this.$15(t,r)),g===0&&C.keys.splice(f,0,n),C.children.splice(f,g,e!=null?e:[r]),yield*this.$20(t,C,p,u,i,a,!0),[e!=null?e:n,g===1&&!(o&&!h)]},n.indexSet=function*(t,n,r,o){var e=this.$7(n),a=yield*this.$14(t,e);if(a==null){var i={children:[o],isLeaf:!0,keys:[r]},l=yield*this.$15(t,i);this.$16(e,{headId:l,rootId:l,tailId:l});return}var s=[],u=yield*this.$12(t,a.rootId,r,s),c=u[0],d=u[1],m=this.$11(c.keys,r),p=m[0],_=m[1];if(!(_===1&&c.children[p]===o)){var f=this.$8(c,d);f.keys.splice(p,_,r),f.children.splice(p,_,o),yield*this.$20(t,f,d,s,a,e,!1)}},n.$20=function*(t,n,r,o,a,i,l){for(var e=n,s,u,c,d=r;e.keys.length>=(e.isLeaf?l?_:f:g);e=s,d=c){var m,p=(m=o.pop())!=null?m:[];u=p[0],c=p[1],c!=null?s=this.$9(u,c):(s={children:[d],isLeaf:!1,keys:[]},this.$10(a,i).rootId=yield*this.$15(t,s));var h=Math.floor(e.keys.length/2),y=void 0;if(e.isLeaf){var C={children:e.children.slice(h),isLeaf:!0,keys:e.keys.slice(h),nextId:e.nextId,prevId:d},b=y=e.nextId=yield*this.$15(t,C),v=C.nextId;v?this.$8(yield*this.$13(t,v),v).prevId=b:this.$10(a,i).tailId=y}else y=yield*this.$15(t,{children:e.children.slice(h+1),isLeaf:!1,keys:e.keys.slice(h+1)});var S=this.$11(s.keys,e.keys[h]),R=S[0],L=S[1];s.keys.splice(R,L,e.keys[h]),s.children.splice(R+1,0,y),e.keys.length=h,e.children.length=h+(e.isLeaf?0:1)}},n.tableDelete=function*(t,n){var e=yield*this.$21(t,void 0,n);return e==null?!1:(Array.isArray(e)||(this.$3(),this.$1.set(e,c)),!0)},n.indexDelete=function*(t,n,r){return(yield*this.$21(t,n,r))!=null},n.$21=function*(t,n,a){var e=this.$7(n),i=yield*this.$14(t,e);if(i!=null){var l=[],s=yield*this.$12(t,i.rootId,a,l),d=s[0],_=s[1],f=s[2],g=this.$8(d,_),b=S(d.keys,a,m.gte);if(!(b===-1||(u||(u=o("ReStoreKeyComparer"))).compareKey(d.keys[b],a)!==0)){var v=g.children[b];g.keys.splice(b,1),g.children.splice(b,1);for(var R=g,L=_,E=f,k,I,T,D;R.keys.length<(R.isLeaf?n==null?h:y:C)&&l.length;x=[k,T,D],R=x[0],L=x[1],E=x[2],x){var x,$=l.pop();I=$[0],T=$[1],D=$[2],k=this.$9(I,T);var P=[[{nodeId:k.children[E-1]},{node:R,nodeId:L},E-1],[{node:R,nodeId:L},{nodeId:k.children[E+1]},E]].filter(function(e){var t=e[0],n=e[1];return t.nodeId!==void 0&&n.nodeId!==void 0});for(var N of P){var M=N[0],w=N[1],A=N[2],F=M.node=M.node||(yield*this.$13(t,M.nodeId)),O=w.node=w.node||(yield*this.$13(t,w.nodeId)),B=R.isLeaf?n==null?h:y:C;if(F.keys.length+w.node.keys.length>=B*2){if(R.isLeaf){var W=this.$8(F,M.nodeId),q=this.$8(O,w.nodeId),U=[].concat(W.children,q.children),V=[].concat(F.keys,O.keys);W.children=(q.children=U).splice(0,B),W.keys=(q.keys=V).splice(0,B),k.keys[A]=V[0]}else{var H=this.$9(F,M.nodeId),G=this.$9(O,w.nodeId),z=[].concat(H.children,G.children),j=[].concat(H.keys,[k.keys[A]],G.keys);H.children=(G.children=z).splice(0,B+1),k.keys[A]=j.splice(B,1)[0],H.keys=(G.keys=j).splice(0,B)}return v}}for(var K of P){var Q=K[0],X=K[1],Y=K[2];if(R.isLeaf){var J=this.$8(Q.node,Q.nodeId),Z=this.$8(X.node,X.nodeId);J.children=[].concat(J.children,Z.children),J.keys=[].concat(J.keys,Z.keys),Z.keys.length=0;var ee=Z.nextId;if(ee){var te=this.$8(yield*this.$13(t,ee),ee);te.prevId=Q.nodeId}else this.$10(i,e).tailId=Q.nodeId;J.nextId=Z.nextId}else{var ne=this.$9(Q.node,Q.nodeId),re=this.$9(X.node,X.nodeId);ne.children=[].concat(ne.children,re.children),ne.keys=[].concat(ne.keys,[k.keys[Y]],re.keys)}k.keys.splice(Y,1),k.children.splice(Y+1,1),this.$1.set(X.nodeId,c);break}}var oe=yield*this.$13(t,i.rootId);if(!oe.keys.length&&oe.children.length){if(oe.isLeaf){if(p.has(this.$2)){var ae,ie;(ae=(ie=this.$4).logError)==null||ae.call(ie,this.$2,this.$5,"dbCorruption",{})}throw r("FBLogger")("messenger_web").mustfixThrow("cannot be leaf")}this.$1.set(i.rootId,c),this.$10(i,e).rootId=oe.children[0]}return v}}},n.btreeIterator=function(n,a,i){var t=i===void 0?{}:i,l=t.dir,s=l===void 0?"asc":l,c=babelHelpers.objectWithoutPropertiesLoose(t,e);function d(){if(s==="asc"){if(Object.prototype.hasOwnProperty.call(c,"gt"))return c.gt;if(Object.prototype.hasOwnProperty.call(c,"gte"))return c.gte}else{if(Object.prototype.hasOwnProperty.call(c,"lt"))return c.lt;if(Object.prototype.hasOwnProperty.call(c,"lte"))return c.lte}}function p(e){return s==="asc"?Object.prototype.hasOwnProperty.call(c,"gt")?S(e.keys,c.gt,m.gt):Object.prototype.hasOwnProperty.call(c,"gte")?S(e.keys,c.gte,m.gte):0:Object.prototype.hasOwnProperty.call(c,"lt")?S(e.keys,c.lt,m.lt):Object.prototype.hasOwnProperty.call(c,"lte")?S(e.keys,c.lte,m.lte):e.keys.length-1}if(Object.prototype.hasOwnProperty.call(c,"gt")&&Object.prototype.hasOwnProperty.call(c,"gte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both greater than and greater than or equal");if(Object.prototype.hasOwnProperty.call(c,"lt")&&Object.prototype.hasOwnProperty.call(c,"lte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both less than and less than or equal");var _,f=this;return{next:function*(t){var e,i,l,g;if(_==null){var h=yield*f.$14(n,f.$7(a));if(h==null)return{done:!0};var y=d();if(y!==void 0){var C=yield*f.$12(n,h.rootId,y);i=C[0],l=C[1]}else if(s==="asc"){var b=[yield*f.$13(n,h.headId),h.headId];i=b[0],l=b[1]}else{var v=[yield*f.$13(n,h.tailId),h.tailId];i=v[0],l=v[1]}e=p(i)}else{var R=_;if(e=R.i,g=R.key,l=R.nodeId,i=yield*f.$14(n,l),t!=null){if((u||(u=o("ReStoreKeyComparer"))).compareKey(t,g)===(s==="asc"?-1:1))throw r("FBLogger")("messenger_web").mustfixThrow("key must be ahead of current key");if(i==null||(u||(u=o("ReStoreKeyComparer"))).compareKey(t,i.keys[0])<0||(u||(u=o("ReStoreKeyComparer"))).compareKey(t,i.keys[i.keys.length-1])>0){var L=yield*f.$14(n,f.$7(a));if(L==null)return{done:!0};var E=yield*f.$12(n,L.rootId,t);i=E[0],l=E[1]}e=S(i.keys,t,m[s==="asc"?"gte":"lte"])}else{if(i==null||e<0||e>=i.keys.length||(u||(u=o("ReStoreKeyComparer"))).compareKey(i.keys[e],g)!==0){if(i==null||!i.keys.length||(u||(u=o("ReStoreKeyComparer"))).compareKey(g,i.keys[0])<0||(u||(u=o("ReStoreKeyComparer"))).compareKey(g,i.keys[i.keys.length-1])>0){var k=yield*f.$14(n,f.$7(a));if(k==null)return{done:!0};var I=yield*f.$12(n,k.rootId,g);i=I[0],l=I[1]}e=S(i.keys,g,m[s==="asc"?"lte":"gte"])}e+=s==="asc"?1:-1}}if(e<0||e>=i.keys.length)if(s==="asc"){if(i.nextId===void 0)return{done:!0};l=i.nextId,i=yield*f.$13(n,l),e=0}else{if(i.prevId===void 0)return{done:!0};l=i.prevId,i=yield*f.$13(n,l),e=i.keys.length-1}if(g=i.keys[e],_={i:e,key:g,node:i,nodeId:l},e<0||e>=i.keys.length)return{done:!0};var T=s==="asc"?Object.prototype.hasOwnProperty.call(c,"lt")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.lt)>=0||Object.prototype.hasOwnProperty.call(c,"lte")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.lte)>0:Object.prototype.hasOwnProperty.call(c,"gt")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.gt)<=0||Object.prototype.hasOwnProperty.call(c,"gte")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.gte)<0;return T?{done:!0}:{done:!1,value:[i.keys[e],i.children[e]]}}}},n.tableEntries=function(t,n){n===void 0&&(n={});var e=this.btreeIterator(t,void 0,n),r=this;return{next:function*(o){var n=yield*e.next(o);if(n.done)return n;var a=n.value,i=a[0],l=a[1],s=yield*r.$18(t,l);return{done:!1,value:[i,s]}}}},n.indexEntries=function(t,n,r){r===void 0&&(r={});var e=this.btreeIterator(t,n,r),o=this;return{next:function*(a){var r=yield*e.next(a);if(r.done)return r;var i=r.value,l=i[0],s=i[1],u=yield*o.$19(t,s,n,l);return{done:!1,value:[l,u]}}}},n.keys=function(t,n,r){r===void 0&&(r={});var e=this.btreeIterator(t,n,r);return{next:function*(n){var t=yield*e.next(n);if(t.done)return t;var r=t.value,o=r[0];return{done:!1,value:o}}}},n.clearIds=function*(t,n){this.$3();var e=this.$7(n),r=yield*this.$14(t,e);if(this.$3(),r!=null){for(var o=yield*this.$13(t,r.rootId),a=[{id:r.rootId,node:o}];a.length>0;){var i=a.shift(),l=i.id,s=i.node;if(!s.isLeaf)for(var u of s.children){var d=yield*this.$14(t,u);d!=null&&a.push({id:u,node:d})}this.$1.set(l,c)}this.$1.set(e,c)}},n.readSeed=function*(t){var e=yield*this.$14(t,o("ReStorePersistenceIds").idForSeed);return e!=null?e:0},n.remove=function(t,n){this.$3(),this.$1.set(n,c)},n.writeData=function(t,n,r){this.$16(n,b(r))},n.writeNewData=function*(t,n){return yield*this.$15(t,b(n))},t})(),L=(function(){function e(e,t,n,a,i){var l=this;this.$2=new Map,this.$6=!1,this.$3=function(){if(l.$6)throw a==null||a.mark("transaction_closed"),r("FBLogger")("messenger_web").mustfixThrow("Transaction has closed");n()},this.$4=t,this.$1=e,this.$5={get:function(n,r,a){var e=o("ReStoreUtils").getOrCreate(l.$1,r,function(){return new Map}),i=e.get(a);if(!v(i))return i!==void 0?i:t.get(n,r,a,"readwrite")},logError:t.logError,shouldInline:t.shouldInline},this.$7=i}var t=e.prototype;return t.flush=function(){for(var e of this.$2){var t=e[0],n=e[1],r=o("ReStoreUtils").getOrCreate(this.$1,t,function(){return new Map});for(var a of n){var i=a[0],l=a[1];r.set(i,l)}}this.$6=!0},t.table=function(t){return new R(o("ReStoreUtils").getOrCreate(this.$2,t,function(){return new Map}),t,this.$3,this.$5,"readwrite",this.$7)},e})(),E=(function(){function e(e,t,n,o){var a=this;this.$1=new Map,this.$2=!1,this.$7=function(){if(a.$2)throw r("FBLogger")("messenger_web").mustfixThrow("Transaction has closed: %s",a.$5)},this.$3=e,this.$4=t,this.types=e.types,this.$5=n,this.$6=o}var t=e.prototype;return t.close=function(){this.$2=!0},t.flush=async function(t){t===void 0&&(t={upgrade:!1}),await this.$3.flush(this.$1,t),this.$2=!0},t.tablePermitsSynchronousIO=function(t){var e,n,r;return(e=(n=(r=this.$3).permitsSynchronousIO)==null?void 0:n.call(r,t))!=null?e:!1},t.table=function(t){return new R(o("ReStoreUtils").getOrCreate(this.$1,t,function(){return new Map}),t,this.$7,this.$3,this.$4,this.$6)},t.createNested=function(t){return new L(this.$1,this.$3,this.$7,t,this.$6)},e})();function k(e){function t(t,n,a){r("promiseDone")((async function(){await e.runExclusively(function(){return Promise.resolve([async function(){var r=new E(e,"readwrite",void 0,function(){});await o("ReStoreCommonUtils").gen(r.table(a).indexDelete(new WeakMap,t,n)),await r.flush()},"readwrite"])},"fixBrokenIndex")})())}return{clearCache:e.clearCache,close:e.close,createTransaction:function(r,o){return new E(e,r,o,t)},isClosed:e.isClosed||function(){return!1},isPersistenceSupported:e.isPersistenceSupported,logError:e.logError,runExclusively:e.runExclusively}}l.sentinelDeleted=c,l.isDeletedValue=v,l.ReStoreDbStoreTable=R,l.ReStoreDbStoreTransaction=E,l.createDbStore=k}),98);
__d("EBDBEbsmApi",["$InternalEnum","EBDB","FBLogger","I64","QPLUserFlow","ReStorePersistence","getErrorSafe","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],u=n("$InternalEnum").Mirrored(["Success","EmptyDb"]);function c(t){var n={};for(var r of Object.keys(t)){var a=t[r];typeof a=="bigint"?n[r]=(e||(e=o("I64"))).of_string(String(a)):n[r]=a}return n}async function d(t){var n=await o("EBDB").getEBDB(),r=Array.from(t.keys());await n.runInTransaction(r,"readwrite",async function(n){var r=[],a=async function(){var t=l[0];i=l[1];var a=i.toAdd,s=i.toDelete,u=o("EBDB").schema==null?void 0:o("EBDB").schema[t];r.push(n.stores[t].bulkDelete(s.map(function(t){var n=typeof t=="object"?t==null?void 0:t[u.primaryKey]:null;if(n!=null)return(e||(e=o("I64"))).isI64(n)?BigInt((e||(e=o("I64"))).to_string(n)):n}).filter(function(e){return!!e})),n.stores[t].bulkPut(a.filter(function(e){return typeof e=="object"&&(e==null?void 0:e[u.primaryKey])!=null}).map(function(t){var n={};for(var r of Object.keys(t)){var a=t[r];(e||(e=o("I64"))).isI64(a)?n[r]=BigInt((e||(e=o("I64"))).to_string(a)):n[r]=a}return n})))},i;for(var l of t)await a();await Promise.all(r)},"EBDB - flush EBSM state",i.id+":79")}async function m(e){for(var t=await e.next();t.done===!1;)t=await e.next();return t.value}async function p(e,t,n){var r=e(t),a=new(o("ReStorePersistence")).ReStoreDbStoreTable(r,t,function(){},{get:function(){},logError:function(){},shouldInline:function(){return!1}},"readwrite",function(){});for(var i of n){var l=c(i),s=l[o("EBDB").schema[t].primaryKey];await m(a.tableSet(new WeakMap,[s],l))}}async function _(e){r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_EBDB");var t=await o("EBDB").getEBDB(),n=!0,a=new Map;if(await t.runInTransaction(s,"readonly",function(e){return Promise.all(s.map(async function(t){var r=await e.stores[t].readAll();n=n&&r.length===0,a.set(t,r)}))},"EBDB - fetch for rehydration EBSM",i.id+":187"),r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_EBDB_DONE"),n)return u.EmptyDb;var l;try{await Promise.all(Array.from(a).map(async function(t){var n=t[0],o=t[1];try{await p(e,n,o),r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_"+n.toUpperCase())}catch(e){throw l=n,r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_ON_"+n.toUpperCase()),e}}))}catch(t){var c=r("getErrorSafe")(t);r("FBLogger")("wmi_eb").catching(c).mustfix("rehydrateEBSMFromEBDB: Invalid data to build BTree: %s",l),o("EBDB").clearEbStores();for(var d of s){var m=e(d);m.clear()}return u.EmptyDb}return u.Success}function f(e){return function(t,n){return e.runInTransaction(async function(e){var n=[];for(var r of t){var a=r[0],i=r[1],l=i.toAdd,s=i.toDelete,u=o("EBDB").schema==null?void 0:o("EBDB").schema[a];for(var c of s){var d=typeof c=="object"?c==null?void 0:c[u.primaryKey]:null;d!=null&&n.push(e[a].delete(d))}for(var m of l)typeof m=="object"&&(m==null?void 0:m[u.primaryKey])!=null&&n.push(e[a].put(m))}await Promise.all(n)},"readwrite",void 0,{source:n,type:"user_initiated"},i.id+":255")}}l.EB_STORES=s,l.RehydrationResult=u,l.flushEBSMtoEBDB=d,l.rehydrateEBSMFromEBDB=_,l.updateEBSM=f}),98);
__d("EBReadyNotifier",["WAResolvable"],(function(t,n,r,o,a,i,l){"use strict";var e=new(o("WAResolvable")).Resolvable;function s(){e.resolve()}function u(){e.resolveWasCalled()&&(e=new(o("WAResolvable")).Resolvable)}function c(){return e.promise}l.markEBReady=s,l.resetEBReady=u,l.waitForEBReady=c}),98);
__d("IntervalList",["FBLogger","JSONStringifyBigIntSafe","ReQLBounds","ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("must not be null");return e}function c(t,n){var a=new Map,i=new Map,l=new Map;function c(e,n){return n==null?!0:(n.gt!==void 0?t(e,n.gt)>0:n.gte!==void 0?t(e,n.gte)>=0:!0)&&(n.lt!==void 0?t(e,n.lt)<0:n.lte!==void 0?t(e,n.lte)<=0:!0)}function*d(t){for(var l=0;l<t.length&&i.size;){l++;var s=t.slice(0,l);l<n&&s.push((e||(e=o("ReStoreKeyComparer"))).MAX_KEY);var u=i.get(r("JSONStringifyBigIntSafe")(s));if(u!=null)for(var d of u)yield d}for(var m of a.entries()){var p=m[0],_=m[1];a.has(p)&&c(t,_)&&(yield p)}}function m(e){var t=l.get(e);if(t!=null){l.delete(e);var n=u(i.get(t));n.delete(e),n.size===0&&i.delete(t)}else a.delete(e)}function p(e,t){var u;if(e&&e.gte!=null&&e.lte!=null&&(u=r("JSONStringifyBigIntSafe")((s||(s=o("ReQLBounds"))).nextKey(e.gte,n)))===r("JSONStringifyBigIntSafe")(e.lte)){var c=i.get(u);c==null&&(c=new Set,i.set(u,c)),c.add(t),l.set(t,u)}else a.set(t,e)}return{delete:m,findIntersecting:d,set:p}}l.default=c}),98);
__d("LSDatascriptEvaluatorMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorMaybeEagerly");function s(){return o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(e).load()}l.default=s}),98);
__d("LSTransactionLogger",["cr:8879"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{startTracking:function(n,o){var t=r("LSTransactionLogger")==null?void 0:r("LSTransactionLogger").startTracking(n,e,o);return{addAnnotations:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").addAnnotations(e,t,o)},end:function(){r("LSTransactionLogger")==null||r("LSTransactionLogger").end(e,t)},fail:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").fail(e,t,o)},mark:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").mark(e,t,o)},recordLogicalWrite:function(){r("LSTransactionLogger")==null||r("LSTransactionLogger").recordLogicalWrite(t)}}}}}l.createQplLogger=e}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","ReStorePersistence"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=e.get(t);if(r!==void 0)return r;var o=n();return e.set(t,o),o}function s(t,n){var a=Promise.resolve(),i=new Map;function l(t){return e(i,t,function(){return new Map})}return{flush:function(t){return t.forEach(function(e,t){var n=l(t);e.forEach(function(e,t){o("ReStorePersistence").isDeletedValue(e)?n.delete(t):n.set(t,e)})}),Promise.resolve()},get:function(t,n,r){var e=l(n);return e.get(r)},logError:function(t,n,o,a){if(o==="dbCorruption"){var e,i;throw r("FBLogger")("messenger_web").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",n,t,(e=a==null?void 0:a.id)!=null?e:"",(i=a==null?void 0:a.deletedInThisTxn)!=null?i:"")}},permitsSynchronousIO:function(t){return!0},queueCommitWork:void 0,runExclusively:function(t){var e=n==null?void 0:n.startTracking(!1);return e==null||e.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}}),new Promise(function(n,r){a=a.then(async function(){var o=await t(),a=o[0],i=o[1];try{n(await a()),e==null||e.end()}catch(t){r(t),e==null||e.fail()}}).catch(function(e){r(e)})})},shouldApplySync:function(){return!1},shouldInline:function(t,n){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:t}}l.default=s}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","MAWCurrentUser","createReStoreEphemeralPersistence","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MAWCurrentUser").getID();return r("createReStoreEphemeralPersistence")("LSEphemeral "+e,o("LSReStoreQplLogger").createQplLogger(r("qpl")._(25303045,"817")))}l.createLSReStoreEphemeralPersistence=e}),98);
__d("QPLMemoryUtils",["MemoryUtils","QPLUserFlow"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("MemoryUtils").getCurrentMemory(),n=t.usedJSHeapSize;r("QPLUserFlow").addAnnotations(e,{int:{usedJSHeapSizeStart:n}})}function s(e){var t=o("MemoryUtils").getCurrentMemory(),n=t.usedJSHeapSize;r("QPLUserFlow").addAnnotations(e,{int:{usedJSHeapSizeEnd:n}})}l.logMemoryForQPLStart=e,l.logMemoryForQPLEnd=s}),98);
__d("createReStoreEBSMTablesPersistence",["CurrentMessengerUser","EBLogger","MAWUnrecoverableDbErrors","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","ODS","QPLMemoryUtils","QPLUserFlow","Random","ReStorePersistence","ReStoreTabNotifier","WebSession","getErrorSafe","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("CurrentMessengerUser").getIDorEIMU(),d=r("ReStoreTabNotifier")==null?void 0:r("ReStoreTabNotifier")("mwChat-"+c),m=null,p=!1,_=!1,f=o("EBLogger").EBLogger().tags(["EBSM","Pesistence","MainThread"]);function g(e,t,n){var r=e.get(t);if(r!==void 0)return r;var o=n();return e.set(t,o),o}function h(t){var n=Promise.resolve(),a="flushChangesV2",i=new Map;function l(e){return g(i,e,function(){return new Map})}var c=o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();r("QPLUserFlow").start(r("qpl")._(521481876,"1407"),{annotations:{string:{ebSessionIdentifier:c,sessionTabId:o("WebSession").getId()}}}),(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,r("MWEBODSEntityKey.enum").START),o("QPLMemoryUtils").logMemoryForQPLStart(r("qpl")._(521481876,"1407"));async function h(){try{await t.rehydrateEBSMFromEBDB(l),o("QPLMemoryUtils").logMemoryForQPLEnd(r("qpl")._(521481876,"1407")),r("QPLUserFlow").endSuccess(r("qpl")._(521481876,"1407")),(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,r("MWEBODSEntityKey.enum").SUCCESS)}catch(t){r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED");var n=r("getErrorSafe")(t);f.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["An error occured in EBSM hydration when loading EB data: ",""])),n.message),r("QPLUserFlow").endFailure(r("qpl")._(521481876,"1407"),"Hydration failed."),(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,r("MWEBODSEntityKey.enum").FAIL)}}return m=h(),d==null||d.onEventReceive("flushChangesV2",function(e){var n=e.changeSet,i=new Map;if(n.forEach(function(e,t){i.set(t,{toAdd:[],toDelete:[]});var n=l(t);e.forEach(function(e,r){if(o("ReStorePersistence").isDeletedValue(e,o("ReStorePersistence").sentinelDeleted)){var a;(a=i.get(t))==null||a.toDelete.push(n.get(r))}else{var l;(l=i.get(t))==null||l.toAdd.push(e)}})}),t.updateEBSM==null){f.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["ebdbEbsmApi.updateEBSM is not defined"])));return}r("promiseDone")(t.updateEBSM(i,a))}),{flush:async function(n,i){var e,s;if(n.size!==0&&(n.size>0&&n.forEach(function(e,t){e.size===0&&n.delete(t)}),n.size!==0)){var u=((e=i.actionSource)==null?void 0:e.type)==="user_initiated"&&((s=i.actionSource)==null?void 0:s.source)===a;if(u){n.forEach(function(e,t){var n=l(t);e.forEach(function(e,t){o("ReStorePersistence").isDeletedValue(e,o("ReStorePersistence").sentinelDeleted)?n.delete(t):n.set(t,e)})});return}var c=new Map;n.forEach(function(e,t){c.set(t,{toAdd:[],toDelete:[]});var n=l(t);e.forEach(function(e,r){if(o("ReStorePersistence").isDeletedValue(e,o("ReStorePersistence").sentinelDeleted)){var a;(a=c.get(t))==null||a.toDelete.push(n.get(r)),n.delete(r)}else{var i;(i=c.get(t))==null||i.toAdd.push(e),n.set(r,e)}})}),d==null||d.postMessage("flushChangesV2",{changeSet:n,fromVersion:"",sentinelDeleted:o("ReStorePersistence").sentinelDeleted,version:""});var p=o("Random").uint32(),_=Array.from(n.keys());r("QPLUserFlow").start(r("qpl")._(521485383,"2200"),{annotations:{bool:{ebsmv2:!0},string_array:{tables:_}},instanceKey:p}),await m,await t.flushEBSMtoEBDB(c).catch(function(){})}},get:function(t,n,r){var e=l(n);return p?e.get(r):m==null?Promise.reject("rehydration is not complete"):m.then(function(){return p=!0,e.get(r)})},logError:function(n,a,i,l){if((u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_RESTORE_PERSISTENCE_ERROR,n),i==="dbCorruption"){var e,s;(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION,n);var c="Got unexpected undefined in ebsm, mode: "+a+", table: "+n+", id: "+((e=l==null?void 0:l.id)!=null?e:"")+", deletedInThisTxn: "+((s=l==null?void 0:l.deletedInThisTxn)!=null?s:"")+". Deleting EBSM db";f.mustfix(c);var d=o("Random").uint32();o("MAWUnrecoverableDbErrors").setError(new(o("MAWUnrecoverableDbErrors")).EbsmHydrationError(c,!0,d,n),function(){r("promiseDone")(t.clearEbStores(),function(){(u||(u=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION,"db_deleted.main_thread")})}),_||(_=!0,o("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(r("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,"full"))}},queueCommitWork:void 0,runExclusively:function(t){return new Promise(function(e,r){n=n.then(async function(){var n=await t(),o=n[0],a=n[1];try{e(await o())}catch(e){r(e)}})})},shouldApplySync:function(){return!1},shouldInline:function(t,n){return!1},shouldSync:function(t,n){return t!=="notifyInMemoryTable"},tabTablesNotifier:function(){return d},types:["ephemeral"],uniqueId:""}}l.default=h}),98);
__d("createReStoreTableNameAllowListPersistence",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r;return{clearCache:function(){e.clearCache==null||e.clearCache(),t.clearCache==null||t.clearCache()},close:function(){e.close==null||e.close(),t.close==null||t.close()},flush:async function(o,a){var r=new Map,i=new Map;o.forEach(function(e,t){n.has(t)?i.set(t,e):r.set(t,e)}),await Promise.all([e.flush(r,a),t.flush(i,a)])},get:function(o,a,i,l){return n.has(a)?t.get(o,a,i,l):e.get(o,a,i,l)},isClosed:function(){return(e.isClosed==null?void 0:e.isClosed())||!1},isPersistenceSupported:e.isPersistenceSupported,logError:function(o,a,i,l){n.has(o)?t.logError==null||t.logError(o,a,i,l):e.logError==null||e.logError(o,a,i,l)},permitsSynchronousIO:function(o){if(n.has(o)){var r;return(r=t.permitsSynchronousIO==null?void 0:t.permitsSynchronousIO(o))!=null?r:!1}else{var a;return(a=e.permitsSynchronousIO==null?void 0:e.permitsSynchronousIO(o))!=null?a:!1}},runExclusively:function(r,o){return e.runExclusively(function(){return new Promise(function(e,n){var a=t.runExclusively(async function(){var t=await r(),n=t[0],o=t[1],i=new Promise(function(t){e([function(){return t(),a},o])});return[async function(){return await i,n()},o]},o);a.catch(n)})},o)},shouldApplySync:function(o,a){return n.has(a)?t.shouldApplySync(o,a):e.shouldApplySync(o,a)},shouldInline:function(o,a){return n.has(o)?t.shouldInline(o,a):e.shouldInline(o,a)},shouldSync:function(o,a){return n.has(a)?t.shouldSync(o,a):e.shouldSync(o,a)},tabTablesNotifier:(r=e.tabTablesNotifier)!=null?r:t.tabTablesNotifier,types:[].concat(e.types,t.types),uniqueId:t.uniqueId+e.uniqueId}}i.default=e}),66);
__d("LSJSEBInMemoryStorage",["EBSMProperties","createLSReStoreEphemeralPersistence","createReStoreEBSMTablesPersistence","createReStoreTableNameAllowListPersistence"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("createReStoreTableNameAllowListPersistence")(o("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),r("createReStoreEBSMTablesPersistence")(e),r("EBSMProperties").persistedTables);return t}l.makeReStorePersistence=e}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){var n,r=t.storeTx,a=t.transaction;if(e==null)return o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var i=new(o("ReStorePersistedMetadata")).ReStorePersistedCustomMigrationVersion,l=(n=await i.read(r))==null?void 0:n.customMigrationVersion;return e.targetVersion===l?o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED:(await e.migration(l!=null?l:0,a),i.write(r,{customMigrationVersion:e.targetVersion}),o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)}l.runCustomMigration=e}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return{afterAdd:t.reduce(function(t,n){var r=n.onAfterAdd;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),afterEntriesNext:t.reduce(function(e,t){var n=t.onAfterEntriesNext;return n?function(t){return n({tableName:t.tableName,value:e(t)})}:e},function(e){var t=e.value;return t}),afterGet:t.reduce(function(e,t){var n=t.onAfterGet;return n?function(t){return n({tableName:t.tableName,value:e(t)})}:e},function(e){var t=e.value;return t}),afterPut:t.reduce(function(t,n){var r=n.onAfterPut;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeAdd:t.reduce(function(t,n){var r=n.onBeforeAdd;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeDelete:t.reduce(function(t,n){var r=n.onBeforeDelete;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.key;return t}),beforeNotify:t.reduce(function(e,t){var n=t.onBeforeNotify;return n?function(t){var r=e(t),o=r.newValue,a=r.prevValue;return n({newValue:o,prevValue:a,tableName:t.tableName})}:e},function(e){var t=e.newValue,n=e.prevValue;return{newValue:t,prevValue:n}}),beforePut:t.reduce(function(t,n){var r=n.onBeforePut;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeUpsert:t.reduce(function(t,n){var r=n.onBeforeUpsert;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t})}}l.createHookManager=s}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreIndexeddbPersistenceInitFailure",l=(function(t){function n(n){var r;return r=t.call(this,n)||this,r.message=n,r.name=e,r}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreIndexeddbPersistenceInitFailure=l}),66);
__d("ReStoreTransactionDelay",["setTimeout"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e==="background"?new Promise(function(e){return r("setTimeout")(e,0)}):Promise.resolve();await t}l.default=e}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","getErrorSafe","isPromise","nullthrows","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(t,n,a){var i=new Map,l=new Map;function d(e,t){return(c||(c=o("ReStoreKeyComparer"))).compareValue(e,t)===0}function m(e,t,n,r){for(var o,a=(o=R.get(e))!=null?o:[],i=[],l=0;l<t.length;l++)for(var s=t[l],u=0;u<32&&s!==0;u++){if(s&1){var c=a[(l<<5)+u];if(!d(n[c],r[c])){var m;i[l]=((m=i[l])!=null?m:0)|1<<u%32}}s=s>>>1}return i}function p(e,t){for(var n=0;n<Math.max(e.length,t.length);n++)if((e[n]&t[n])!==0)return!0;return!1}function _(t,n,o,a){try{var i=t(n,o,a);return(e||(e=r("isPromise")))(i)?i.catch(function(e){r("FBLogger")("messenger_web").catching(e).mustfix("error in ReStore subscription async handler")}):i}catch(e){var l=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(l).mustfix("error in ReStore subscription handlers")}}function f(e,t,n,r,a){var i=Array.from(t(r));if(a.operation==="put"&&a.prevValue!=null){var l=a.prevValue,s=[];for(var c of i){var d=c[0],f=c[1];f!=null&&f.forEach(function(e,t){var n;s[t]=((n=s[t])!=null?n:0)|e})}var g=m(e,s,l,a.value);return(u||(u=o("PromiseOrValue"))).all(i.map(function(e){var t=e[0],o=e[1];if(o==null||p(g,o))return _(t,r,a,n)}))}return Promise.all(i.map(function(e){var t=e[0],o=e[1];return _(t,r,a,n)}))}function g(e){return r("nullthrows")((i.has(e)?i:i.set(e,[r("IntervalList")((c||(c=o("ReStoreKeyComparer"))).compareKey,t.tableNames[e].primaryKeyIds.length),new Map])).get(e))}function h(e,n){var a=g(e),i=a[0],l=a[1];return r("nullthrows")((l.has(n)?l:l.set(n,r("IntervalList")((c||(c=o("ReStoreKeyComparer"))).compareKey,t.tableNames[e].indexes[n].length))).get(n))}function y(e,n,a,i,l,s){var d=function(r,o){return f(n,e.findIntersecting,s,r,o)},m=a==null?void 0:o("ReStoreUtils").searchKey(t.tableNames[n],a,l),p=i==null?void 0:o("ReStoreUtils").searchKey(t.tableNames[n],i,l);if(p==null&&m!=null)return d(m,{operation:"delete",prevValue:r("nullthrows")(a)});if(m==null&&p!=null)return d(p,{operation:"add",value:r("nullthrows")(i)});if(m!=null&&p!=null)return(c||(c=o("ReStoreKeyComparer"))).compareKey(m,p)===0?d(m,{operation:"put",prevValue:r("nullthrows")(a),value:r("nullthrows")(i)}):(u||(u=o("PromiseOrValue"))).map(d(m,{operation:"delete",prevValue:r("nullthrows")(a)}),function(){return d(p,{operation:"add",value:r("nullthrows")(i)})})}function C(e,t,n,r){var a=g(e),i=a[0],l=a[1];return(u||(u=o("PromiseOrValue"))).map(y(i,e,t,n,null,r),function(){return(u||(u=o("PromiseOrValue"))).all(Array.from(l.entries()).map(function(o){var a=o[0],i=o[1];return y(i,e,t,n,a,r)}).filter(function(e){return e!=null}))})}function b(){l.forEach(function(e){return e()})}function v(e,t){function o(){var o=new Map;try{for(var a of e){var i=a[0],l=a[1];n(t,i)&&o.set(i,l)}}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(s).mustfix("Couldnot format changes to broadcast")}return Array.from(o)}if((s||(s=r("ExecutionEnvironment"))).isInBrowser&&a!=null){var i=o();if(i.length===0)return;a.postMessage(t,i)}}(s||(s=r("ExecutionEnvironment"))).isInBrowser&&a!=null&&a.onEventReceive("notifyTableV2",function(e){r("promiseDone")((async function(){var t=new WeakMap,n=e.values();await(u||(u=o("PromiseOrValue"))).loop(function(e){if(e.done)return{action:"break",value:void 0};var r=e.value,a=r[0],i=r[1],l=i.values();return(u||(u=o("PromiseOrValue"))).map(u.loop(function(e){if(e.done)return{action:"break",value:void 0};var n=e.value,r=n[0],i=n[1];return(u||(u=o("PromiseOrValue"))).map(C(a,r,i,t),function(){return{action:"continue",value:l.next()}})},l.next()),function(){return{action:"continue",value:n.next()}})},n.next()),b()})())});var S=new Map,R=new Map;function L(e,t){if(t==null)return null;var n=S.get(e);n==null&&(n=new Map,S.set(e,n));var r=[];for(var o of t){var a,i=n.get(o);if(i==null){i=n.size,n.set(o,i);var l=R.get(e);l==null&&(l=[],R.set(e,l)),l.push(o)}var s=i>>5,u=i&31;r[s]=((a=r[s])!=null?a:0)|1<<u}return r}return{dispose:function(){i.clear(),l.clear()},notifyCommit:b,notifyTableAndIndexSubscribers:C,notifyTableV2:v,subscribeIndex:function(t,n,r,o,a){var e=h(t,n),i=!1,l=function(t,n,o){return i?Promise.resolve():_(r,t,n,o)},s=[l,L(t,a)];return e.set(o,s),function(){i=!0,e.delete(s)}},subscribeTable:function(t,n,r,o){var e=g(t),a=e[0],i=!1,l=function(t,r,o){return i?Promise.resolve():_(n,t,r,o)},s=[l,L(t,o)];return a.set(r,s),function(){i=!0,a.delete(s)}},subscribeToCommit:function(t){return l.set(t,t),function(){l.delete(t)}}}}l.default=d}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","JSONStringifyBigIntSafe","ODS","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","getErrorSafe","promiseDone","setImmediate","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(function(e){function t(){return e.call(this,"ReStore transaction timed out")||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),d={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db",odsCategoryID:600},m=12e4;function p(t){var a=t.persistence,i=t.hooks,l=i===void 0?[]:i,p=t.customMigration,_=t.loggers,f=_===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:_,g=t.config,h=g===void 0?d:g,y=t.schema,C=f.logHistory,b=f.transactionQplLogger,v=f.userFlow,S=o("ReStorePersistence").createDbStore(a),R=a.tabTablesNotifier==null?void 0:a.tabTablesNotifier(),L=y.defaults,E=r("createReStoreSubscriptionManager")(y,a.shouldSync,R),k=o("ReStoreHooks").createHookManager(l),I=S.createTransaction("readonly"),T=a.types.includes("indexeddb"),D={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},x="<first_txn>";v==null||v.addPoint("migration_start"),C==null||C.debug("restore migration start");var $=new(o("ReStoreOperationLock")).WaitForPromiseLock(a.types.includes("devtool")?Promise.resolve():S.runExclusively(function(){return Promise.resolve([async function(){v==null||v.addPoint("migration_execute_start");var e=new Map,t=S.createTransaction("readwrite"),n=M(t,e);C==null||C.debug("migration transaction created");var r={changedKeys:e,clearCache:N,hooksManager:k,loggers:f,storeTx:t,transaction:n};try{var a=await y.migrate(r);v==null||v.addPoint("migration_custom_start");var i=await o("ReStoreCustomMigration").runCustomMigration(p,r);if(C==null||C.debug("migration custom end"),v==null||v.addPoint("migration_custom_end"),i===o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&a===o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){t.close(),C==null||C.debug("restore migration skipped"),v==null||v.addPoint("migration_skipped");return}var l=a!==o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&e.size!==0;await t.flush({upgrade:l}),v==null||v.addPoint("migration_execute_end"),C==null||C.debug("restore migration complete")}catch(e){throw t.close(),e}v==null||v.addPoint("migration_end"),C==null||C.debug("restore migration end")},"readwrite"])},"migration").catch(function(e){var t=r("getErrorSafe")(e);throw v==null||v.addAnnotations({string:{migration_error:t.message}}),e instanceof o("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||v==null||v.endFail("migration_error"),C==null||C.debug("restore migration error"),r("FBLogger")("restore_init").catching(t).mustfix("migration failed"),e}));async function P(e,t){var n=new WeakMap;await S.runExclusively(function(){return Promise.resolve([async function(){var r=new Map,a=S.createTransaction("readwrite"),i=M(a,r),l=t.values();await(u||(u=o("PromiseOrValue"))).loop(function(t){if(t.done)return{action:"break",value:void 0};var r=t.value,a=r[0],s=r[1];return(u||(u=o("PromiseOrValue"))).map(u.map(s==null?i.table(e).delete(o("ReStoreUtils").searchKey(y.tableNames[e],a)):i.table(e).put(s),function(){return E.notifyTableAndIndexSubscribers(e,a,s,n)}),function(){return{action:"continue",value:l.next()}})},l.next());try{await a.flush({upgrade:!0})}catch(e){throw a.close(),e}},"readwrite"])},"applyChangesToTable")}function N(){S.clearCache==null||S.clearCache()}function M(e,t,n){return o("ReStoreUtils").createReStoreTransaction(y,L,k,E,e,t,n)}var w;function A(e,t,n,r){return new Promise(function(o,a){h.enableRejectingTransaction&&(w=a);var i=function(){return x=r,e().then(o,a).finally(function(){return x=void 0})};D[t].last==null?D[t].first=D[t].last={value:{code:i,writemode:n}}:D[t].last=D[t].last.next={value:{code:i,writemode:n}}})}function F(e){return S.runExclusively(function(){var e=D.ui.first!=null?D.ui:D.sync_script.first!=null?D.sync_script:D.background;if(e.first==null)return r("FBLogger")(h.fbLoggerProject).mustfix("Expected work is missing"),Promise.resolve([function(){return Promise.resolve({})},"readonly"]);var t=e.first;return e.first===e.last&&(e.last=null),e.first=e.first.next,Promise.resolve([t.value.code,t.value.writemode])},e)}async function O(e,t,n,o){var a;n===void 0&&(n="background"),o===void 0&&(o={source:"unknown",type:"user_initiated"});var i,l=(a=arguments[4])!=null?a:"<unknown callsite>";l==="<unknown callsite>"&&o.type!=="test_env"&&r("FBLogger")(h.fbLoggerProject).info("Unknown callsite for runInTransaction, action source %s",o.source),o.type==="maw_ui_bridge"&&(l=l+":"+o.events.map(function(e){var t=e.tag;return t}).join(","));try{i=await B(e,t,n,o,l)}catch(e){throw e instanceof c?r("FBLogger")(h.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",l):e}return i}async function B(t,a,i,l,s){var c;i===void 0&&(i="background");var d,p,_,f,g,y=b==null?void 0:b.startTracking(T,i);n("cr:1088")&&(d=Date.now()),y==null||y.addAnnotations({string:{currentlyExecutingModuleAndLineNo:x,moduleAndLineNo:s}});async function C(){y==null||y.mark("execute_start");var a=Date.now();n("cr:1088")&&(p=Date.now());var i={ref:void 0},c=new Map,m=S.createTransaction("readwrite",s),C;n("cr:1088")==null||n("cr:1088").trackingStoredProceduresForNewTransaction(l),n("cr:1088")==null||n("cr:1088").recordModuleName(s);try{var b=M(m,c,{qplFlow:y});(e||(e=r("ExecutionEnvironment"))).isInBrowser?C=await Promise.race([t(b),q(i,y,s)]):C=await t(b),i.ref!=null&&r("clearTimeout")(i.ref),y==null||y.mark("execute_end"),y==null||y.mark("flush_start"),await m.flush({actionSource:l,qplFlow:y}),y==null||y.mark("flush_end"),n("cr:1088")&&(_=Date.now())}catch(e){var v;i.ref!=null&&r("clearTimeout")(i.ref);var R=r("getErrorSafe")(e),L=(v=R==null?void 0:R.name)!=null?v:"UnknownError",I=Date.now()-a;throw m.close(),y==null||y.fail(R),r("FBLogger")(h.fbLoggerProject).catching(R).mustfix("Transaction failed [%s]: %s (duration: %sms)",L,s!=null?s:"<unknown>",I),n("cr:1088")==null||n("cr:1088").recordRestoreTransaction({broadcast:f,complete:_,flush:g,queue:d,start:p},{changedKeys:c}),e}finally{n("cr:1088")==null||n("cr:1088").stopTrackingStoredProcedures()}n("cr:1088")&&(g=Date.now()),y==null||y.mark("broadcast_start");var T=new WeakMap,D=new Map;for(var x of c){var $=x[0],P=x[1],N=JSON.parse($),w=N[0],A=N[1],F=D.get(w);F==null&&(F=[],D.set(w,F));var O=P[0],B=P[1],W=k.beforeNotify({newValue:B,prevValue:O,tableName:w}),U=W.newValue,V=W.prevValue;F.push([V,U])}var H=D.entries();if(await(u||(u=o("PromiseOrValue"))).loop(function(e){if(e.done)return{action:"break",value:void 0};var t=e.value,n=t[0],r=t[1],a=r.values();return(u||(u=o("PromiseOrValue"))).map(u.loop(function(e){if(e.done)return{action:"break",value:void 0};var t=e.value,r=t[0],i=t[1];return(u||(u=o("PromiseOrValue"))).map(E.notifyTableAndIndexSubscribers(n,r,i,T),function(){return{action:"continue",value:a.next()}})},a.next()),function(){return{action:"continue",value:H.next()}})},H.next()),E.notifyTableV2(D,"notifyTableV2"),E.notifyTableV2(D,"notifyInMemoryTable"),E.notifyCommit(),n("cr:1088")){f=Date.now();var G={broadcast:f,complete:_,flush:g,queue:d,start:p};n("cr:1088").recordRestoreTransaction(G,{changedKeys:c})}return y==null||y.mark("broadcast_end"),y==null||y.mark("post_commit_start"),r("setImmediate")(function(){y==null||y.mark("post_commit_end"),y==null||y.end()}),C}await r("ReStoreTransactionDelay")(i);var v=A(C,i,a,s);if(y==null||y.mark("enqueued"),y==null||y.addAnnotations({string:{actionSourceSource:l.source,actionSourceType:l.type},string_array:{actionSourceEvents:(c=l.events)==null?void 0:c.map(function(e){return e.tag}),actionSourceTaskNames:l.taskNames}}),r("promiseDone")(F(s),function(){},function(e){w==null||w(e)}),!(e||(e=r("ExecutionEnvironment"))).isInBrowser)return v;var R=r("setTimeout")(function(){var t,o,a;r("FBLogger")("messenger_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s, isInWorker: %s",m,s,x,(t=r("JSONStringifyBigIntSafe")(n("cr:6665")==null?void 0:n("cr:6665").getCurrentlyExecutingNativeOps()))!=null?t:"<devtools not running>",(o=n("cr:1088")==null||(a=n("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(e){return e.spName}).join(","))!=null?o:"<devtools not running>",(e||(e=r("ExecutionEnvironment"))).isInWorker)},m);return v.finally(function(){return r("clearTimeout")(R)})}(e||(e=r("ExecutionEnvironment"))).isInBrowser&&R!=null&&R.onEventReceive("notifyInMemoryTable",function(e){r("promiseDone")((async function(){for(var t of e){var n=t[0],r=t[1];a.shouldApplySync("notifyInMemoryTable",n)&&await P(n,r)}E.notifyCommit()})())});var W=Object.keys(y.tableNames).reduce(function(e,t){var n;return babelHelpers.extends({},e,(n={},n[t]=new(o("ReStoreTable")).ReStoreTable(y.tableNames[t],k,$,I,E),n))},{});return{clearCacheIfSupported:N,closeDb:function(){var e=S;e instanceof Object&&e.close!==void 0&&e.close()},getCustomMigrationVersion:async function(){var e=await new(o("ReStorePersistedMetadata")).ReStorePersistedCustomMigrationVersion().read(S.createTransaction("readonly"));return e==null?void 0:e.customMigrationVersion},getTableData:function(){return y},isClosed:function(){return S.isClosed()},isPersistenceSupported:function(){var e=S;return e instanceof Object&&e.isPersistenceSupported!==void 0&&e.isPersistenceSupported instanceof Function?e.isPersistenceSupported():Promise.resolve(!0)},persistence:a,persistenceTypes:a.types,runInTransaction:O,subscribeToCommit:function(t){return E.subscribeToCommit(t)},subscriptionManager:E,table:function(t){return W[t]},tables:W,uniqueId:a.uniqueId};function q(t,a,i){return h.enableTransactionTimeout?new Promise(function(e,n){var o=5e3;t.ref=r("setTimeout")(function(){a==null||a.mark("slow_transaction"),n(new c)},o)}):new Promise(function(){var a=3e4;t.ref=r("setTimeout")(function(){var t;r("FBLogger")(h.fbLoggerProject).mustfix("ReStore transaction took longer than 30000ms to execute, check it: %s. Executed SP: %s. isInWorker: %s.",i,n("cr:1088")==null||(t=n("cr:1088").getStoredProcedureCallLog())==null?void 0:t.sp.map(function(e){return e.spName}).join(","),(e||(e=r("ExecutionEnvironment"))).isInWorker),(s||(s=o("ODS"))).bumpEntityKey(h.odsCategoryID,"messenger.restore.transaction","timeout_"+(i||"").replace(/:/g,"_"),1)},a)})}}l.default=p}),98);
__d("ReStoreInstrumentation",["JSONStringifyBigIntSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map;function s(t){return e.set(t.uniqueId,{instance:t,persistence:t.persistence,tableNames:t.getTableData().tableNames}),t}function u(){return Array.from(e.entries()).map(function(e){var t=e[0],n=e[1];return{key:t,value:JSON.parse(r("JSONStringifyBigIntSafe")(n.tableNames))}})}l.instrument=s,l.getReStoreTables=u,l.reStoreInstancesMap=e}),98);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){n===void 0&&(n=[]);var l=o("ReStoreInstrumentation").instrument(r("ReStore")({config:{enableRejectingTransaction:r("gkx")("8566"),enableTransactionTimeout:r("gkx")("2947"),fbLoggerProject:"maw_db",odsCategoryID:3185},customMigration:a,hooks:n,loggers:{logHistory:o("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:o("LSReStoreQplLogger").createQplLogger(r("qpl")._(25306500,"1488")),userFlow:i},persistence:e,schema:t}));return l}l.createLSReStore=e}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(t,n,r,o,a,i,l){"use strict";var e={onAfterEntriesNext:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeVaultDbRow(n,e)},onAfterGet:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeVaultDbRow(n,e)},onBeforeAdd:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)},onBeforeNotify:function(t){var e=t.newValue,n=t.prevValue,r=t.tableName;return{newValue:o("ReStoreVaulting").maybeVaultDbRow(e,r),prevValue:o("ReStoreVaulting").maybeVaultDbRow(n,r)}},onBeforePut:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)},onBeforeUpsert:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)}};l.default=e}),98);
__d("MAWVaultMaterialsStorage",["MAWVaultMaterials","MWFBLogger","Promise","WebAsyncStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mw_exchange_vm";function u(){var t=o("MAWVaultMaterials").generateNewVaultMaterials(),a="newly-generated";return new(e||(e=n("Promise")))(function(e){r("WebAsyncStorage").getOrSetItem(s,t,function(n,r){if(n!=null){var i=o("MWFBLogger").MWLogger();if(n instanceof Error)throw i.catching(n).mustfixThrow("Failed to store Vaulting Materials. %s",n.toString());i.mustfix("Failed to store Vaulting Materials.")}r!==null&&(t=r,a="storage"),e(o("MAWVaultMaterials").initializeVaultMaterials(t,a))})})}function c(){return o("MAWVaultMaterials").hasVaultBeenSetup()?(e||(e=n("Promise"))).resolve(o("MAWVaultMaterials").getVaultMaterials()):u()}l.setupVaultMaterials=c}),98);/*FB_PKG_DELIM*/
__d("EBMarkerIdToQPLEvent",["I64","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=o("I64"))).to_int32(t);switch(n){case 1021646192:return r("qpl")._(1021646192,"3099");case 1021656232:return r("qpl")._(1021656232,"3100");case 1021647318:return r("qpl")._(1021647318,"3101");case 1021651622:return r("qpl")._(1021651622,"3102");case 1021655799:return r("qpl")._(1021655799,"3103");case 1021648929:return r("qpl")._(1021648929,"3104");case 1021647593:return r("qpl")._(1021647593,"3105");case 1021653744:return r("qpl")._(1021653744,"3106");case 1021655355:return r("qpl")._(1021655355,"3107");case 1021648240:return r("qpl")._(1021648240,"3108");case 1021651939:return r("qpl")._(1021651939,"3109");case 1021656851:return r("qpl")._(1021656851,"3110");case 1021652813:return r("qpl")._(1021652813,"3111");case 1021653501:return r("qpl")._(1021653501,"3112");case 1021655710:return r("qpl")._(1021655710,"3114");case 1021655643:return r("qpl")._(1021655643,"3115");case 1021646076:return r("qpl")._(1021646076,"3116");case 1021642512:return r("qpl")._(1021642512,"3117");case 1021654781:return r("qpl")._(1021654781,"3118");case 1021649468:return r("qpl")._(1021649468,"3120");case 1021652080:return r("qpl")._(1021652080,"3121");case 1021652512:return r("qpl")._(1021652512,"3122");case 1021655828:return r("qpl")._(1021655828,"3124");case 1021642298:return r("qpl")._(1021642298,"3126");case 1021652377:return r("qpl")._(1021652377,"3127");case 521471316:return r("qpl")._(521471316,"2831");case 521478596:return r("qpl")._(521478596,"1329");case 521479468:return r("qpl")._(521479468,"3128");case 521482563:return r("qpl")._(521482563,"3129");case 521482912:return r("qpl")._(521482912,"3131");case 521481876:return r("qpl")._(521481876,"1407");case 521471732:return r("qpl")._(521471732,"1454");case 521477507:return r("qpl")._(521477507,"1406");case 521478817:return r("qpl")._(521478817,"2806");case 521476801:return r("qpl")._(521476801,"3132");case 521484724:return r("qpl")._(521484724,"141");case 521473756:return r("qpl")._(521473756,"2768");case 521477113:return r("qpl")._(521477113,"2698");case 521478750:return r("qpl")._(521478750,"2850");case 521479165:return r("qpl")._(521479165,"3055");case 521484370:return r("qpl")._(521484370,"2995");case 521473213:return r("qpl")._(521473213,"27");case 521482281:return r("qpl")._(521482281,"2703");case 521476771:return r("qpl")._(521476771,"2454");case 521474469:return r("qpl")._(521474469,"2612");case 521471755:return r("qpl")._(521471755,"2586");case 521476367:return r("qpl")._(521476367,"2704");case 521473850:return r("qpl")._(521473850,"2910");case 521482558:return r("qpl")._(521482558,"2558");case 521482880:return r("qpl")._(521482880,"16");case 521473150:return r("qpl")._(521473150,"2143");case 521473369:return r("qpl")._(521473369,"2834");case 521485893:return r("qpl")._(521485893,"2835");case 521473922:return r("qpl")._(521473922,"2832");case 521479146:return r("qpl")._(521479146,"3133");case 521471468:return r("qpl")._(521471468,"2968");case 521480391:return r("qpl")._(521480391,"1167");case 521480745:return r("qpl")._(521480745,"3134");case 521481602:return r("qpl")._(521481602,"829");case 521475102:return r("qpl")._(521475102,"3135");case 521484676:return r("qpl")._(521484676,"2684");case 521485625:return r("qpl")._(521485625,"1876");case 521482085:return r("qpl")._(521482085,"409");case 521471024:return r("qpl")._(521471024,"2275");case 521474385:return r("qpl")._(521474385,"263");case 521479842:return r("qpl")._(521479842,"2163");case 521485383:return r("qpl")._(521485383,"2200");case 521478580:return r("qpl")._(521478580,"3136");case 521485815:return r("qpl")._(521485815,"3137");case 521482969:return r("qpl")._(521482969,"1519");case 521485406:return r("qpl")._(521485406,"272");case 521479972:return r("qpl")._(521479972,"3138");case 521484777:return r("qpl")._(521484777,"2715");case 521483076:return r("qpl")._(521483076,"3140");case 521482858:return r("qpl")._(521482858,"1290");case 521472542:return r("qpl")._(521472542,"295");case 521472456:return r("qpl")._(521472456,"1646");case 521476140:return r("qpl")._(521476140,"378");case 521473194:return r("qpl")._(521473194,"1331");case 521482763:return r("qpl")._(521482763,"296");case 521484295:return r("qpl")._(521484295,"1460");case 521476165:return r("qpl")._(521476165,"2432");case 521477947:return r("qpl")._(521477947,"2395");case 521486220:return r("qpl")._(521486220,"827");case 521482576:return r("qpl")._(521482576,"1069");case 521479124:return r("qpl")._(521479124,"1939");case 521476098:return r("qpl")._(521476098,"504");case 521472095:return r("qpl")._(521472095,"2859")}return null}l.markerIdToQPLEvent=s}),98);
__d("LSAppendDataTraceAddon",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return n[0]=t.i64.of_float(Date.now()),t.db.table(154).add({addonId:void 0,traceId:e[0],timestampMs:n[0],checkPointId:e[1],syncChannel:e[2],errorMessage:e[3],tags:e[4]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSDataTraceAppendDataTraceAddonStoredProcedure",e.__tables__=["data_trace_addon"],a.exports=e}),null);
__d("LSCheckIfAuthoritativeThreadMissingMiActMapping",["gkx"],(function(t,n,r,o,a,i,l){function e(){var e=arguments,t=e[e.length-1],n=[],o=[];return t.sequence([function(a){return t.sequence([function(o){return r("gkx")("4792")?t.sequence([function(r){return t.db.table(173).fetch([[[e[0]]]]).next().then(function(r,o){var a=r.done,i=r.value;return a?t.sequence([function(r){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[3]=!1:(r=a.item,n[3]=t.i64.eq(r.authorityLevel,t.i64.cast([0,80])))})},function(e){return n[1]=n[3]}]):(o=i.item,n[1]=!1)})},function(e){return n[0]=n[1]}]):t.resolve(n[0]=!1)},function(e){return o[0]=n[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckIfAuthoritativeThreadMissingMiActMappingStoredProcedure",e.__tables__=["mi_act_mapping_table","threads"];var s=e;l.default=s}),98);
__d("LSClearMessagePlaceholderRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(13).fetch([[[e[0],t.i64.cast([0,0])]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&n.minMessageId===e[1]&&t.i64.eq(t.i64.cast([0,0]),n.minTimestampMs)&&t.i64.eq(e[2],n.maxTimestampMs)}),function(e){return e.delete()})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure",e.__tables__=["messages_ranges_v2__generated"],a.exports=e}),null);
__d("LSComputeParticipantCapabilities",["LSGetViewerFBID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(n){return t.filter(t.db.table(14).fetch([[[e[1],r[0]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,r[0])}).next().then(function(e,t){var n,o,a=e.done,i=e.value;return a?(n=[!1,!1],r[1]=n[0],r[2]=n[1],n):(t=i.item,o=[t.isAdmin==null?!1:t.isAdmin,t.isModerator],r[1]=o[0],r[2]=o[1])})},function(n){return t.filter(t.db.table(14).fetch([[[e[1],e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.contactId,e[0])}).next().then(function(e,t){var n,o,a=e.done,i=e.value;return a?(n=[!1,!1],r[4]=n[0],r[5]=n[1],n):(t=i.item,o=[t.isAdmin==null?!1:t.isAdmin,t.isModerator],r[4]=o[0],r[5]=o[1])})},function(n){return t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(o=[t.i64.cast([0,1073741823]),t.i64.cast([0,0]),!1],r[7]=o[0],r[8]=o[1],r[9]=o[2],o):(n=l.item,a=[n.capabilities==null?t.i64.cast([0,1073741823]):n.capabilities,n.contactTypeExact==null?t.i64.cast([0,0]):n.contactTypeExact,n.isManagedByViewer==null?!1:n.isManagedByViewer],r[7]=a[0],r[8]=a[1],r[9]=a[2])})},function(e){return r[12]=t.i64.eq(r[8],t.i64.cast([0,4]))?r[9]?t.i64.cast([0,2612119]):t.i64.or_(t.i64.cast([0,2612119]),t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,3])))):r[7],t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[11]=t[0],t})},function(o){return r[13]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,20]))),r[15]=r[1]&&!r[4]&&t.i64.neq(r[11],e[0])||t.i64.eq(t.i64.and_(r[12],r[13]),t.i64.cast([0,0]))?r[12]:t.i64.sub(r[12],r[13]),t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[14]=t[0],t})},function(o){return r[16]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,22]))),r[19]=r[4]&&r[1]&&t.i64.neq(r[14],e[0])||t.i64.eq(t.i64.and_(r[15],r[16]),t.i64.cast([0,0]))?r[15]:t.i64.sub(r[15],r[16]),r[2]?r[17]=!(r[4]||r[5]):r[17]=!0,t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[18]=t[0],t})},function(n){return r[20]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,21]))),o[0]=(r[1]||r[2])&&r[17]&&t.i64.neq(e[0],r[18])||t.i64.eq(t.i64.and_(r[19],r[20]),t.i64.cast([0,0]))?r[19]:t.i64.sub(r[19],r[20])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxComputeParticipantCapabilitiesStoredProcedure",e.__tables__=["participants","contacts"],a.exports=e}),null);
__d("LSCreateOfflineThreadingID",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return n[0]=t.i64.random(),r[0]=t.i64.and_(t.i64.or_(t.i64.lsl_(e[0],t.i64.to_int32(t.i64.cast([0,22]))),t.i64.and_(n[0],t.i64.cast([0,4194303]))),t.i64.cast([2147483647,4294967295])),t.resolve(r)}e.__sproc_name__="LSMailboxCreateOfflineThreadingIDStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(34).put({threadKey:e[0],messageRequestStatus:e[2]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure",e.__tables__=["message_requests"],a.exports=e}),null);
__d("LSDeleteThenInsertRankingRequest",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(135).put({scoreType:e[0],requestId:e[1]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSRankingDeleteThenInsertRankingRequestStoredProcedure",e.__tables__=["ranking_requests"],a.exports=e}),null);
__d("LSDeleteThenInsertRankingScore",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(134).put({contactId:e[0],scoreType:e[1],contactType:e[2],score:e[3],scoreIndex:e[4]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSRankingDeleteThenInsertRankingScoreStoredProcedure",e.__tables__=["ranking_scores"],a.exports=e}),null);
__d("LSVec",[],(function(t,n,r,o,a,i){"use strict";var e={tag:{value:"ls-array"}};function l(t){return Object.defineProperties([].concat(t),e)}function s(e){return l(e)}function u(e){return Array.from(e)}var c={from:l,ofArray:s,toArray:u};i.default=c}),66);
__d("LSDict",["FBLogger","I64","LSVec"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){if(t!=null){var n=(e||(e=o("I64"))).cast(t);return n!=null?JSON.stringify([(e||(e=o("I64"))).to_string(n)]):JSON.stringify(t)}}function u(t){if(t!=null){var n=JSON.parse(t);return Array.isArray(n)?(e||(e=o("I64"))).of_string(n[0]):n}}var c=(function(){function e(e){this.size=0;var t=new Map(Array.from(e||[]).map(function(e){var t=e[0],n=e[1];return t==null?null:[s(t),n]}).filter(Boolean));this.$1=t,Object.defineProperties(this,{size:{get:function(){return t.size}}})}var t=e.prototype;return t.get=function(t){if(t!=null)return this.$1.get(s(t))},t.set=function(t,n){return t==null?this:(this.$1.set(s(t),n),this)},t.delete=function(t){return t==null?!1:this.$1.delete(s(t))},t.clear=function(){return this.$1.clear()},t.forEach=function(t){var e=this;this.$1.forEach(function(n,r){return t(n,u(r),e)})},t.has=function(t){return t==null?!1:this.$1.has(s(t))},t.entries=function*(){for(var e of this.$1.entries()){var t=e[0],n=e[1];yield[u(t),n]}},t.keys=function(){return r("LSVec").from(Array.from(this.$1.keys()).map(function(e){return u(e)}))},t.values=function(){return this.$1.values()},e.fromObject=function(n){return new e(Object.entries(n))},e.shapeToRecord=function(t){return Array.from(t.entries()).reduce(function(e,t){var n,o=t[0],a=t[1];if(typeof o!="string")throw r("FBLogger")("messenger_web").mustfixThrow("Cannot convert dicts with mixed keys to records");return babelHelpers.extends({},e,(n={},n[o]=a,n))},{})},e})();l.default=c}),98);
__d("LSJson",["FBLogger","I64","LSDict","LSVec"],(function(t,n,r,o,a,i,l){"use strict";var e,s=512,u={useLSTypes:!1};function c(t,n){var a=n===void 0?u:n,i=a.useLSTypes;function l(e,t){return function(){return function(n){var r=e()(n);if(r!=null){var o=r[0],a=r[1];return[t(o),a]}}}}function s(e){return JSON.parse('"'+e+'"')}function c(e){return function(){return function(t){var n=s(e);if(t.startsWith(n))return[n,t.substr(n.length)]}}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(e){var n=[],r=e;for(var o of t){var a=o()(r);if(a==null)return;r=a[1],n.push(a[0])}return[n,r]}}}function m(e){return function(){return function(t){var n=e.exec(t);return n!=null?[n,t.substr(n[0].length)]:void 0}}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(e){for(var n of t){var r=n()(e);if(r!=null)return r}}}}function _(e){return function(){return function(t){var n=e()(t);return n!=null?n:[void 0,t]}}}function f(e){return function(){return function(t){for(var n=e()(t),r=[],o=t;n!=null;)o=n[1],r.push(n[0]),n=e()(o);return[r,o]}}}var g=m(/^[\n\r\s]*/),h=l(m(/^\"((?:[^\"\\]|\\.)*)\"/),function(e){var t=e[1];return s(t)}),y=l(m(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(e){var t=e[0];return Number(t)}),C=l(m(/^-?\d+/),function(t){var n=t[0];return(e||(e=o("I64"))).of_string(n)}),b=l(c("null"),function(e){return null}),v=l(c("true"),function(e){return!0}),S=l(c("false"),function(e){return!1}),R=l(d(g,h,g,c(":"),function(){return T()}),function(e){var t=e[1],n=e[4];return[t,n]}),L=l(d(R,f(d(g,c(","),R))),function(e){var t=e[0],n=e[1];return[t].concat(n.map(function(e){var t=e[2];return t}))}),E=l(d(c("{"),_(L),g,c("}")),function(e){var t=e[1],n=t===void 0?[]:t;return i?new(r("LSDict"))(n):Object.fromEntries(n)}),k=l(d(function(){return T()},f(d(g,c(","),function(){return T()}))),function(e){var t=e[0],n=e[1];return[t].concat(n.map(function(e){var t=e[2];return t}))}),I=l(d(c("["),g,_(k),g,c("]")),function(e){var t=e[2],n=t===void 0?[]:t;return i?r("LSVec").ofArray(n):n}),T=l(d(g,p(E,h,y,C,I,b,v,S),g),function(e){var t=e[1];return t}),D=T()(t);if(D==null)throw r("FBLogger")("messenger_web").mustfixThrow("error parsing string");if(D[1]!=="")throw r("FBLogger")("messenger_web").mustfixThrow("unexpected %s",D[1]);return D[0]}function d(t,n,a){if(n===void 0&&(n=0),a===void 0&&(a=""),n>s)throw r("FBLogger")("messenger_web").mustfixThrow("recursion limit exceeded");if(typeof t=="string"||typeof t=="number")return JSON.stringify(t);if(typeof t=="boolean")return t?"1":"0";if(t==null)return"null";if(typeof t=="object"){if(Array.isArray(t)){var i=Object.getOwnPropertyDescriptor(t,"tag"),l=i==null?void 0:i.value;if(typeof l=="string"&&l==="ls-array")return"["+t.map(function(e,t){return d(e,n+1,a+"/"+t.toString())}).join(",")+"]";var u=Object.getOwnPropertyDescriptor(t,"_tag"),c=u==null?void 0:u.value;return(typeof c!="string"||c!=="i64")&&r("FBLogger")("messenger_web").warn("LSJson payload contains untagged i64: %s",a),(e||(e=o("I64"))).to_string(t)}else if(t instanceof r("LSDict"))return"{"+Array.from(t.entries()).map(function(e){var t=e[0],o=e[1];if(typeof t=="string")return JSON.stringify(t)+":"+d(o,n+1,a+"/"+t);throw r("FBLogger")("messenger_web").mustfixThrow("key must be a string")}).join(",")+"}"}throw r("FBLogger")("messenger_web").mustfixThrow("type not supported: %s, path: %s",typeof t,a)}l.parse=c,l.stringify=d}),98);
__d("LSDeserializeFromJsonIntoDictionaryV2.nop",["FBLogger","LSDict","LSJson","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(a,i,l){var t=o("LSJson").parse(l,{useLSTypes:!0});if(t instanceof r("LSDict"))return(e||(e=n("Promise"))).resolve([t]);throw r("FBLogger")("messenger_web").mustfixThrow("unexpected Dictionary type")};s.__nop_name__="LSDeserializeFromJsonIntoDictionary",l.default=s}),98);
__d("LSFlushSyncTrace",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(153).fetch(),function(n){return t.i64.eq(n.traceType,t.i64.cast([0,2]))&&n.contextOne===e[1]&&n.contextThree===e[0]}),function(e){var t=e.update,n=e.item;return t({shouldFlush:!0})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSDataTraceFlushSyncTraceStoredProcedure",e.__tables__=["data_trace_meta"],a.exports=e}),null);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.sequence([function(n){return t.forEach(t.filter(t.db.table(3).fetch([[["",e[1]]]]),function(n){return n.taskQueueName===""&&t.i64.eq(n.syncDatabaseId,e[1])&&t.i64.eq(n.epochId,e[2])}),function(n){var r=n.update,o=n.item;return r({epochId:!e[0]&&t.i64.eq(o.failureCount,t.i64.cast([-1,4294967295]))?o.epochId:void 0,failureCount:t.i64.eq(o.failureCount,t.i64.cast([-1,4294967295]))?t.i64.cast([0,0]):t.i64.add(o.failureCount,t.i64.cast([0,1]))})})},function(e){return t.resolve()}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure",e.__tables__=["network_requests"],a.exports=e}),null);
__d("LSSyncError",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t,n){e.set(t,n)}function s(t){return e.get(t)}function u(){e.clear()}i.setSyncError=l,i.getLastSyncError=s,i.clearSyncErrors=u}),66);
__d("LSLogEventAnnotate.nop",["FBLogger","I64","LSDict","LSIntEnum","LSSyncError","LSSynchronousPromise","MAWMIC"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n,a,i,l,u,c){var t=c.has("error_msg");if(t){r("FBLogger")("messenger_web").warn("[LS] LS log event for logCategory %s, logEventId %s, logEventInstanceId %s, annotations %s, is during MIC: %s",(e||(e=o("I64"))).to_string(i),e.to_string(l),e.to_string(u),JSON.stringify(r("LSDict").shapeToRecord(c)),o("MAWMIC").duringMIC());var d=c.get("database_id");d!=null&&(e||(e=o("I64"))).isI64(d)&&o("LSSyncError").setSyncError((s||(s=o("LSIntEnum"))).unwrapIntEnum(d),c)}return o("LSSynchronousPromise").makeSynchronousPromise()};u.__nop_name__="LSLogEventAnnotate",l.default=u}),98);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(e){return t.resolve()},function(o){return t.filter(t.db.table(3).fetch([[["",e[0]]]]),function(n){return n.taskQueueName===""&&t.i64.eq(n.syncDatabaseId,e[0])&&t.i64.eq(n.epochId,e[1])}).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(3).fetch([[["",e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[2]=void 0:(t=o.item,r[2]=t.epochId)})},function(o){return r[4]=",",(function(e){t.logger(e).mustfix(e)})(["epoch mismatch",r[4]," db_type=",r[4],t.i64.to_string(e[0]),r[4]," previous_cursor=",r[4],e[2]==null?"null":e[2],r[4]," next_cursor=",r[4],e[3],r[4]," server_epoch_id=",r[4],t.i64.to_string(e[1]),r[4]," client_epoch_id=",r[4],r[2]==null?"null":r[2]].join("")),r[5]=new t.Map,r[5].set("database_id",e[0]),r[5].set("epoch_id",e[1]),r[5].set("sync_status",e[4]),r[5].set("next_cursor",e[3]),r[5].set("error_msg","epoch mismatch"),e[9]?r[6]=!1:r[6]=!0,r[6]?t.resolve():(r[8]=e[9].keys(),r[9]=t.i64.of_int32(r[8].length),t.i64.gt(r[9],t.i64.cast([0,0]))?t.loopAsync(r[9],function(o){return r[10]=o,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[8],r[10]).then(function(e){var t;return t=e,r[11]=t[0],r[12]=t[1],t})},function(t){return r[13]=e[9].get(r[11]),r[5].set(r[11],r[13])}])}):t.resolve())},function(e){return t.nativeOperation(n("LSLogEventAnnotate.nop"),t.i64.cast([0,16]),t.i64.cast([0,35]),t.i64.cast([0,0]),r[5])},function(e){return r[7]=!1,r[0]=r[7]}]):(a=l.item,t.sequence([function(o){return t.filter(t.db.table(1).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.groupId,e[0])&&n.currentCursor===e[2]}).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(3).fetch([[["",e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[4]=void 0:(t=o.item,r[4]=t.epochId)})},function(o){return r[6]=",",(function(e){t.logger(e).mustfix(e)})(["cursor mismatch",r[6]," db_type=",r[6],t.i64.to_string(e[0]),r[6]," previous_cursor=",r[6],e[2]==null?"null":e[2],r[6]," next_cursor=",r[6],e[3],r[6]," server_epoch_id=",r[6],t.i64.to_string(e[1]),r[6]," client_epoch_id=",r[6],r[4]==null?"null":r[4]].join("")),r[7]=new t.Map,r[7].set("database_id",e[0]),r[7].set("epoch_id",e[1]),r[7].set("sync_status",e[4]),r[7].set("next_cursor",e[3]),r[7].set("error_msg","cursor mismatch"),e[9]?r[8]=!1:r[8]=!0,r[8]?t.resolve():(r[10]=e[9].keys(),r[11]=t.i64.of_int32(r[10].length),t.i64.gt(r[11],t.i64.cast([0,0]))?t.loopAsync(r[11],function(o){return r[12]=o,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[10],r[12]).then(function(e){var t;return t=e,r[13]=t[0],r[14]=t[1],t})},function(t){return r[15]=e[9].get(r[13]),r[7].set(r[13],r[15])}])}):t.resolve())},function(e){return t.nativeOperation(n("LSLogEventAnnotate.nop"),t.i64.cast([0,16]),t.i64.cast([0,35]),t.i64.cast([0,0]),r[7])},function(e){return r[9]=!1,r[2]=r[9]}]):(a=l.item,t.sequence([function(n){return r[4]=t.i64.of_float(Date.now()),r[5]=t.i64.of_float(Date.now()),t.forEach(t.db.table(1).fetch([[[e[0]]]]),function(n){var o=n.update,a=n.item;return o({currentCursor:e[3],syncStatus:e[4],sendSyncParams:e[5],minTimeToSyncTimestampMs:t.i64.eq(e[6],t.i64.cast([0,0]))?t.i64.cast([0,0]):t.i64.add(r[4],e[6]),canIgnoreTimestamp:e[7],syncChannel:e[8],lastSyncCompletedTimestampMs:r[5]})})},function(n){return t.forEach(t.db.table(3).fetch([[["",e[0]]]]),function(e){var n=e.update,r=e.item;return n({failureCount:t.i64.cast([-1,4294967295])})})},function(o){return r[6]=new t.Map,r[6].set("database_id",e[0]),r[6].set("epoch_id",e[1]),r[6].set("sync_status",e[4]),r[6].set("next_cursor",e[3]),e[9]?r[7]=!1:r[7]=!0,r[7]?t.resolve():(r[9]=e[9].keys(),r[10]=t.i64.of_int32(r[9].length),t.i64.gt(r[10],t.i64.cast([0,0]))?t.loopAsync(r[10],function(o){return r[11]=o,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[9],r[11]).then(function(e){var t;return t=e,r[12]=t[0],r[13]=t[1],t})},function(t){return r[14]=e[9].get(r[12]),r[6].set(r[12],r[14])}])}):t.resolve())},function(e){return t.nativeOperation(n("LSLogEventAnnotate.nop"),t.i64.cast([0,16]),t.i64.cast([0,35]),t.i64.cast([0,0]),r[6])},function(e){return r[8]=!0,r[2]=r[8]}]))})},function(e){return r[0]=r[2]}]))})},function(e){return o[0]=r[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure",e.__tables__=["data_trace_meta","network_requests","sync_groups"],a.exports=e}),null);
__d("LSGetFirstAvailableAttachmentCTAID",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(e){return t.sequence([function(e){return t.db.table(19).fetchDesc().next().then(function(e,r){var o=e.done,a=e.value;return o?n[0]=t.i64.cast([0,1]):(r=a.item,n[0]=t.i64.add(r.ctaId,t.i64.cast([0,1])))})},function(e){return r[0]=n[0]}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure",e.__tables__=["attachment_ctas"],a.exports=e}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.storedProcedure(n("LSClearMessagePlaceholderRange"),e[0],e[9],t.i64.cast([0,0]))},function(n){return t.filter(t.db.table(13).fetch([[[e[0],{lte:e[5]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.le(n.minTimestampMs,e[5])&&t.i64.ge(n.maxTimestampMs,e[5])}).next().then(function(t,n){var o,a,i=t.done,l=t.value;return i?(o=[e[1],e[3],e[7]],r[0]=o[0],r[1]=o[1],r[2]=o[2],o):(n=l.item,a=[n.minTimestampMs,n.minMessageId,n.hasMoreBefore],r[0]=a[0],r[1]=a[1],r[2]=a[2])})},function(n){return t.filter(t.db.table(13).fetch([[[e[0],{lte:e[6]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.le(n.minTimestampMs,e[6])&&t.i64.ge(n.maxTimestampMs,e[6])}).next().then(function(t,n){var o,a,i=t.done,l=t.value;return i?(o=[e[2],e[4],e[8]],r[4]=o[0],r[5]=o[1],r[6]=o[2],o):(n=l.item,a=[n.maxTimestampMs,n.maxMessageId,n.hasMoreAfter],r[4]=a[0],r[5]=a[1],r[6]=a[2])})},function(n){return t.forEach(t.filter(t.db.table(13).fetch([[[e[0],{lte:e[6]}]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.ge(e[6],n.minTimestampMs)&&t.i64.le(e[5],n.maxTimestampMs)}),function(e){return e.delete()})},function(n){return t.db.table(13).put({threadKey:e[0],minTimestampMs:r[0],minMessageId:r[1],maxTimestampMs:r[4],maxMessageId:r[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:r[2],hasMoreAfter:r[6]})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure",e.__tables__=["messages_ranges_v2__generated"],a.exports=e}),null);
__d("LSIsEncryptionVersionSecure",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.i64.eq(e[0],t.i64.cast([0,4]))?n[0]=!1:(t.i64.eq(e[0],t.i64.cast([0,3]))?n[1]=!0:(t.i64.eq(e[0],t.i64.cast([0,2]))?n[2]=!0:(t.i64.eq(e[0],t.i64.cast([0,0]))?n[3]=!0:(t.i64.eq(e[0],t.i64.cast([0,99])),n[4]=!1,n[3]=n[4]),n[2]=n[3]),n[1]=n[2]),n[0]=n[1]),r[0]=n[0],t.resolve(r)}e.__sproc_name__="LSEncryptedBackupsVersioningIsEncryptionVersionSecureStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSIssueNewTask",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return n[0]=t.i64.cast([0,0]),n[2]=t.i64.to_string(e[1]),n[1]=t.i64.of_float(Date.now()),t.db.table(2).add({taskId:void 0,queueName:e[0],context:n[2],taskValue:e[2],enqueueTimestampMs:n[1],httpUrlOverride:e[3],timeoutTimestampMs:e[4],pluginType:e[5],priority:e[6],syncGroupId:e[7],transportKey:e[8],minTimeToSyncTimestampMs:e[9],taskDispatchPriority:n[0]})},function(r){return t.filter(t.db.table(2).fetchDesc([[[e[0]]],"queueNameTaskId"]),function(t){return t.queueName===e[0]&&t.context===n[2]&&t.taskValue===e[2]}).next().then(function(e,r){var o=e.done,a=e.value;return o?n[3]=t.i64.cast([-1,4294967295]):(r=a.item,n[3]=r.taskId)})},function(r){return n[5]=" ",(function(e){t.logger(e).info(e)})(["LightSpeed NewTask",n[5],"task_id:",n[5],t.i64.to_string(n[3]),n[5],"queue_name:",n[5],e[0],n[5],"task_label:",n[5],n[2]].join(""))}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreIssueNewTaskStoredProcedure",e.__tables__=["pending_tasks"],a.exports=e}),null);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(r){return t.storedProcedure(n("LSIssueNewTask"),e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10])},function(n){return r[3]=t.i64.to_string(e[1]),t.filter(t.db.table(2).fetchDesc([[[e[0]]],"queueNameTaskId"]),function(t){return t.queueName===e[0]&&t.context===r[3]&&t.taskValue===e[2]}).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([-1,4294967295]):(n=a.item,r[0]=n.taskId)})},function(o){return r[2]=new t.Map,r[2].set("task_id",r[0]),r[2].set("task_queue_name",e[0]),r[2].set("task_label",r[3]),t.nativeOperation(n("LSLogEventAnnotate.nop"),t.i64.cast([0,16]),t.i64.cast([0,23]),t.i64.cast([0,0]),r[2])},function(e){return o[0]=r[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreIssueNewTaskAndGetTaskIDStoredProcedure",e.__tables__=["pending_tasks"],a.exports=e}),null);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.islc(t.db.table(232).fetch(),0,t.i64.to_float(t.i64.cast([0,1]))),function(n){var r=n.item;return t.db.table(233).add({taskId:e[0],notificationScopeKey:r.notificationScopeKey,notificationName:r.notificationName})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskInsertionStoredProcedure",e.__tables__=["mailbox_task_completion_notification_context","mailbox_task_completion_api_tasks"],a.exports=e}),null);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[11]).then(function(e){var t;return t=e,r[0]=t[0],t})},function(e){return t.storedProcedure(n("LSMailboxTaskCompletionApiOnTaskInsertion"),r[0])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSMailboxTaskCompletionApiOnTaskCompletion",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(233).fetch([[[e[0]]]]),function(t){var n=t.update,r=t.item;return n({success:e[1]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskCompletionStoredProcedure",e.__tables__=["mailbox_task_completion_api_tasks"],a.exports=e}),null);
__d("LSPlatformWaitForTaskCompletion",["I64","emptyFunction","err","promiseDone","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=["acs_sync"];async function u(t,n,a,l){var u=new Set,c=[],d=0,m=!0,p,_,f=new Promise(function(e,t){p=e,_=t}),g=r("uuidv4")(),h=!0,y=await t.runInTransaction(async function(f){await f.mailbox_task_completion_notification_context.add({notificationName:a,notificationScopeKey:g});var C=t.tables.pending_tasks.subscribe(function(t,n){var r=(e||(e=o("I64"))).to_string(t[0]);if(n.operation==="add"||n.operation==="put"){var a=n.value;if(s.some(function(e){return a.queueName.startsWith(e)})||l!=null&&a.queueName!==l)return;u.add(r)}else u.delete(r)}),b=r("emptyFunction"),v=t.tables.mailbox_task_completion_api_tasks.subscribe(function(t,n){if(n.operation==="add"||n.operation==="put"&&n.value.notificationScopeKey===g){var r=(e||(e=o("I64"))).to_string(n.value.taskId);u.delete(r);var a=n.value.success;a==null?h&&(c.push(r),d+=1):(m=a&&m,d-=1)}});b=t.subscribeToCommit(function(){d===0&&u.size===0&&(v(),C(),b(),r("promiseDone")(t.runInTransaction(async function(t){for(var n of c)await t.mailbox_task_completion_api_tasks.delete((e||(e=o("I64"))).of_string(n))},"readwrite","background",void 0,i.id+":144")),m?p(y):_(r("err")("Not all tasks for "+a+" succeeded")))});try{var S=await n(f);return await f.mailbox_task_completion_notification_context.delete(g),S}catch(e){throw b(),v(),C(),e}},"readwrite",void 0,void 0,i.id+":65");return h=!1,f}l.default=u}),98);
__d("LSQplMarkEnd.nop",["EBMarkerIdToQPLEvent","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(a,i,l,s,u){try{var t=r("nullthrows")(o("EBMarkerIdToQPLEvent").markerIdToQPLEvent(l)),c=o("WAHashStringToNumber").hashStringToNumber(s);return u?r("QPLUserFlow").endSuccess(t,{instanceKey:c}):r("QPLUserFlow").endFailure(t,"failure",{instanceKey:c}),(e||(e=n("Promise"))).resolve()}catch(t){return(e||(e=n("Promise"))).resolve()}};s.__nop_name__="LSQplMarkEnd",l.default=s}),98);
__d("LSRemoveTask",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.db.table(2).fetch([[[e[0]]]]).next().then(function(r,o){var a=r.done,i=r.value;return a?0:(o=i.item,t.forEach(t.db.table(2).fetch([[[o.queueName,{lte:e[0]}]],"queueNameTaskId"]),function(e){var r=e.item;return t.sequence([function(e){return n[0]=r.taskDispatchPriority,t.forEach(t.filter(t.db.table(2).fetch([[[r.taskId]]]),function(e){return t.i64.eq(e.taskId,r.taskId)&&e.queueName===r.queueName}),function(e){return e.delete()})},function(e){return t.i64.eq(n[0],t.i64.cast([0,1e3]))||t.i64.eq(n[0],t.i64.cast([0,2e3]))?n[1]=t.i64.cast([0,734739218]):n[1]=t.i64.cast([0,734737036])}])}))})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreRemoveTaskStoredProcedure",e.__tables__=["pending_tasks"],a.exports=e}),null);
__d("LSSetMessageDisplayedContentTypes",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return t.db.table(16).fetch([[[e[0],e[1]]]]).next().then(function(e,t){var r,o,a=e.done,i=e.value;return a?(r=[void 0,void 0],n[0]=r[0],n[1]=r[1],r):(t=i.item,o=[t.attachmentType,t.xmaLayoutType],n[0]=o[0],n[1]=o[1])})},function(r){return t.filter(t.db.table(12).fetch([[[e[0],e[2],e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.timestampMs,e[2])&&n.messageId===e[1]}).next().then(function(e,r){var o,a,i=e.done,l=e.value;return i?(o=[t.i64.cast([0,0]),void 0,void 0],n[3]=o[0],n[4]=o[1],n[5]=o[2],o):(r=l.item,a=[r.replySourceTypeV2,r.replySourceId,r.text],n[3]=a[0],n[4]=a[1],n[5]=a[2])})},function(r){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var r=e.done,o=e.value;return r?n[7]=void 0:(t=o.item,n[7]=t.customEmoji)})},function(r){return t.i64.eq(n[0],t.i64.cast([0,6]))?n[9]=t.i64.cast([0,64]):(t.i64.eq(n[0],t.i64.cast([0,5]))?n[16]=t.i64.cast([0,4]):(t.i64.eq(n[0],t.i64.cast([0,3]))?n[17]=t.i64.cast([0,16384]):(t.i64.eq(n[0],t.i64.cast([0,2]))?n[18]=t.i64.cast([0,2]):(t.i64.eq(n[0],t.i64.cast([0,4]))?n[19]=t.i64.cast([0,2]):n[19]=e[5]?t.i64.cast([0,4096]):t.i64.cast([0,0]),n[18]=n[19]),n[17]=n[18]),n[16]=n[17]),n[9]=n[16]),n[10]=n[5]!==void 0&&n[5]!==""&&n[5]!==n[7]?t.i64.or_(n[9],t.i64.cast([0,1])):n[9],n[11]=n[7]!==void 0&&n[7]===n[5]?t.i64.or_(n[10],t.i64.cast([0,128])):n[10],n[12]=t.i64.eq(n[0],t.i64.cast([0,7]))?t.i64.or_(n[11],t.i64.cast([0,8])):n[11],n[13]=t.i64.eq(n[1],t.i64.cast([0,0]))?t.i64.or_(n[12],t.i64.cast([0,1024])):t.i64.eq(n[1],t.i64.cast([0,1]))?t.i64.or_(n[12],t.i64.cast([0,2048])):n[12],n[14]=t.i64.eq(n[3],t.i64.cast([0,2]))&&n[4]!==void 0?t.i64.or_(n[13],t.i64.cast([0,512])):n[13],n[15]=n[5]!==void 0&&n[5]!==""&&n[5]!==n[7]&&t.i64.eq(n[3],t.i64.cast([0,5]))?t.i64.or_(n[14],t.i64.cast([0,512])):n[14],t.forEach(t.filter(t.db.table(12).fetch([[[e[0],e[2],e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.timestampMs,e[2])&&n.messageId===e[1]}),function(r){var o=r.update,a=r.item;return o({displayedContentTypes:e[4]?t.i64.cast([0,32]):t.i64.eq(n[3],t.i64.cast([0,3]))?t.i64.or_(n[15],t.i64.cast([0,8192])):n[15]})})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxSetMessageDisplayedContentTypesStoredProcedure",e.__tables__=["attachments","messages","threads"],a.exports=e}),null);
__d("LSSetRegionHint",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(1).fetch([[[e[0]]]]),function(t){var n=t.update,r=t.item;return n({regionHint:e[1]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreSetRegionHintStoredProcedure",e.__tables__=["sync_groups"],a.exports=e}),null);
__d("LSShape",["LSDict"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("LSDict").fromObject(e)}function s(e){return r("LSDict").shapeToRecord(e)}l.ofRecord=e,l.toRecord=s}),98);
__d("LSTaskExists",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(o){return t.sequence([function(r){return t.db.table(2).fetch([[[e[0]]]]).next().then(function(e,t){var r=e.done,o=e.value;return r?n[0]=!1:(t=o.item,n[0]=!0)})},function(e){return r[0]=n[0]}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreTaskExistsStoredProcedure",e.__tables__=["pending_tasks"],a.exports=e}),null);
__d("LSUpdateOrInsertOhaiGatewayKeyConfigs",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(313).put({keyId:e[0],publicKey:e[1],kemId:e[2],kdfId:e[3],aeadId:e[4],expirationDate:e[5],lastUpdatedTime:e[6]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSOhaiUpdateOrInsertOhaiGatewayKeyConfigsStoredProcedure",e.__tables__=["ohai_gateway_key_configs"],a.exports=e}),null);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return r[1]=e[3]==null?"":e[3],t.forEach(t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))&&t.i64.lt(n.authorityLevel,e[14])}),function(e){return e.delete()})},function(n){return t.db.table(7).add({id:e[0],profilePictureUrl:e[2]==null?"":e[2],profilePictureFallbackUrl:e[5],name:r[1],secondaryName:e[20],normalizedNameForSearch:r[1],isMemorialized:e[9],blockedByViewerStatus:e[11],canViewerMessage:e[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:e[4],contactTypeExact:t.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:e[14],workForeignEntityType:t.i64.cast([0,0]),capabilities:e[15],capabilities2:e[16],contactViewerRelationship:e[19],gender:e[18],firstName:e[21]})},function(o){return r[2]=new t.Map,r[2].set("contact_id",e[0]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"cpq_v2",t.i64.cast([0,207]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):(a=l.item,t.resolve())})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSContactVerifyContactRowExistsStoredProcedure",e.__tables__=["contacts"],a.exports=e}),null);
__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCheckIfAuthoritativeThreadMissingMiActMapping","LSCreateOfflineThreadingID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(n){var o;return t.i64.neq(e[1],void 0)?t.sequence([function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(t,n){var o,a,i=t.done,l=t.value;return i?(o=[void 0,void 0],r[3]=o[0],r[4]=o[1],o):(n=l.item,a=[e[1],n.authorityLevel],r[3]=a[0],r[4]=a[1])})},function(e){var t;return t=[r[3],r[4]],r[0]=t[0],r[1]=t[1],t}]):t.resolve((o=[void 0,void 0],r[0]=o[0],r[1]=o[1],o))},function(o){return t.i64.neq(r[0],void 0)?t.sequence([function(o){return t.i64.neq(r[1],void 0)?t.sequence([function(e){return t.storedProcedure(n("LSCheckIfAuthoritativeThreadMissingMiActMapping"),r[0]).then(function(e){var t;return t=e,r[3]=t[0],t})},function(n){return t.i64.gt(e[2],r[1])?t.forEach(t.db.table(9).fetch([[[r[0]]]]),function(t){var n=t.update,r=t.item;return n({authorityLevel:e[2]})}):t.resolve()},function(o){return r[3]||t.i64.gt(e[2],r[1])?(r[4]=new t.Map,r[4].set("thread_fbid",r[0]),r[4].set("force_upsert",!1),r[4].set("use_open_messenger_transport",!1),r[4].set("sync_group",t.i64.cast([0,95])),r[4].set("metadata_only",!1),r[4].set("preview_only",!1),r[5]=r[4].get("thread_fbid"),r[6]=t.toJSON(r[4]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[5]),t.i64.cast([0,209]),r[6],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):t.resolve()}]):t.resolve()},function(e){return r[2]=r[0]}]):t.sequence([function(o){return t.i64.neq(e[1],void 0)?t.sequence([function(o){return t.i64.neq(e[2],t.i64.cast([0,20]))?(r[11]=new t.Map,r[11].set("thread_fbid",e[1]),r[11].set("force_upsert",!1),r[11].set("use_open_messenger_transport",!1),r[11].set("sync_group",t.i64.cast([0,95])),r[11].set("metadata_only",!1),r[11].set("preview_only",!1),r[12]=r[11].get("thread_fbid"),r[13]=t.toJSON(r[11]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[12]),t.i64.cast([0,209]),r[13],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):t.resolve()},function(t){return r[3]=e[1]}]):t.sequence([function(e){return r[11]=t.i64.of_float(Date.now()),t.storedProcedure(n("LSCreateOfflineThreadingID"),r[11]).then(function(e){var t;return t=e,r[12]=t[0],t})},function(e){return r[3]=r[12]}])},function(n){var o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v;return t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))?(o=["inbox",t.i64.cast([0,0])],r[4]=o[0],r[5]=o[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,1]))?(a=["pending",t.i64.cast([-1,4294967295])],r[11]=a[0],r[12]=a[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,2]))?(i=["other",t.i64.cast([-1,4294967294])],r[13]=i[0],r[14]=i[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,3]))?(l=["spam",t.i64.cast([-1,4294967293])],r[15]=l[0],r[16]=l[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,5]))?(s=["hidden",t.i64.cast([-1,4294967292])],r[17]=s[0],r[18]=s[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,4]))?(u=["archived",t.i64.cast([-1,4294967286])],r[19]=u[0],r[20]=u[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,15]))?(c=["restricted",t.i64.cast([-1,4294967281])],r[21]=c[0],r[22]=c[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,19]))?(d=["interop",t.i64.cast([-1,4294967277])],r[23]=d[0],r[24]=d[1]):(t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,29]))?(m=["interop_pending",t.i64.cast([-1,4294967267])],r[25]=m[0],r[26]=m[1]):(p=["inbox",t.i64.cast([0,0])],r[25]=p[0],r[26]=p[1]),_=[r[25],r[26]],r[23]=_[0],r[24]=_[1]),f=[r[23],r[24]],r[21]=f[0],r[22]=f[1]),g=[r[21],r[22]],r[19]=g[0],r[20]=g[1]),h=[r[19],r[20]],r[17]=h[0],r[18]=h[1]),y=[r[17],r[18]],r[15]=y[0],r[16]=y[1]),C=[r[15],r[16]],r[13]=C[0],r[14]=C[1]),b=[r[13],r[14]],r[11]=b[0],r[12]=b[1]),v=[r[11],r[12]],r[4]=v[0],r[5]=v[1]),r[6]=t.i64.cast([0,1083495711]),r[7]=t.i64.cast([0,1024]),r[8]=t.i64.cast([0,0]),r[9]=t.i64.cast([0,0]),r[10]=t.i64.cast([0,134217728]),t.forEach(t.filter(t.db.table(9).fetch([[[r[3]]]]),function(n){return t.i64.eq(n.threadKey,r[3])&&t.i64.lt(n.authorityLevel,e[2])}),function(e){return e.delete()})},function(n){return t.db.table(9).add({threadKey:r[3],mailboxType:t.i64.cast([0,4096]),threadType:e[0],folderName:r[4],lastActivityTimestampMs:t.i64.cast([-1,4294967295]),lastReadWatermarkTimestampMs:t.i64.cast([-1,4294967295]),removeWatermarkTimestampMs:t.i64.cast([-1,4294967295]),ongoingCallState:t.i64.cast([0,0]),parentThreadKey:r[5],authorityLevel:e[2],capabilities:r[6],capabilities2:r[7],capabilities3:r[8],capabilities4:r[9],capabilities5:r[10],unsendLimitMs:t.i64.cast([-1,4294967295]),syncGroup:t.i64.cast([0,95]),isHidden:!0,clientThreadKey:r[3]})},function(e){return r[2]=r[3]}])},function(e){return o[0]=r[2]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxVerifyE2EEMetadataThreadExistsV2StoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("MAWConsoleLogger",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("gkx")("2656");function s(t,n,r){if(e){var o=r.map(function(e){return"["+e+"]"}).join("");if(t==="count"){console.count(o+" "+String(n));return}for(var a=arguments.length,i=new Array(a>3?a-3:0),l=3;l<a;l++)i[l-3]=arguments[l];if(o){var s;(s=console)[t].apply(s,[o,n].concat(i))}else{var u;(u=console)[t].apply(u,[n].concat(i))}}}l.logToConsole=s}),98);
__d("MAWDefaultE2eeOneToOneEligibility",["LSContactBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.maybeContact,n=t!=null&&o("LSContactBitOffset").has(83,t);return n}l.isContactDefaultE2eeOneToOneEligible=e}),98);
__d("MWFBLogger",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return r("FBLogger")("messenger_web",t)},s=function(t){return r("FBLogger")("messenger_web_media",t)},u=function(t){return r("FBLogger")("messenger_web_sharing",t)},c=function(t){return r("FBLogger")("messenger_web_calling",t)},d=function(t){return r("FBLogger")("mps",t)};l.MWLogger=e,l.MWMediaLogger=s,l.MWSharingLogger=u,l.MWCallingLogger=c,l.MPSLogger=d}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return n("cr:2075")!=null?n("cr:2075").vault(e):e}function s(e){return n("cr:2075")!=null?n("cr:2075").unvault(e):e}function u(e,t){return n("cr:2151")!=null&&n("cr:2203")!=null?n("cr:2151").unvaultDbRow(e,t,n("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):e}function c(e,t){return n("cr:2151")!=null&&n("cr:2203")!=null?n("cr:2151").vaultDbRow(e,t,n("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):e}l.maybeVault=e,l.maybeUnvault=s,l.maybeUnvaultDbRow=u,l.maybeVaultDbRow=c}),98);
__d("WAAssertUnreachable",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){throw r("err")("Impossible value, the default statement should never be reached for value: "+e)}l.default=e}),98);
__d("WAJids",["WAAssertUnreachable","err"],(function(t,n,r,o,a,i,l){"use strict";var e=0,s="@me",u="@system",c="status@broadcast",d="0@s.whatsapp.net",m="call",p="@g.us",_=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,f="@call",g="@msgr",h="msgr",y="@interop",C="interop",b=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,v=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,S=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,R=/^([1-9][0-9]{0,19})@msgr$/,L=/^([1-9][0-9]{0,19})(:0)?@msgr$/,E="@s.whatsapp.net",k="s.whatsapp.net",I="@s.whatsapp.net",T="s.whatsapp.net",D="lid",x="@newsletter",$=/^([1-9][0-9]{0,19})@newsletter$/,P=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,N=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,M="@lid",w="lid",A=/^([1-9][0-9]{0,14})@lid$/,F=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,O="@broadcast",B=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,W=/^([0-9a-fA-F]{18,32})@call$/,q="@hosted",U="hosted",V=/^(((?!10)[1-9][0-9]{4,19})):99@hosted$/,H="@hosted.lid",G="hosted.lid",z=/^([1-9][0-9]{0,14}):99@hosted.lid$/,j="@bot",K=/^[1-9][0-9]{0,19}(:0)?@bot$/,Q="16505361212"+I,X=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function Y(e){return""+e+I}function J(e){return""+e+M}function Z(e){return""+e+g}function ee(e){return e.endsWith(p)?e:""+e+p}function te(e){return e.endsWith(x)?e:""+e+x}function ne(e){return e.endsWith(q)?e:""+e+q}function re(e){return e.endsWith(H)?e:""+e+H}function oe(){return p}function ae(e){if(e.endsWith(I))return e.slice(0,-I.length);if(e.endsWith(g))return e.slice(0,-g.length);if(e.endsWith(y))return e.slice(0,-y.length);if(e.endsWith(M))return e.slice(0,-M.length);if(e.endsWith(j))return e.slice(0,-j.length);throw r("err")('userIdFromJid called with non-user jid "'+e+'"')}function ie(e,t){return ae(e)+":"+t+I}function le(e,t){return ae(e)+":"+t+g}function se(e,t){return Ee(e)+":"+t+M}function ue(e,t){return ae(e)+":"+t+Ct(e)}function ce(e){return""+e+O}function de(e){return e.split("@")[0]}function me(e){return e.split("@")[0]}function pe(e){var t=e.split("@")[0],n=t.split(":"),r=n[0],o=n[1],a=parseInt(o,10);return{userId:r,deviceID:a}}function _e(e){var t=pe(e);return t.deviceID}function fe(e,t){return e===s||e===u?t:de(e)}function ge(e){return e===s||e===u?null:e}function he(e){return e===s||e===u||!e.endsWith(I)?null:e}function ye(e){if(!e.endsWith(I))throw r("err")('phoneNumberFromJid called with non-user jid "'+e+'"');return e.slice(0,-I.length)}function Ce(e){if(e.endsWith(I))return ye(e);if(e.endsWith(M))return Ee(e);throw r("err")('lidOrPhoneFromUserJid called with non phone or lid jid "'+e+'"')}function be(e){return e.endsWith(I)||e.endsWith(y)||e.endsWith(g)||e.endsWith(M)?e:null}function ve(e){return e.endsWith(I)?e:null}function Se(e){return e===c?null:e}function Re(e){return e===c?null:e}function Le(e){return e===c?c:null}function Ee(e){if(!e.endsWith(M))throw r("err")('lidFromLidUserJid called with non-LidUserJid "'+e+'"');return e.slice(0,-M.length)}function ke(e){var t=e.split("@"),n=t[0],r=t[1];return n=n.split(":")[0],n=n.split(".")[0],r===U&&(r=T),r===G&&(r=D),n+"@"+r}function Ie(e){return ke(e)}function Te(e){return ke(e)}function De(e){return e.jidType==="phoneDevice"||e.jidType==="interopDevice"||e.jidType==="lidDevice"||e.jidType==="msgrDevice"?e.deviceJid:e.jidType==="lidUser"||e.jidType==="interopUser"||e.jidType==="msgrUser"||e.jidType==="phoneUser"?e.userJid:e.jidType==="group"?e.groupJid:e.jidType==="status"?e.statusJid:e.jidType==="call"?e.callJid:e.jidType==="newsletter"?e.newsletterJid:e.jidType==="hosted"?e.hostedDeviceJid:e.jidType==="hostedLid"?e.hostedLidDeviceJid:e.jidType==="bot"?e.botJid:(e.jidType,e.broadcastJid)}function xe(t){return ae(t)+":"+e+I}function $e(t){return ae(t)+":"+e+g}function Pe(t){return se(t,e)}function Ne(t){return _e(t)===e}function Me(e){return e}function we(e){return e}function Ae(e){var t=e.split("@"),n=t[0],r=t[1],o=n.split(":"),a=o[0],i=o[1],l=a.split("."),s=l[0],u=l[1];return{user:s,device:i,agent:u,server:r}}function Fe(e){var t=Ae(e),n=t.agent,r=n===void 0?"0":n,o=t.device,a=o===void 0?"0":o,i=t.server,l=t.user;return l+"."+r+":"+a+"@"+i}function Oe(e){switch(e.jidType){case"interopUser":return e.userJid;case"lidUser":return e.userJid;case"msgrUser":return e.userJid;case"phoneUser":return e.userJid;case"group":return e.groupJid;case"status":return e.statusJid;case"interopDevice":return e.deviceJid;case"lidDevice":return e.deviceJid;case"msgrDevice":return e.deviceJid;case"phoneDevice":return e.deviceJid;case"broadcast":return e.broadcastJid;case"call":return e.callJid;case"newsletter":return e.newsletterJid;case"hosted":return e.hostedDeviceJid;case"hostedLid":return e.hostedLidDeviceJid;case"bot":return e.botJid;default:return r("WAAssertUnreachable")(e.jidType)}}function Be(e){if(e===m)return{jidType:"call",callJid:m};if(e===c)return{jidType:"status",statusJid:c};if(N.test(e))return{jidType:"phoneUser",userJid:e};if(v.test(e))return{jidType:"interopUser",userJid:e};if(R.test(e))return{jidType:"msgrUser",userJid:e};if(L.test(e)){var t=e.substr(0,e.indexOf(":"));return{jidType:"msgrUser",userJid:Z(t)}}else return P.test(e)?{jidType:"phoneDevice",deviceJid:e}:b.test(e)?{jidType:"interopDevice",deviceJid:e}:S.test(e)?{jidType:"msgrDevice",deviceJid:e}:_.test(e)?{jidType:"group",groupJid:e.endsWith(p)?e:""+e+p}:B.test(e)?{jidType:"broadcast",broadcastJid:e}:W.test(e)?{jidType:"call",callJid:e}:A.test(e)?{jidType:"lidUser",userJid:e}:F.test(e)?{jidType:"lidDevice",deviceJid:e}:$.test(e)?{jidType:"newsletter",newsletterJid:e}:V.test(e)?{jidType:"hosted",hostedDeviceJid:e}:z.test(e)?{jidType:"hostedLid",hostedLidDeviceJid:e}:K.test(e)?{jidType:"bot",botJid:e}:{jidType:"unknown"}}function We(e){return e==="status@broadcast"?e:null}function qe(e){if(N.test(e)||v.test(e)||R.test(e)||A.test(e)||K.test(e))return e;if(L.test(e)){var t=e.substr(0,e.indexOf(":"));return Z(t)}else return null}function Ue(e){return A.test(e)?e:null}function Ve(e){return B.test(e)?e:null}function He(e){return P.test(e)||S.test(e)||b.test(e)||F.test(e)||V.test(e)||z.test(e)?e:N.test(e)?bt(e):K.test(e)?vt(e):null}function Ge(e){return b.test(e)?e:null}function ze(e){return _.test(e)?e:null}function je(e){return We(e)||ze(e)||Ve(e)?e:null}function Ke(e){return W.test(e)?e:null}function Qe(e){return e==="s.whatsapp.net"||e==="g.us"||e==="call"?e:null}function Xe(e){return qe(e)||ze(e)}function Ye(e){return $.test(e)?e:null}function Je(e){return V.test(e)?e:null}function Ze(e){return z.test(e)?e:null}function et(e){return be(e)==null?e:null}function tt(e){var t=Ae(e),n=t.device,r=n===void 0?"0":n,o=t.server,a=t.user;return a+":"+r+"@"+o}function nt(e){if(e.endsWith(p))return e.slice(0,-p.length);throw r("err")('groupId called with non-group jid "'+e+'"')}function rt(e){var t=Be(e);return t.jidType==="unknown"?e:t.jidType==="status"?t.statusJid:(t.jidType,Oe(t).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3"))}function ot(e){return e.includes("@")?e.replace(X,rt):e}function at(e){return e.endsWith(p)?e:null}function it(e,t){if(e.endsWith(I))return t.phoneUser(e);if(e.endsWith(g))return t.msgrUser(e);if(e.endsWith(y))return t.interopUser(e);if(e.endsWith(M))return t.lidUser(e);if(at(e)!=null)return t.group(e);throw r("err")("Can not switch on chat jid "+e)}function lt(e,t){if(e.endsWith(g))return t.user(e);if(at(e)!=null)return t.group(e);throw r("err")("Can not switch on chat jid "+e)}function st(e,t){if(e.endsWith(I))return t.user(e);if(at(e)!=null)return t.group(e);throw r("err")("Can not switch on chat jid "+e)}function ut(e,t){return it(e,{lidUser:function(n){return t.user(n)},interopUser:function(n){return t.user(n)},msgrUser:function(n){return t.user(n)},phoneUser:function(n){return t.user(n)},group:function(n){return t.group(n)}})}function ct(e,t){return e===c?t.status():st(e,{user:t.user,group:t.group})}function dt(e,t){return e===c?t.status():it(e,{interopUser:t.interopUser,phoneUser:t.phoneUser,msgrUser:t.msgrUser,lidUser:t.lidUser,group:t.group})}function mt(e,t){return e===c?t.multicast(c):st(e,{user:t.user,group:t.multicast})}function pt(e){return e.endsWith(M)}function _t(e){return e==="@me"}function ft(e){return e==="@system"}function gt(){return g}function ht(){return I}function yt(){return E}function Ct(e){if(e.endsWith(I))return I;if(e.endsWith(g))return g;if(e.endsWith(M))return M;if(e.endsWith(j))return j;throw r("err")('userDomainFromJid called with non-user jid "'+e+'"')}function bt(t){return ae(t)+":"+e+Ct(t)}function vt(e){return""+ae(e)+Ct(e)}function St(e){var t=e.platform,n=t==="msgr"?g:I;function r(e){return""+e+n}function o(){return n}return{toUserJid:r,getUserDomain:o}}function Rt(e){return e}function Lt(e){return e}function Et(e){return e}function kt(e){return e}function It(e){return e}function Tt(e){return e}function Dt(e){return e}function xt(e){return e}function $t(e){return e}function Pt(e){return e}function Nt(e){return e}function Mt(e){return e}function wt(e){return e}function At(e){return e}function Ft(e){return e}function Ot(e){return e}function Bt(e){return it(e,{group:function(t){return nt(t)},lidUser:function(t){return ae(t)},interopUser:function(t){return ae(t)},phoneUser:function(t){return ae(t)},msgrUser:function(t){return ae(t)}})}function Wt(){return f}l.DEFAULT_DEVICE_ID=e,l.AUTHOR_ME=s,l.AUTHOR_SYSTEM=u,l.STATUS_JID=c,l.PSA_JID=d,l.CALL_LINK_JID=m,l.MSGR_USER_DOMAIN=g,l.MSGR_USER_JID_SUFFIX=h,l.INTEROP_DOMAIN=y,l.INTEROP_USER_JID_SUFFIX=C,l.WA_SERVER_JID_SUFFIX=k,l.WA_USER_DOMAIN=I,l.WA_USER_JID_SUFFIX=T,l.WA_LID_SUFFIX=D,l.WA_NEWSLETTER_JID_DOMAIN=x,l.LID_DOMAIN=M,l.LID_SUFFIX=w,l.HOSTED_DOMAIN=q,l.HOSTED_SUFFIX=U,l.HOSTED_LID_DOMAIN=H,l.HOSTED_LID_SUFFIX=G,l.BOT_DOMAIN=j,l.SURVEY_USER_JID=Q,l.toPhoneUserJid=Y,l.toLidUserJid=J,l.toMsgrUserJid=Z,l.toGroupJid=ee,l.toNewsletterJid=te,l.toHostedDeviceJid=ne,l.toHostedLidDeviceJid=re,l.getGroupDomain=oe,l.userIdFromJid=ae,l.toPhoneDeviceJid=ie,l.toMsgrDeviceJid=le,l.toLidDeviceJid=se,l.toDeviceJid=ue,l.toBroadcastJid=ce,l.extractUserId=de,l.extractChatId__DANGEROUS=me,l.extractDeviceIDParts=pe,l.extractDeviceId=_e,l.authorToUserId=fe,l.authorAsUserJid=ge,l.authorAsPhoneUserJid=he,l.phoneNumberFromJid=ye,l.lidOrPhoneFromUserJid=Ce,l.interpretAsUserJid=be,l.interpretAsPhoneUserJid=ve,l.asChatJid=Se,l.asPhoneChatJid=Re,l.asStatusJid=Le,l.lidFromLidUserJid=Ee,l.extractUserJid=ke,l.extractPhoneUserJid=Ie,l.extractLidUserJid=Te,l.extractJidFromJidWithType=De,l.defaultPhoneDeviceJidForUser=xe,l.defaultMsgrDeviceJidForUser=$e,l.defaultLidDeviceJidForLidUserJid=Pe,l.isPrimaryDevice=Ne,l.interpretAsDeviceId=Me,l.interpretAsNumber=we,l.parseJidParts=Ae,l.fullFormDeviceJidString=Fe,l.extractFromJid=Oe,l.interpretAndValidateJid=Be,l.validateStatusJid=We,l.validateUserJid=qe,l.validateLidUserJid=Ue,l.validateBroadcastJid=Ve,l.validateDeviceJid=He,l.validateInteropDeviceJid=Ge,l.validateGroupJid=ze,l.validateMulticastJid=je,l.validateCallJid=Ke,l.validateDomainJid=Qe,l.validateChatJid=Xe,l.validateNewsletterJid=Ye,l.validateHostedDeviceJid=Je,l.validateHostedLidDeviceJid=Ze,l.asMulticastJid=et,l.stripAgentIdFromPhoneDeviceJid=tt,l.groupIdFromJid=nt,l.sanitizeJidForLogging=rt,l.maybeSanitizeLogLineText=ot,l.interpretAsGroupJid=at,l.switchOnChatJidType=it,l.switchOnMsgrChatJidType=lt,l.switchOnPhoneChatJidType=st,l.switchOnUserChatJidType=ut,l.switchOnPhoneJidType=ct,l.switchOnJidType=dt,l.switchOnMulticastJidType=mt,l.isLidUser=pt,l.isAuthorMe=_t,l.isAuthorSystem=ft,l.getMsgrUserDomain=gt,l.getWhatsappUserDomain=ht,l.getServerDomain=yt,l.defaultDeviceJidForUser=bt,l.defaultDeviceJidForBot=vt,l.createJidUtils=St,l.unsafeCoerceToChatJid=Rt,l.unsafeCoerceToDeviceJid=Lt,l.unsafeCoerceToPhoneDeviceJid=Et,l.unsafeCoerceToMsgrDeviceJid=kt,l.unsafeCoerceToInteropDeviceJid=It,l.unsafeCoerceToLidDeviceJid=Tt,l.unsafeCoerceToUserJid=Dt,l.unsafeCoerceToLidUserJid=xt,l.unsafeCoerceToPhoneUserJid=$t,l.unsafeCoerceToInteropUserJid=Pt,l.unsafeCoerceToMsgrUserJid=Nt,l.unsafeCoerceToGroupJid=Mt,l.unsafeCoerceToDeviceId=wt,l.unsafeCoerceToNewsletterJid=At,l.unsafeCoerceToHostedDeviceJid=Ft,l.unsafeCoerceToHostedLidDeviceJid=Ot,l.threadIdForChatJid=Bt,l.getGroupCallDomain=Wt}),98);
__d("isThreadLevelCutoverEnabled",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("564")===!0}l.default=e}),98);
__d("sortBy",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=e.map(function(e,n){return{index:n,sortValue:t(e),value:e}});return n.sort(function(e,t){var n=e.sortValue,r=t.sortValue;return n>r?1:n<r?-1:e.index-t.index}),n.map(function(e){return e.value})}i.default=e}),66);/*FB_PKG_DELIM*/
__d("useCometHomeChatSettingsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10047966748599340"}),null);
__d("useCometHomeChatSettingsQuery$Parameters",["useCometHomeChatSettingsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("useCometHomeChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"useCometHomeChatSettingsQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometHomeChatSettings.entrypoint",["JSResourceForInteraction","useCometHomeChatSettingsQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{chatSettingsQueryReference:{parameters:n("useCometHomeChatSettingsQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("CometHomeChatSettings.react").__setRef("CometHomeChatSettings.entrypoint")};l.default=e}),98);
__d("CometHomeContactListItems_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactListItems_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XFBInboxTrayRankedContactRankingData",kind:"LinkedField",name:"ranking_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"availability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_timestamp_sec",storageKey:null}],storageKey:null},action:"THROW",path:"messenger_inbox_tray_contacts.ranking_data"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},action:"THROW",path:"messenger_inbox_tray_contacts.contact"}],storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("MWChatContactCommon_profile.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatContactCommon_profile",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}})();a.exports=e}),null);
__d("MAWChatVerifyCutover.react",["I64","MAWVerifyThreadCutoverDeferred","ReQL","promiseDone","react","react-compiler-runtime","useAsyncReStore","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=o("react-compiler-runtime").c(14),n=e.id,a=e.updateThreadKey;r("vulture")("HbZwZdQvVfM8dhT1Njp3UeJyprs=");var i=r("useAsyncReStore")(),l;t[0]!==i||t[1]!==n||t[2]!==a?(l=function(){var e=i.then(function(e){return o("ReQL").leftJoin(o("ReQL").fromTableDescending(e.tables.cutover_threads).getKeyRange((s||(s=o("I64"))).of_string(n)),o("ReQL").fromTableDescending(e.tables.mi_act_mapping_table)).subscribe(function(e,t){if(t.operation!=="delete"){var n=t.value[1];n!=null&&a((s||(s=o("I64"))).to_string(n.serverThreadKey))}})});return(function(){r("promiseDone")(e.then(d))})},t[0]=i,t[1]=n,t[2]=a,t[3]=l):l=t[3];var c;t[4]!==n||t[5]!==a?(c=[n,a],t[4]=n,t[5]=a,t[6]=c):c=t[6],u(l,c);var m;t[7]!==i||t[8]!==n||t[9]!==a?(m=function(){r("MAWVerifyThreadCutoverDeferred").onReady(function(e){r("promiseDone")(e.verifyThreadCutoverWithStringInput(i,n).then(function(t){if(t===!0)return e.getCutoverThread(i,(s||(s=o("I64"))).of_string(n)).then(function(e){e&&(e==null?void 0:e.serverThreadKey)!==null&&a((s||(s=o("I64"))).to_string(e.serverThreadKey))})}))})},t[7]=i,t[8]=n,t[9]=a,t[10]=m):m=t[10];var p;return t[11]!==n||t[12]!==a?(p=[n,a],t[11]=n,t[12]=a,t[13]=p):p=t[13],u(m,p),null}function d(e){e()}l.default=c}),98);
__d("jsExtraRouteBuilder",["FBLogger","jsRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o){var a=r("jsRouteBuilder")(e,t,o),i=n.reduce(function(e,n){return e===void 0&&(e={}),typeof n=="string"&&(e[n]=r("jsRouteBuilder")(n,t,o,null,!0).buildURL),e},{});return{buildExtraURL:function(t,n){if(typeof t!="string"||i[t]==null)throw r("FBLogger")("comet_infra").mustfixThrow("Route builder for extra path does not exist");return i[t](n)},buildUri:function(t){return a.buildUri(t)},buildURL:function(t){return a.buildURL(t)}}}l.default=e}),98);
__d("XCometMessengerControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/t/{?thread_key}/{?*extra_junk}/",Object.freeze({initial_e2ee_toggle_position:!1}),["/messages/archived/new/","/messages/filtered/","/messages/filtered/new/","/messages/filtered/t/{?thread_key}/","/messages/gallery/","/messages/groups/","/messages/groups/new/","/messages/groups/t/{?thread_key}/","/messages/people/","/messages/people/new/","/messages/people/t/{?thread_key}/","/messages/requests/new/","/messages/new/","/messages/read/","/messages/search/","/messages/search/t/{?thread_key}/","/messages/search/new/","/messages/thread/{?thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XCometMessengerE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/messages/e2ee/t/{?thread_key}/{?*extra_junk}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/e2ee/t/{thread_key}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMainControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/t/{thread_key}/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1,__pwa:!1}),["/archived/new/","/filtered/","/filtered/new/","/filtered/t/{?thread_key}/","/people/","/people/new/","/people/t/{?thread_key}/","/requests/new/","/new/","/folders/{folder_key}/t/{?thread_key}/","/gallery/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometRootControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/",Object.freeze({no_rdr:!1,__pwa:!1}),["/t/"],void 0),s=e;l.default=s}),98);
__d("MWInboxRouteBuilder",["CurrentEnvironment","XCometMessengerControllerRouteBuilder","XCometMessengerE2EEThreadControllerRouteBuilder","XMessengerDotComCometE2EEThreadControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","XMessengerDotComCometRootControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.search,o=t.thread_key;return r("XCometMessengerE2EEThreadControllerRouteBuilder").buildURL({focus_target:e,search:n,thread_key:o})},buildHomeURL:function(){return r("XCometMessengerControllerRouteBuilder").buildURL({})},buildMultiThreadMesageSearchURL:function(t){return r("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/search/",t)},buildNewThreadURL:function(t){return r("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/new/",t)},buildURL:function(t){var e=t.focus_target,n=t.link_hash,o=t.search,a=t.thread_key;return r("XCometMessengerControllerRouteBuilder").buildURL({focus_target:e,link_hash:n,search:o,thread_key:a})}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.search,o=t.thread_key;return r("XMessengerDotComCometE2EEThreadControllerRouteBuilder").buildURL({focus_target:e,search:n,thread_key:o})},buildHomeURL:function(){return r("XMessengerDotComCometRootControllerRouteBuilder").buildExtraURL("/t/",{})},buildMultiThreadMesageSearchURL:function(t){return null},buildNewThreadURL:function(t){var e=t.extra_junk,n=t.initial_e2ee_toggle_position,o=t.link_hash,a=t.thread_key;return r("XMessengerDotComCometMainControllerRouteBuilder").buildExtraURL("/new/",{extra_junk:e,initial_e2ee_toggle_position:n,link_hash:o,thread_key:a})},buildURL:function(t){var e=t.focus_target,n=t.link_hash,o=t.search,a=t.thread_key;return r("XMessengerDotComCometMainControllerRouteBuilder").buildURL({focus_target:e,link_hash:n,search:o,thread_key:a})}},s=e.buildURL,u=e.buildHomeURL,c=e.buildNewThreadURL,d=e.buildE2EEThreadURL,m=e.buildMultiThreadMesageSearchURL;l.buildURL=s,l.buildHomeURL=u,l.buildNewThreadURL=c,l.buildE2EEThreadURL=d,l.buildMultiThreadMesageSearchURL=m}),98);
__d("MWXListCellPressable.react",["MessengerWebUXLogger","cr:321","cr:8697","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["addOnBottom","addOnEnd","addOnStart","content","loggingEvent","onPress","paddingHorizontal","size"],u,c=u||(u=o("react")),d=u.useCallback;function m(t){var a=o("react-compiler-runtime").c(35),i,l;a[0]!==t?(l=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l):(i=a[1],l=a[2]);var u,d,m,p,_,f,g,h,y;if(a[3]!==i){var C=i;u=C.addOnBottom,d=C.addOnEnd,m=C.addOnStart,p=C.content,_=C.loggingEvent,f=C.onPress,g=C.paddingHorizontal,y=C.size,h=babelHelpers.objectWithoutPropertiesLoose(C,s),a[3]=i,a[4]=u,a[5]=d,a[6]=m,a[7]=p,a[8]=_,a[9]=f,a[10]=g,a[11]=h,a[12]=y}else u=a[4],d=a[5],m=a[6],p=a[7],_=a[8],f=a[9],g=a[10],h=a[11],y=a[12];var b=r("MessengerWebUXLogger").useInteractionLogger(),v;a[13]!==b||a[14]!==_||a[15]!==f?(v=function(t){f==null||f(t),_&&(b==null||b(_))},a[13]=b,a[14]=_,a[15]=f,a[16]=v):v=a[16];var S=v;if(n("cr:8697")!=null){var R;return a[17]!==u||a[18]!==d||a[19]!==m||a[20]!==p||a[21]!==S||a[22]!==g||a[23]!==l||a[24]!==h?(R=c.jsx(n("cr:8697"),babelHelpers.extends({addOnBottom:u,addOnEnd:d,addOnStart:m,addOnStartMarginTop:0,content:p,onPress:S,overlayRadius:8,paddingHorizontal:g,paddingVertical:8,verticalAlign:"center"},h,{ref:l})),a[17]=u,a[18]=d,a[19]=m,a[20]=p,a[21]=S,a[22]=g,a[23]=l,a[24]=h,a[25]=R):R=a[25],R}if(n("cr:321")!=null){var L=y!=null?y:"medium",E;return a[26]!==u||a[27]!==d||a[28]!==m||a[29]!==p||a[30]!==S||a[31]!==l||a[32]!==h||a[33]!==L?(E=c.jsx(n("cr:321"),babelHelpers.extends({addOnBottom:u,addOnEnd:d,addOnStart:m,content:p,onPress:S,size:L},h,{ref:l})),a[26]=u,a[27]=d,a[28]=m,a[29]=p,a[30]=S,a[31]=l,a[32]=h,a[33]=L,a[34]=E):E=a[34],E}return null}var p=m;l.default=p}),98);
__d("MWXProfilePhoto.react",["FDSProfilePhoto.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["isDecorative"],u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(10),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,u;if(n[3]!==a){var d=a;l=d.isDecorative,u=babelHelpers.objectWithoutPropertiesLoose(d,s),n[3]=a,n[4]=l,n[5]=u}else l=n[4],u=n[5];var m=l===!0?l:void 0,p;return n[6]!==u||n[7]!==i||n[8]!==m?(p=c.jsx(r("FDSProfilePhoto.react"),babelHelpers.extends({"aria-hidden":m},u,{ref:i})),n[6]=u,n[7]=i,n[8]=m,n[9]=p):p=n[9],p}l.default=d}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function c(t,n){var a=o("react-compiler-runtime").c(14),l=(s||(s=r("useReStore")))(),u=o("MWPActor.react").useActor(),c;a[0]!==n?(c=(e||(e=o("I64"))).to_int32(n!=null?n:(e||(e=o("I64"))).zero),a[0]=n,a[1]=c):c=a[1];var m=c,p=m===1||m===15,_,f;a[2]!==l||a[3]!==p||a[4]!==t?(_=function(){return p&&t!=null?o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t):o("ReQL").empty()},f=[l,t,p],a[2]=l,a[3]=p,a[4]=t,a[5]=_,a[6]=f):(_=a[5],f=a[6]);var g=o("ReQLSuspense").useArray(_,f,i.id+":72");if(t==null)return null;if(p){var h;if(a[7]!==u||a[8]!==g){var y;a[10]!==u?(y=function(n){return n!==(e||(e=o("I64"))).to_string(u)},a[10]=u,a[11]=y):y=a[11],h=g.map(d).filter(y),a[7]=u,a[8]=g,a[9]=h}else h=a[9];var C=h[0];return C}else{var b;return a[12]!==t?(b=(e||(e=o("I64"))).to_string(t),a[12]=t,a[13]=b):b=a[13],b}}function d(t){return(e||(e=o("I64"))).to_string(t.contactId)}l.EventTypeEnum=u,l.useGetUniqueThreadID=c}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2305"),s=o("FalcoLoggerInternal").create("messenger_sidebar_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2306"),s=o("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2307"),s=o("FalcoLoggerInternal").create("messenger_sidebar_impression_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e={scrollMargin:-33};function s(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function u(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function c(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function d(e,t){var n=e.id,a=e.isOnline,i=e.position,l=e.storyIds,s=e.surface,u=e.targetType,c=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)c="vpvd_impression";else return;var d={event_type:c,surface:{entry_point:s.entry_point,major_surface:s.major_surface,minor_surface:s.minor_surface},target:{ranking:{absolute_position:i!=null?i.toString():"-1"},type:u,user:{id:n}}};if(a!=null&&(d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{presence:{status:a?1:0}})})),(l==null?void 0:l.firstCardId)!=null&&(l==null?void 0:l.bucketId)!=null){var m,p=atob(l.firstCardId),_=null;p!=null&&p.includes("S:_ISC:")&&(_=p.split("S:_ISC:")[1]),d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{story:{bucket_id:(m=l.bucketId)!=null?m:null,first_card_id:_!=null?_:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerSidebarClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?r("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerSidebarImpressionEventFalcoEvent").log(function(){return d})}l.IMPRESSION_LOG_OPTIONS=e,l.logClickEvent=s,l.logConversionClickEvent=u,l.logImpressionEvent=c}),98);
__d("MWChatContactImpl.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","JSScheduler","LSContactListConversionAttributionStore","LSThreadAttributionStore","MAWChatVerifyCutover.react","MWInboxRouteBuilder","MWXListCellPressable.react","MWXProfilePhoto.react","MWXText.react","MessengerSidebarClickImpressionEventsLoggerImpl","gkx","isAppsSubdomain","react","react-compiler-runtime","useCometPreloader","useServerTime","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useMemo,_=d.useState,f=r("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWChatContactImpl.react"),g=r("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("MWChatContactImpl.react");function h(e){var t=o("react-compiler-runtime").c(63),n=e.contactInfo,a=e.entryPoint,i=e.openTabForUser,l=e.preloadTabForUser,u=e.preventLocalNavigation,d=e.selected,m=n.id,p=n.isOnline,f=n.lastActiveTime,g=n.name,h=n.position,C=n.preloadedNavigationData,b=n.profilePictureUrl,v=n.storyInfo,S=_(),R=S[0],L=S[1],E;t[0]!==m||t[1]!==h||t[2]!==l||t[3]!==C?(E=function(){l({position:h,preloadedNavigationData:C,userId:m})},t[0]=m,t[1]=h,t[2]=l,t[3]=C,t[4]=E):E=t[4];var k=E,I=y,T=r("useCometPreloader")("button",I,k),D=T.onHighIntentPreloader,x=T.onHoverInPreloader,$=T.onHoverOutPreloader,P=T.onPressInPreloader,N=v==null?void 0:v.storyIds,M;t[5]===Symbol.for("react.memo_cache_sentinel")?(M={entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_one_on_one_chats"},t[5]=M):M=t[5];var w;t[6]!==m||t[7]!==p||t[8]!==h||t[9]!==N?(w={id:m,isOnline:p,position:h,storyIds:N,surface:M,targetType:"user"},t[6]=m,t[7]=p,t[8]=h,t[9]=N,t[10]=w):w=t[10];var A=w,F;t[11]!==A?(F={onVisible:function(){o("MessengerSidebarClickImpressionEventsLoggerImpl").logImpressionEvent(A)},options:o("MessengerSidebarClickImpressionEventsLoggerImpl").IMPRESSION_LOG_OPTIONS},t[11]=A,t[12]=F):F=t[12];var O=r("useVisibilityObserver")(F),B=R!=null?R:m,W;t[13]!==m||t[14]!==A||t[15]!==i||t[16]!==h||t[17]!==C?(W=function(){o("MessengerSidebarClickImpressionEventsLoggerImpl").logClickEvent(A),o("LSContactListConversionAttributionStore").setAttribution(m,A),i({position:h,preloadedNavigationData:C,userId:m})},t[13]=m,t[14]=A,t[15]=i,t[16]=h,t[17]=C,t[18]=W):W=t[18];var q=W,U;t[19]!==a||t[20]!==m?(U=function(){o("LSThreadAttributionStore").setSource(m,a)},t[19]=a,t[20]=m,t[21]=U):U=t[21];var V=U,H;t[22]!==D||t[23]!==x?(H=function(t){x(t),D(!0)},t[22]=D,t[23]=x,t[24]=H):H=t[24];var G=H,z=r("useServerTime")(),j;t[25]!==p||t[26]!==f||t[27]!==z?(j=p?{type:"availabilityBadge"}:f!=null&&Math.floor((z.valueOf()-new Date(f*1e3).getTime())/36e5)<=1?{border:"web-wash",time:f,type:"lastActiveTimeBadge"}:void 0,t[25]=p,t[26]=f,t[27]=z,t[28]=j):j=t[28];var K;t[29]===Symbol.for("react.memo_cache_sentinel")?(K=s._(/*BTDS*/"Profile picture"),t[29]=K):K=t[29];var Q=v==null?void 0:v.linkProps,X;t[30]!==b?(X={uri:b},t[30]=b,t[31]=X):X=t[31];var Y=v==null?void 0:v.storyStatus,J;t[32]!==Q||t[33]!==X||t[34]!==Y||t[35]!==j?(J=c.jsx(r("MWXProfilePhoto.react"),{addOn:j,"aria-label":K,linkProps:Q,shape:"circle",size:36,source:X,storyStatus:Y}),t[32]=Q,t[33]=X,t[34]=Y,t[35]=j,t[36]=J):J=t[36];var Z=J,ee=r("gkx")("23433"),te;if(ee)te="/active/t/"+B+"/";else{var ne;t[37]!==R||t[38]!==B?(ne=R!=null?o("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:R}):o("MWInboxRouteBuilder").buildURL({thread_key:B}),t[37]=R,t[38]=B,t[39]=ne):ne=t[39],te=ne}var re;t[40]!==m?(re=!r("isAppsSubdomain")()&&c.jsx(r("MAWChatVerifyCutover.react"),{id:m,updateThreadKey:L}),t[40]=m,t[41]=re):re=t[41];var oe;t[42]!==re?(oe=c.jsx(r("CometErrorBoundary.react"),{children:c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWChatContactImpl",children:re})}),t[42]=re,t[43]=oe):oe=t[43];var ae;t[44]!==g?(ae=c.jsx(r("MWXText.react"),{type:"headline4",children:g}),t[44]=g,t[45]=ae):ae=t[45];var ie;t[46]!==u||t[47]!==te?(ie={preventLocalNavigation:u,url:te},t[46]=u,t[47]=te,t[48]=ie):ie=t[48];var le=u?q:V,se="contact_"+m,ue;t[49]!==Z||t[50]!==G||t[51]!==$||t[52]!==P||t[53]!==O||t[54]!==d||t[55]!==ae||t[56]!==ie||t[57]!==le||t[58]!==se?(ue=c.jsx(r("MWXListCellPressable.react"),{addOnStart:Z,addOnStartVerticalAlign:"center",content:ae,linkProps:ie,onHoverIn:G,onHoverOut:$,onPress:le,onPressIn:P,paddingHorizontal:8,ref:O,selected:d,testid:void 0}),t[49]=Z,t[50]=G,t[51]=$,t[52]=P,t[53]=O,t[54]=d,t[55]=ae,t[56]=ie,t[57]=le,t[58]=se,t[59]=ue):ue=t[59];var ce;return t[60]!==oe||t[61]!==ue?(ce=c.jsxs(c.Fragment,{children:[oe,ue]}),t[60]=oe,t[61]=ue,t[62]=ce):ce=t[62],ce}function y(){(e||(e=r("JSScheduler"))).scheduleSpeculativeCallback(C)}function C(){var e=r("gkx")("16508");e===!0?g.preload():f.preload()}l.default=h}),226);
__d("MWChatContactCommon.react",["CometRelay","FBLogger","MWChatContactCommon_profile.graphql","MWChatContactImpl.react","XCometStoriesControllerRouteBuilder","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i=o("react-compiler-runtime").c(31),l=t.entryPoint,s=t.isOnline,c=t.lastActivetimestampSec,d=t.openTabForUser,m=t.position,p=t.preloadedNavigationData,_=t.preloadTabForUser,f=t.preventLocalNavigation,g=t.profile,h=t.selected,y=f===void 0?!0:f,C=h===void 0?!1:h;r("vulture")("NfRDkYfjqmt38k9ILB6iMo-0FIA=");var b=o("CometRelay").useFragment(e!==void 0?e:e=n("MWChatContactCommon_profile.graphql"),g),v=b.id,S=b.name,R=b.profile_picture,L,E="none",k=(a=b.story_bucket)==null?void 0:a.nodes,I=k?k[0]:null,T=null,D=null;if(I!=null){var x,$;T=I.id,D=(x=I.first_story_to_show)==null?void 0:x.id;var P=I==null||($=I.first_story_to_show)==null||($=$.story_card_seen_state)==null?void 0:$.is_seen_by_viewer;if(P!=null&&(E=P?"seen":"unseen"),E!=="none"&&T!=null&&D!=null){var N;i[0]!==T||i[1]!==D?(N=r("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:T,card_id:D,view_single:!1}),i[0]=T,i[1]=D,i[2]=N):N=i[2];var M=N,w;i[3]!==M?(w={prefetchQueriesOnHover:!0,url:M},i[3]=M,i[4]=w):w=i[4],L=w}}var A=R==null?void 0:R.uri;if(v==null){var F;return i[5]===Symbol.for("react.memo_cache_sentinel")?(F=r("FBLogger")("comet_ui").mustfix("Chat contact list cell is missing id"),i[5]=F):F=i[5],F}if(S==null){var O;return i[6]===Symbol.for("react.memo_cache_sentinel")?(O=r("FBLogger")("comet_ui").mustfix("Chat contact list cell is missing name"),i[6]=O):O=i[6],O}if(A==null){var B;return i[7]===Symbol.for("react.memo_cache_sentinel")?(B=r("FBLogger")("comet_ui").mustfix("Chat contact list cell is missing profileUri"),i[7]=B):B=i[7],B}var W;i[8]!==T||i[9]!==D?(W={bucketId:T,firstCardId:D},i[8]=T,i[9]=D,i[10]=W):W=i[10];var q;i[11]!==L||i[12]!==E||i[13]!==W?(q={linkProps:L,storyIds:W,storyStatus:E},i[11]=L,i[12]=E,i[13]=W,i[14]=q):q=i[14];var U;i[15]!==v||i[16]!==s||i[17]!==c||i[18]!==S||i[19]!==m||i[20]!==p||i[21]!==A||i[22]!==q?(U={id:v,isOnline:s,lastActiveTime:c,name:S,position:m,preloadedNavigationData:p,profilePictureUrl:A,storyInfo:q},i[15]=v,i[16]=s,i[17]=c,i[18]=S,i[19]=m,i[20]=p,i[21]=A,i[22]=q,i[23]=U):U=i[23];var V;return i[24]!==l||i[25]!==d||i[26]!==_||i[27]!==y||i[28]!==C||i[29]!==U?(V=u.jsx(r("MWChatContactImpl.react"),{contactInfo:U,entryPoint:l,openTabForUser:d,preloadTabForUser:_,preventLocalNavigation:y,selected:C}),i[24]=l,i[25]=d,i[26]=_,i[27]=y,i[28]=C,i[29]=U,i[30]=V):V=i[30],V}var d=u.memo(c);l.default=d}),98);
__d("MWChatContact_profile.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{args:null,kind:"FragmentSpread",name:"MWChatContactCommon_profile"}],type:"Profile",abstractKey:"__isProfile"};a.exports=e}),null);
__d("useMWGetFetchUserThreadNavigationDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9957332370986966"}),null);
__d("useMWGetFetchUserThreadNavigationDataQuery.graphql",["useMWGetFetchUserThreadNavigationDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],r={alias:null,args:null,kind:"ScalarField",name:"is_secure_thread",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"is_od_cutover_eligible",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMWGetFetchUserThreadNavigationDataQuery",selections:[{alias:null,args:t,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,o,a],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMWGetFetchUserThreadNavigationDataQuery",selections:[{alias:null,args:t,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[r,o,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("useMWGetFetchUserThreadNavigationDataQuery_facebookRelayOperation"),metadata:{},name:"useMWGetFetchUserThreadNavigationDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useMWGetFetchUserThreadNavigationData",["CometRelay","react","react-compiler-runtime","useMWGetFetchUserThreadNavigationDataQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useRelayEnvironment(),n;return e[0]!==t?(n=function(n){return d(t,n)},e[0]=t,e[1]=n):n=e[1],n}async function d(t,r){var a,i=await o("CometRelay").fetchQuery(t,e!==void 0?e:e=n("useMWGetFetchUserThreadNavigationDataQuery.graphql"),{id:r}).toPromise(),l=i==null?void 0:i.user;if(l!=null)return{contactCapabilities2:(a=l==null?void 0:l.message_capabilities2_str)!=null?a:"0",isOdCutoverEligible:(l==null?void 0:l.is_od_cutover_eligible)===!0,isSecureThread:(l==null?void 0:l.is_secure_thread)===!0}}l.default=c}),98);
__d("useMWGetPresenceDataForContact",["react-compiler-runtime","usePresenceUnifiedMapContext"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=o("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),r;return t[0]!==e||t[1]!==n?(r=n.get(e),t[0]=e,t[1]=n,t[2]=r):r=t[2],r}l.default=e}),98);
__d("useMWGetPresenceIsOnlineForContact",["PresenceCommonPresenceCommonTypes","useMWGetPresenceDataForContact"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("useMWGetPresenceDataForContact")(e);return(n==null?void 0:n.presenceStatus)!=null?(n==null?void 0:n.presenceStatus)===o("PresenceCommonPresenceCommonTypes").PresenceStatus.Active:t!=null?t:!1}l.default=e}),98);
__d("useMWGetPresenceLastActiveTimeSecondsForContact",["useMWGetPresenceDataForContact"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("useMWGetPresenceDataForContact")(e);return(n==null?void 0:n.lastActiveTimeSeconds)!=null?Number(n.lastActiveTimeSeconds):t}l.default=e}),98);
__d("MWChatContact.react",["CometRelay","CometVisualCompletionAttributes","MWChatContactCommon.react","MWChatContact_profile.graphql","react","react-compiler-runtime","useMWGetFetchUserThreadNavigationData","useMWGetPresenceIsOnlineForContact","useMWGetPresenceLastActiveTimeSecondsForContact","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef;function p(t){var a=o("react-compiler-runtime").c(15),i=t.activeStatusOn,l=t.entryPoint,s=t.initialAvailabilityStatus,c=t.initialLastActivetimestampSec,d=t.openTabForUser,p=t.position,_=t.preloadTabForUser,f=t.preventLocalNavigation,g=t.profile,h=t.selected,y=f===void 0?!0:f,C=h===void 0?!1:h;r("vulture")("S38dP7cO7eXtcBxLrF_bf6CGZ58=");var b=o("CometRelay").useFragment(e!==void 0?e:e=n("MWChatContact_profile.graphql"),g),v=m(),S=m(!1),R=r("useMWGetFetchUserThreadNavigationData")(),L;a[0]!==R||a[1]!==_?(L=async function(t){if(!S.current){if(S.current=!0,v.current==null){var e=await R(t.userId);v.current=e}return _(babelHelpers.extends({},t,{preloadedNavigationData:v.current}))}},a[0]=R,a[1]=_,a[2]=L):L=a[2];var E=L,k;a[3]!==d?(k=function(t){return d(babelHelpers.extends({},t,{preloadedNavigationData:v.current}))},a[3]=d,a[4]=k):k=a[4];var I=k,T=r("useMWGetPresenceIsOnlineForContact")(b.id,s==="ACTIVE"),D=i&&T,x=r("useMWGetPresenceLastActiveTimeSecondsForContact")(b.id,c),$=i?x:null,P;return a[5]!==l||a[6]!==D||a[7]!==$||a[8]!==I||a[9]!==p||a[10]!==E||a[11]!==y||a[12]!==b||a[13]!==C?(P=u.jsx("div",babelHelpers.extends({},r("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION,{children:u.jsx(r("MWChatContactCommon.react"),{entryPoint:l,isOnline:D,lastActivetimestampSec:$,openTabForUser:I,position:p,preloadTabForUser:E,preventLocalNavigation:y,profile:b,selected:C})})),a[5]=l,a[6]=D,a[7]=$,a[8]=I,a[9]=p,a[10]=E,a[11]=y,a[12]=b,a[13]=C,a[14]=P):P=a[14],P}l.default=p}),98);
__d("MWXPageVerificationIcon.react",["BaseTheme.react","CometPageVerificationIcon.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={dark:{accent:"var(--icon-accent-color)",secondary:"var(--icon-secondary-color)",white:"var(--icon-white-color)"},light:{accent:"var(--icon-accent-color)",secondary:"var(--icon-secondary-color)",white:"var(--icon-white-color)"},type:"VARIABLES"};function c(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"inline"},t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("BaseTheme.react"),{config:r("gkx")("5751")?u:void 0,style:n,children:s.jsx(r("CometPageVerificationIcon.react"),babelHelpers.extends({},e))}),t[1]=e,t[2]=a):a=t[2],a}l.default=c}),98);
__d("MWChatMetaAIContact.react",["fbt","I64","LSContactListConversionAttributionStore","MWGenAIUtils","MWInboxRouteBuilder","MWXListCellPressable.react","MWXPageVerificationIcon.react","MWXProfilePhoto.react","MWXText.react","MessengerSidebarClickImpressionEventsLoggerImpl","react","react-compiler-runtime","useCometPreloader","useMWChatOpenTabForUser","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d={verificationBadge:{flexShrink:"x2lah0s",paddingInlineStart:"x135b78x",$$css:!0}};function m(){var e=o("react-compiler-runtime").c(15),t=r("useMWChatOpenTabForUser")("sidebarContactsList"),n=t.openTabForUser,a=r("useCometPreloader")("button"),i=a.onHoverInPreloader,l=a.onHoverOutPreloader,m=a.onPressInPreloader,p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=(u||(u=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY),e[0]=p):p=e[0];var _=p,f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f={id:_,position:0,surface:{entry_point:"comet_home_sidebar",major_surface:"comet_home",minor_surface:"sidebar_one_on_one_chats"},targetType:"ai_bot"},e[1]=f):f=e[1];var g=f,h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h={onVisible:function(){o("MessengerSidebarClickImpressionEventsLoggerImpl").logImpressionEvent(g)},options:o("MessengerSidebarClickImpressionEventsLoggerImpl").IMPRESSION_LOG_OPTIONS},e[2]=h):h=e[2];var y=r("useVisibilityObserver")(h),C;e[3]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"Meta AI profile photo"),e[3]=C):C=e[3];var b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=c.jsx(r("MWXProfilePhoto.react"),{alt:C,shape:"circle",size:36,source:{uri:o("MWGenAIUtils").META_AI_PROFILE_PICTURE_URI}}),e[4]=b):b=e[4];var v=b,S;e[5]===Symbol.for("react.memo_cache_sentinel")?(S=c.jsxs(r("MWXText.react"),{type:"headline4",children:[" ",c.jsxs(c.Fragment,{children:[o("MWGenAIUtils").META_AI_CONTACT_NAME,c.jsx(r("MWXPageVerificationIcon.react"),{size:"small",verificationBadge:"BLUE_VERIFIED",xstyle:d.verificationBadge})]})]}),e[5]=S):S=e[5];var R;e[6]===Symbol.for("react.memo_cache_sentinel")?(R={preventLocalNavigation:!0,url:o("MWInboxRouteBuilder").buildURL({thread_key:o("MWGenAIUtils").META_AI_THREAD_KEY})},e[6]=R):R=e[6];var L;e[7]!==n?(L=function(){o("MessengerSidebarClickImpressionEventsLoggerImpl").logClickEvent(g),o("LSContactListConversionAttributionStore").setAttribution(_,g),n({preloadedNavigationData:{contactCapabilities2:o("MWGenAIUtils").META_AI_CAPABILITIES,isOdCutoverEligible:!1,isSecureThread:!1},userId:(u||(u=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY)})},e[7]=n,e[8]=L):L=e[8];var E;return e[9]!==i||e[10]!==l||e[11]!==m||e[12]!==y||e[13]!==L?(E=c.jsx("li",{children:c.jsx(r("MWXListCellPressable.react"),{addOnStart:v,content:S,linkProps:R,onHoverIn:i,onHoverOut:l,onPress:L,onPressIn:m,paddingHorizontal:8,ref:y,selected:!1,testid:void 0})},"meta-ai"),e[9]=i,e[10]=l,e[11]=m,e[12]=y,e[13]=L,e[14]=E):E=e[14],E}l.default=m}),226);
__d("MWGenAIGatingUtils",["$InternalEnum","FBLogger","MessengerWebGenAIConsentStatus","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum").Mirrored(["COMPOSE_NEW_MESSAGE","SIDEBAR_CONTACT_LIST"]);function s(t){switch(t){case e.COMPOSE_NEW_MESSAGE:return!0;case e.SIDEBAR_CONTACT_LIST:return!0}}function u(e){var t=r("MessengerWebGenAIConsentStatus").chat_consented,n=r("MessengerWebGenAIConsentStatus").inline_disclosure_text,o=r("MessengerWebGenAIConsentStatus").nux_scope;return t?s(e):r("gkx")("971")?n==null?(r("FBLogger")("messenger_web_genai").warn("Failed to fetch inline disclosure text for GenAI NUX"),!1):o!=null:!1}l.MessengerWebMetaAIEntryPoint=e,l.getIsMetaAIEntryPointEnabled=u}),98);
__d("CometHomeContactListItems.react",["CometHomeContactListItems_viewer.graphql","CometRelay","MWChatContact.react","MWChatMetaAIContact.react","MWGenAIGatingUtils","react","react-compiler-runtime","useMWChatOpenTabForUser"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(7),i=t.activeStatusOn,l=t.viewer$key,s=o("CometRelay").useFragment(e!==void 0?e:e=n("CometHomeContactListItems_viewer.graphql"),l),c=s.messenger_inbox_tray_contacts,d=r("useMWChatOpenTabForUser")("sidebarContactsList"),m=d.openTabForUser,p=d.preloadThread,_;a[0]===Symbol.for("react.memo_cache_sentinel")?(_=o("MWGenAIGatingUtils").getIsMetaAIEntryPointEnabled(o("MWGenAIGatingUtils").MessengerWebMetaAIEntryPoint.SIDEBAR_CONTACT_LIST),a[0]=_):_=a[0];var f=_,g;a[1]===Symbol.for("react.memo_cache_sentinel")?(g=f&&u.jsx(r("MWChatMetaAIContact.react"),{}),a[1]=g):g=a[1];var h;return a[2]!==i||a[3]!==c||a[4]!==m||a[5]!==p?(h=u.jsxs(u.Fragment,{children:[g,c.map(function(e,t){return u.jsx("li",{children:u.jsx("div",{children:u.jsx(r("MWChatContact.react"),{activeStatusOn:i,entryPoint:"sidebarContactsList",initialAvailabilityStatus:e.ranking_data.availability_status,initialLastActivetimestampSec:e.ranking_data.last_active_timestamp_sec,openTabForUser:m,position:f?t+1:t,preloadTabForUser:p,profile:e.contact})})},e.contact.id)})]}),a[2]=i,a[3]=c,a[4]=m,a[5]=p,a[6]=h):h=a[6],h}var d=u.memo(c);l.default=d}),98);
__d("CometHomeContactsCollapsed_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactsCollapsed_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("CometHomeContactsCollapsed.react",["fbt","ChevronDownFilled16IconSvg.react","CometHomeContactsCollapsed_viewer.graphql","CometRelay","FDSButton.react","FDSIcon.react","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("requireDeferred")("MWChatSidebarStateSettingMutation").__setRef("CometHomeContactsCollapsed.react");function m(t){var a,i,l=o("react-compiler-runtime").c(9),u=t.viewer$key,m=o("CometRelay").useRelayEnvironment(),p=o("CometRelay").useFragment(e!==void 0?e:e=n("CometHomeContactsCollapsed_viewer.graphql"),u),_=(a=(i=p.messenger_inbox_tray_contacts)==null?void 0:i.length)!=null?a:0,f;l[0]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x1y1aw1k xv54qhq xwib8y2 xf7dkkf"},l[0]=f):f=l[0];var g;l[1]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx(r("FDSIcon.react"),{icon:r("ChevronDownFilled16IconSvg.react"),size:16}),l[1]=g):g=l[1];var h;l[2]!==_?(h=s._(/*BTDS*/"See all {contact count}",[s._param("contact count",_)]),l[2]=_,l[3]=h):h=l[3];var y;l[4]!==m?(y=function(){d.onReadyImmediately(function(e){return e({environment:m,isCollapsed:!1})})},l[4]=m,l[5]=y):y=l[5];var C;return l[6]!==h||l[7]!==y?(C=c.jsx("div",babelHelpers.extends({},f,{children:c.jsx(r("FDSButton.react"),{addOnSecondary:g,label:h,onPress:y,size:"medium",type:"secondary"})})),l[6]=h,l[7]=y,l[8]=C):C=l[8],C}l.default=m}),226);
__d("MagnifyingGlassFilled16.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("g",{fillRule:"evenodd",transform:"translate(-448 -544)",children:s.jsxs("g",{fillRule:"nonzero",children:[s.jsx("path",{d:"M10.743 2.257a6 6 0 1 1-8.485 8.486 6 6 0 0 1 8.485-8.486zm-1.06 1.06a4.5 4.5 0 1 0-6.365 6.364 4.5 4.5 0 0 0 6.364-6.363z",transform:"translate(448 544)"}),s.jsx("path",{d:"M10.39 8.75a2.94 2.94 0 0 0-.199.432c-.155.417-.23.849-.172 1.284.055.415.232.794.54 1.103a.75.75 0 0 0 1.112-1.004l-.051-.057a.39.39 0 0 1-.114-.24c-.021-.155.014-.356.09-.563.031-.081.06-.145.08-.182l.012-.022a.75.75 0 1 0-1.299-.752z",transform:"translate(448 544)"}),s.jsx("path",{d:"M9.557 11.659c.038-.018.09-.04.15-.064.207-.077.408-.112.562-.092.08.01.143.034.198.077l.041.036a.75.75 0 0 0 1.06-1.06 1.881 1.881 0 0 0-1.103-.54c-.435-.058-.867.018-1.284.175-.189.07-.336.143-.433.2a.75.75 0 0 0 .624 1.356l.066-.027.12-.061z",transform:"translate(448 544)"}),s.jsx("path",{d:"m13.463 15.142-.04-.044-3.574-4.192c-.599-.703.355-1.656 1.058-1.057l4.191 3.574.044.04c.058.059.122.137.182.24.249.425.249.96-.154 1.41l-.057.057c-.45.403-.986.403-1.411.154a1.182 1.182 0 0 1-.24-.182zm.617-.616.444-.444a.31.31 0 0 0-.063-.052c-.093-.055-.263-.055-.35.024l.208.232.207-.206.006.007-.22.257-.026-.024.033-.034.025.027-.257.22-.007-.007zm-.027-.415c-.078.088-.078.257-.023.35a.31.31 0 0 0 .051.063l.205-.204-.233-.209z",transform:"translate(448 544)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MagnifyingGlassFilled16IconSvg.react",["MagnifyingGlassFilled16.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("SVGIcon").svgIcon(r("MagnifyingGlassFilled16.svg.react"));l.default=e}),98);
__d("useMWNewChatOpenTabTraceProvider",["CometHeroLogging","qpl","react","react-compiler-runtime","useCometInteractionTracing"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("qpl")._(30608422,"1698"),e[0]=t):t=e[0];var n=r("useCometInteractionTracing")(t,"responsive","INTERACTION"),a;return e[1]!==n?(a=function(t,o){n(function(e){var n=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(e.getTraceId());e.addMetadata("entrypoint",o),t(n,e)})},e[1]=n,e[2]=a):a=e[2],a}l.default=u}),98);
__d("useMWChatOpenNewTab",["LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger","useMWNewChatOpenTabTraceProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(e){var t=o("react-compiler-runtime").c(5),n=r("useMWNewChatOpenTabTraceProvider")(),a=r("useCometFeedNoRoutingNavigationEventLogger")(),i=o("MWChatStateV2.react").useDispatch(),l;return t[0]!==i||t[1]!==e||t[2]!==a||t[3]!==n?(l=function(l,u){a(Date.now(),"","messenger"),(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_new");var t=o("MessengerWebEntryPointsUtil").cast(e);return r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:t,event_name:"open_chat_tab"}}),o("LSThreadAttributionStore").setSourceForNewThread(e),n(function(e,t){o("MWChatInteraction").set("open_new",e),t.addMarkerPoint("dispatch_open_chat_tab","AppTiming"),i(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:!0},{initialTokens:u!=null?u:[],secureThreadToggleEnabled:l,type:o("MWChatStateV2Types").MWChatStateTabType.ComposeTab}))},e)},t[0]=i,t[1]=e,t[2]=a,t[3]=n,t[4]=l):l=t[4],l}l.default=c}),98);
__d("useMWNewChatTabContainerPreload",["JSResourceForInteraction","JSScheduler","react","react-compiler-runtime","useCometPreloader"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=r("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("useMWNewChatTabContainerPreload");function d(){var e=o("react-compiler-runtime").c(3),t=m,n=t,a=r("useCometPreloader")("button",n,t),i=a.onHoverInPreloader,l=a.onHoverOutPreloader,s;return e[0]!==i||e[1]!==l?(s=[i,l],e[0]=i,e[1]=l,e[2]=s):s=e[2],s}function m(){(s||(s=o("JSScheduler"))).scheduleSpeculativeCallback(p)}function p(){c.preload()}l.default=d}),98);
__d("useCometHomeOpenNewChatTab",["react","react-compiler-runtime","useMWChatOpenNewTab","useMWNewChatTabContainerPreload"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(6),n=r("useMWChatOpenNewTab")(e),a=r("useMWNewChatTabContainerPreload")(),i=a[0],l=a[1],s;t[0]!==n?(s=function(){n(!1)},t[0]=n,t[1]=s):s=t[1];var u=s,c;return t[2]!==i||t[3]!==l||t[4]!==u?(c={onHoverIn:i,onHoverOut:l,onPress:u},t[2]=i,t[3]=l,t[4]=u,t[5]=c):c=t[5],c}l.default=u}),98);
__d("CometHomeContactsHeader.react",["fbt","CometColumn.react","CometColumnItem.react","CometHomeChatSettings.entrypoint","Dots3HorizontalFilled20IconSvg.react","FDSEntryPointPopoverTrigger.react","FDSIcon.react","FDSTextPairing.react","FDSTooltip.react","FDSTooltipGroup.react","MWPBumpEntityKey","MagnifyingGlassFilled16IconSvg.react","MessengerWebEventsFalcoEvent","cometGetKeyCommandConfig","react","useCometHomeOpenNewChatTab","useLayerKeyCommands"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["onPress"],u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useMemo,_=s._(/*BTDS*/"Contacts"),f=s._(/*BTDS*/"Search by name or group"),g=s._(/*BTDS*/"Options");function h(){var t,n=(t=r("useCometHomeOpenNewChatTab")==null?void 0:r("useCometHomeOpenNewChatTab")("sidebarSearch"))!=null?t:{},a=n.onPress,i=babelHelpers.objectWithoutPropertiesLoose(n,e),l="button",u=p(function(){return[o("cometGetKeyCommandConfig").getCometKeyCommandConfig("newsfeed","searchContacts",a)]},[a]);return r("useLayerKeyCommands")(u),m(function(){r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"show_sidebar_contacts"}})},[]),c.jsx(r("CometColumn.react"),{paddingHorizontal:16,paddingTop:20,paddingVertical:4,children:c.jsx(r("CometColumnItem.react"),{children:c.jsx(r("FDSTextPairing.react"),{headline:_,headlineAddOn:c.jsx("div",{className:"x78zum5",children:c.jsxs(r("FDSTooltipGroup.react"),{children:[c.jsx(r("FDSTooltip.react"),{align:"end",position:"below",tooltip:f,children:c.jsx("div",{className:"xbmvrgn x1diwwjn","data-focus-target":"right_rail",children:c.jsx(r("FDSIcon.react"),babelHelpers.extends({},i,{"aria-label":f,color:"secondary",icon:r("MagnifyingGlassFilled16IconSvg.react"),onPress:function(){a(),o("MWPBumpEntityKey").bumpEntityKey("comet.sidebar","search_button_click")},size:16}))})}),c.jsx(r("FDSTooltip.react"),{align:"end",position:"below",tooltip:g,children:c.jsx("div",{className:"x1diwwjn",children:c.jsx(r("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{chatSettingsContextualSection:"contacts"},popoverEntryPoint:r("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:l,children:function(t,n,o){return c.jsx(r("FDSIcon.react"),{"aria-label":s._(/*BTDS*/"More options for contacts"),color:"secondary",icon:r("Dots3HorizontalFilled20IconSvg.react"),onPress:function(){n()},ref:t,size:20})}})})})]})}),headlineColor:"secondary",headlineLineLimit:2,isSemanticHeading:!0,level:3})})})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),226);
__d("CometHomeContactsListItemsContainer_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContactsListItemsContainer_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"CometHomeContactListItems_viewer"}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("CometHomeContactsPresenceAwareList.react",["CometVisualCompletionAttributes","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.active,a=e.children,i;t[0]!==n?(i={0:{className:"xti2d7y"},1:{className:"x1hc1fzr"}}[!!n<<0],t[0]=n,t[1]=i):i=t[1];var l;return t[2]!==a||t[3]!==i?(l=s.jsx("ul",babelHelpers.extends({},r("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION,i,{children:a})),t[2]=a,t[3]=i,t[4]=l):l=t[4],l}l.default=u}),98);
__d("CometHomeContactsListItemsContainer.react",["CometHomeContactListItems.react","CometHomeContactsListItemsContainer_viewer.graphql","CometHomeContactsPresenceAwareList.react","CometRelay","FocusWithinHandler.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.viewer$key,l=o("CometRelay").useFragment(e!==void 0?e:e=n("CometHomeContactsListItemsContainer_viewer.graphql"),i),s=(l==null?void 0:l.chat_visibility)===!0,c;return a[0]!==s||a[1]!==l?(c=u.jsx("div",{"data-testid":void 0,children:u.jsx(r("FocusWithinHandler.react"),{children:function(t,n){return u.jsx(r("CometHomeContactsPresenceAwareList.react"),{active:s,children:u.jsx(r("CometHomeContactListItems.react"),{activeStatusOn:s,viewer$key:l})})}})}),a[0]=s,a[1]=l,a[2]=c):c=a[2],c}l.default=c}),98);
__d("CometHomeContacts_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Variable",name:"count",variableName:"count"}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"CometHomeContacts_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:e,concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:e,kind:"FragmentSpread",name:"CometHomeContactsCollapsed_viewer"},{args:e,kind:"FragmentSpread",name:"CometHomeContactsListItemsContainer_viewer"}],type:"Viewer",abstractKey:null}})();a.exports=e}),null);
__d("CometHomeContacts.react",["BaseContextualLayerAnchorRootContext","CometHomeContactsCollapsed.react","CometHomeContactsHeader.react","CometHomeContactsListItemsContainer.react","CometHomeContacts_viewer.graphql","CometHomeRightRailUnit.react","CometRelay","CometVisualCompletionAttributes","MWPBumpEntityKey","MessengerWebEventsFalcoEvent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useMemo,p=c.useRef,_=e!==void 0?e:e=n("CometHomeContacts_viewer.graphql");function f(e){var t,n,a,i=o("react-compiler-runtime").c(9),l=e.viewer$key,s=o("CometRelay").useFragment(_,l),c=p(document.body),m=(s==null?void 0:s.chat_sidebar_is_collapsed)===!0,f;i[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],i[0]=f):f=i[0],d(g,f);var h;i[1]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(r("CometHomeContactsHeader.react"),{}),i[1]=h):h=i[1];var y=h;((t=s.messenger_inbox_tray_contacts)==null?void 0:t.length)===0&&o("MWPBumpEntityKey").bumpEntityKey("mw_contact_list","inbox_tray_ranking_empty");var C=(s==null?void 0:s.messenger_inbox_tray_contacts)!=null&&(s==null||(n=s.messenger_inbox_tray_contacts)==null?void 0:n.length)>0,b=((a=s.messenger_inbox_tray_contacts)==null?void 0:a.length)===0,v;i[2]!==m||i[3]!==b||i[4]!==C||i[5]!==s?(v=C?u.jsx("div",{hidden:b,children:u.jsx(r("CometHomeRightRailUnit.react"),{hasBottomDivider:!m,header:y,children:m?u.jsx(r("CometHomeContactsCollapsed.react"),{viewer$key:s}):u.jsx(r("CometHomeContactsListItemsContainer.react"),{viewer$key:s})})}):null,i[2]=m,i[3]=b,i[4]=C,i[5]=s,i[6]=v):v=i[6];var S;return i[7]!==v?(S=u.jsx("div",babelHelpers.extends({"data-testid":void 0},r("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:u.jsx(r("BaseContextualLayerAnchorRootContext").Provider,{value:c,children:v})})),i[7]=v,i[8]=S):S=i[8],S}function g(){r("MessengerWebEventsFalcoEvent").log(h)}function h(){return{event_name:"show_sidebar_contacts"}}l.default=f}),98);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"numContactsToFetch"}],kind:"Fragment",metadata:null,name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],kind:"FragmentSpread",name:"CometHomeContacts_viewer"}],storageKey:null},action:"THROW",path:"viewer"}],type:"XFBContactsHomeDefaultRenderer",abstractKey:null};a.exports=e}),null);
__d("CometHomeContactsDefaultRenderer.react",["CometHomeContacts.react","CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql","CometRelay","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(2),i=t.contactsHomeDefaultRenderer,l=o("CometRelay").useFragment(e!==void 0?e:e=n("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer.graphql"),i),s=l.viewer,c;return a[0]!==s?(c=u.jsx(r("CometHomeContacts.react"),{viewer$key:s}),a[0]=s,a[1]=c):c=a[1],c}l.default=c}),98);
__d("CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometHomeContactsDefaultRenderer_contactsHomeDefaultRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null},{alias:null,args:[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],concreteType:"XFBInboxTrayRankedContact",kind:"LinkedField",name:"messenger_inbox_tray_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"XFBInboxTrayRankedContactRankingData",kind:"LinkedField",name:"ranking_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"availability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_timestamp_sec",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contact",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[e,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[e,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}]}})();a.exports=e}),null);/*FB_PKG_DELIM*/
__d("CometHovercardQueryRendererQuery$Parameters",["WorkCometIsEmployeeGKProvider.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:"33457413747235176",metadata:{},name:"CometHovercardQueryRendererQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:n("WorkCometIsEmployeeGKProvider.relayprovider")}}};a.exports=e}),null);
__d("CometHovercardQueryRenderer.entrypoint",["CometHovercardQueryRendererQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.actionBarRenderLocation,r=t.context,a=t.entityID,i=t.groupID;return{queries:{hovercardQueryReference:{parameters:n("CometHovercardQueryRendererQuery$Parameters"),variables:{actionBarRenderLocation:e,context:r,entityID:a,groupID:i,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometHovercardQueryRenderer.react").__setRef("CometHovercardQueryRenderer.entrypoint")};l.default=e}),98);
__d("BaseHovercardTriggerWrapper.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["display"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(11),r,a;if(n[0]!==t?(r=t.display,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),r==="inline"){var i;n[3]===Symbol.for("react.memo_cache_sentinel")?(i="xt0psk2",n[3]=i):i=n[3];var l;return n[4]!==a?(l=u.jsx("span",babelHelpers.extends({},a,{className:i})),n[4]=a,n[5]=l):l=n[5],l}var s;n[6]!==r?(s={0:"",1:"x1rg5ohu"}[(r==="inline-block")<<0],n[6]=r,n[7]=s):s=n[7];var c;return n[8]!==a||n[9]!==s?(c=u.jsx("div",babelHelpers.extends({},a,{className:s})),n[8]=a,n[9]=s,n[10]=c):c=n[10],c}l.default=c}),98);
__d("BaseNestedHovercardContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1),c=u;l.default=c}),98);
__d("BaseHovercardStateContext.react",["fbt","emptyFunction","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=u.createContext({active:!1,"aria-label":s._(/*BTDS*/"Press Alt-F1 or the up arrow key to access the link preview"),label:s._(/*BTDS*/"Press the up arrow key to access the link preview"),labelId:null,onClose:r("emptyFunction")});l.default=c}),226);
__d("useBaseHovercardTriggerAccessible",["fbt","BaseContextualLayer.react","BaseHovercardStateContext.react","BaseHovercardTriggerWrapper.react","CometErrorBoundary.react","CometHeroInteractionContextPassthrough.react","CometPlaceholder.react","FocusWithinHandler.react","HiddenSubtreeContextProvider.react","clearTimeout","react","react-compiler-runtime","setTimeout","useCometDisplayTimingTrackerForInteraction","useCometPrerenderer","useDelayedState","useFadeEffect","useMergeRefs"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["children","display","fallback","onLoadEntryPoint","onVisibilityChange","showDelay"],u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useId,f=d.useMemo,g=d.useRef,h=d.useState,y=300,C=100,b={disablePointerEvents:{pointerEvents:"x47corl",$$css:!0}};function v(t){var n=o("react-compiler-runtime").c(91),a,l,u,d,m,f,v;n[0]!==t?(a=t.children,u=t.display,d=t.fallback,m=t.onLoadEntryPoint,f=t.onVisibilityChange,v=t.showDelay,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=l,n[3]=u,n[4]=d,n[5]=m,n[6]=f,n[7]=v):(a=n[1],l=n[2],u=n[3],d=n[4],m=n[5],f=n[6],v=n[7]);var R=r("useDelayedState")(!1),L=R[0],E=R[1],k=h(!1),I=k[0],T=k[1],D=h(!1),x=D[0],$=D[1],P=h(!1),N=P[0],M=P[1],w=h(!1),A=w[0],F=w[1],O=h(!1),B=O[0],W=O[1],q=N&&A&&!x,U;n[8]!==B?(U=function(t){F(t),!t&&!B&&$(!1)},n[8]=B,n[9]=U):U=n[9];var V=U,H=g(null),G=g(null),z=g(null),j=r("useCometDisplayTimingTrackerForInteraction")("HoverCard"),K=function(){ue&&W(!0)},Q,X;n[10]!==B?(Q=function(){if(B){var e=de.current;if(!e)return;var t=e.querySelector(S);t==null||t.focus()}},X=[B],n[10]=B,n[11]=Q,n[12]=X):(Q=n[11],X=n[12]),p(Q,X);var Y;n[13]!==B?(Y=function(){if(B){W(!1);var e=G.current;e==null||e.focus()}},n[13]=B,n[14]=Y):Y=n[14];var J=Y,Z=g(K),ee=g(J),te;n[15]!==E?(te=function(){E(!1),T(!1),$(!0),ee.current()},n[15]=E,n[16]=te):te=n[16];var ne=te,re=g(ne),oe;n[17]!==K||n[18]!==ne||n[19]!==J?(oe=function(){Z.current=K,ee.current=J,re.current=ne},n[17]=K,n[18]=ne,n[19]=J,n[20]=oe):oe=n[20],p(oe,void 0);var ae;n[21]!==ne?(ae=function(t){t.key==="Escape"&&(t.stopPropagation(),ne())},n[21]=ne,n[22]=ae):ae=n[22];var ie=ae,le;n[23]!==ne?(le=function(t){(t.key==="Escape"||t.key===" "||t.keyCode===9)&&(t.stopPropagation(),ne()),(["ArrowDown","ArrowUp"].includes(t.key)||t.altKey&&t.key==="F1")&&(Z.current(),t.preventDefault(),t.stopPropagation())},n[23]=ne,n[24]=le):le=n[24];var se=le,ue=L||I||q||B,ce=g(ue),de=g(),me;n[25]!==ue||n[26]!==f?(me=function(){ce.current!==ue&&(f&&f(ue),ue||W(!1)),ce.current=ue},n[25]=ue,n[26]=f,n[27]=me):me=n[27];var pe;n[28]!==ue||n[29]!==f?(pe=[ue,f],n[28]=ue,n[29]=f,n[30]=pe):pe=n[30],p(me,pe);var _e=r("useFadeEffect")(ue),fe=_e[0],ge=_e[1],he=_e[2],ye=r("useCometPrerenderer")("tooltip",ue),Ce=ye[0],be=ye[1],ve=ye[2],Se=Ce.shouldPrerender,Re=Se===void 0?!1:Se,Le;n[31]!==m?(Le=function(){m&&m()},n[31]=m,n[32]=Le):Le=n[32];var Ee=Le,ke;n[33]!==q||n[34]!==L||n[35]!==I||n[36]!==Ee||n[37]!==be||n[38]!==E||n[39]!==v?(ke=function(t){L?r("clearTimeout")(H.current):(E(!0,v!=null?v:y),Ee()),!q&&!I&&be(t)},n[33]=q,n[34]=L,n[35]=I,n[36]=Ee,n[37]=be,n[38]=E,n[39]=v,n[40]=ke):ke=n[40];var Ie=ke,Te;n[41]!==ve||n[42]!==E?(Te=function(){H.current=r("setTimeout")(function(){E(!1)},C),ve()},n[41]=ve,n[42]=E,n[43]=Te):Te=n[43];var De=Te,xe;n[44]===Symbol.for("react.memo_cache_sentinel")?(xe=function(){T(!1)},n[44]=xe):xe=n[44];var $e=xe,Pe;n[45]===Symbol.for("react.memo_cache_sentinel")?(Pe=function(){T(!1)},n[45]=Pe):Pe=n[45];var Ne=Pe,Me;n[46]!==I||n[47]!==Ee?(Me=function(){I||(T(!0),Ee())},n[46]=I,n[47]=Ee,n[48]=Me):Me=n[48];var we=Me,Ae;n[49]!==Ee?(Ae=function(){Ee()},n[49]=Ee,n[50]=Ae):Ae=n[50];var Fe=Ae,Oe=_(),Be,We;n[51]===Symbol.for("react.memo_cache_sentinel")?(Be=s._(/*BTDS*/"Press Alt-F1 or the up arrow key to access the link preview"),We=s._(/*BTDS*/"Press the up arrow key to access the link preview"),n[51]=Be,n[52]=We):(Be=n[51],We=n[52]);var qe=q?Oe:null,Ue;n[53]!==ne?(Ue=function(){ee.current(),ne()},n[53]=ne,n[54]=Ue):Ue=n[54];var Ve;n[55]!==B||n[56]!==qe||n[57]!==Ue?(Ve={active:B,"aria-label":Be,label:We,labelId:qe,onClose:Ue},n[55]=B,n[56]=qe,n[57]=Ue,n[58]=Ve):Ve=n[58];var He=Ve,Ge;n[59]!==ne?(Ge=function(t){t.key==="Escape"&&ne()},n[59]=ne,n[60]=Ge):Ge=n[60];var ze=Ge,je=r("useMergeRefs")(he,de),Ke,Qe;n[61]!==q||n[62]!==Oe?(Ke=function(){var e=G.current;e!=null&&(q?e.setAttribute("aria-describedby",Oe):e.removeAttribute("aria-describedby"))},Qe=[q,Oe],n[61]=q,n[62]=Oe,n[63]=Ke,n[64]=Qe):(Ke=n[63],Qe=n[64]),p(Ke,Qe);var Xe;n[65]!==a||n[66]!==l||n[67]!==u||n[68]!==j||n[69]!==d||n[70]!==x||n[71]!==ue||n[72]!==q||n[73]!==I||n[74]!==je||n[75]!==V||n[76]!==Fe||n[77]!==He||n[78]!==ze||n[79]!==ie||n[80]!==se||n[81]!==Ie||n[82]!==De||n[83]!==we||n[84]!==ge||n[85]!==Re||n[86]!==fe?(Xe=function(t){var e=t;return d!=null&&(e=c.jsx(r("CometPlaceholder.react"),{fallback:d,name:i.id,children:e})),c.jsxs(r("BaseHovercardTriggerWrapper.react"),{display:u,onKeyDown:ie,onMouseEnter:Ie,onMouseLeave:De,onTouchCancel:$e,onTouchEnd:Ne,onTouchStart:we,children:[c.jsx(r("FocusWithinHandler.react"),{onFocusChange:M,onFocusVisibleChange:V,onFocusWithin:Fe,children:c.jsx("span",{className:"xjp7ctv",onKeyDown:se,children:a(G)})}),(q||I||Re||fe)&&!x&&c.jsx(r("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:c.jsx(r("CometErrorBoundary.react"),{children:c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"HovercardTriggerPopover",children:c.jsx(r("BaseContextualLayer.react"),babelHelpers.extends({align:"middle",contextRef:G,hidden:!ue&&Re,imperativeRef:z,ref:j,xstyle:!ue&&fe?b.disablePointerEvents:void 0},l,{children:c.jsx(r("HiddenSubtreeContextProvider.react"),{isHidden:!ue&&Re,children:c.jsx("div",babelHelpers.extends({},{0:{className:"xg01cxk x1n2onr6 x1ebt8du x19991ni x1dhq9h"},1:{className:"x1n2onr6 x19991ni x1hc1fzr xhb22t3 xls3em1"}}[!!ge<<0],{onKeyDown:ze,ref:je,children:c.jsx(r("BaseHovercardStateContext.react").Provider,{value:He,children:e})}))})}))})})})]})},n[65]=a,n[66]=l,n[67]=u,n[68]=j,n[69]=d,n[70]=x,n[71]=ue,n[72]=q,n[73]=I,n[74]=je,n[75]=V,n[76]=Fe,n[77]=He,n[78]=ze,n[79]=ie,n[80]=se,n[81]=Ie,n[82]=De,n[83]=we,n[84]=ge,n[85]=Re,n[86]=fe,n[87]=Xe):Xe=n[87];var Ye=Xe,Je;return n[88]!==ne||n[89]!==Ye?(Je=[Ye,ne],n[88]=ne,n[89]=Ye,n[90]=Je):Je=n[90],Je}var S=['a[href]:not([href=""]):not([rel="ignore"])',"button:not(:disabled)","[tabindex]"].map(function(e){return e+':not([tabindex="-1"])'}).join(", ");l.default=v}),226);
__d("BaseHovercardTriggerAccessible.react",["BaseHovercardTriggerWrapper.react","BaseNestedHovercardContext.react","CometRelay","react","react-compiler-runtime","useBaseHovercardTriggerAccessible","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e=["popoverEntryPoint","popoverOtherProps","popoverProps","preventNested"],s=["preventNested"],u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useContext,_=d.useRef,f={};function g(t){var n=o("react-compiler-runtime").c(19),a,i,l,s;if(n[0]!==t){var u=t.popoverEntryPoint,d=t.popoverOtherProps,m=t.popoverProps,p=t.preventNested,_=babelHelpers.objectWithoutPropertiesLoose(t,e);i=u,s=d,l=m,a=_,n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s}else a=n[1],i=n[2],l=n[3],s=n[4];var g=s===void 0?f:s,h=r("useCometRelayEntrypointContextualEnvironmentProvider")(),y=o("CometRelay").useEntryPointLoader(h,i),C=y[0],b=y[1],v;n[5]!==b||n[6]!==l?(v=function(){b(l)},n[5]=b,n[6]=l,n[7]=v):v=n[7];var S=v,R;n[8]!==a||n[9]!==S?(R=babelHelpers.extends({},a,{onLoadEntryPoint:S}),n[8]=a,n[9]=S,n[10]=R):R=n[10];var L=r("useBaseHovercardTriggerAccessible")(R),E=L[0],k;n[11]!==C||n[12]!==g?(k=C!=null&&c.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:C,props:g}),n[11]=C,n[12]=g,n[13]=k):k=n[13];var I;n[14]!==k?(I=c.jsx(c.Fragment,{children:k}),n[14]=k,n[15]=I):I=n[15];var T;return n[16]!==I||n[17]!==E?(T=E(I),n[16]=I,n[17]=E,n[18]=T):T=n[18],T}function h(e){var t=e.preventNested,n=t===void 0?!1:t,o=babelHelpers.objectWithoutPropertiesLoose(e,s),a=p(r("BaseNestedHovercardContext.react")),i=_(null);return a?c.jsx(r("BaseHovercardTriggerWrapper.react"),{display:e.display,children:e.children(i)}):c.jsx(r("BaseNestedHovercardContext.react").Provider,{value:n,children:c.jsx(g,babelHelpers.extends({},o))})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("BaseHovercardTrigger.react",["BaseHovercardTriggerAccessible.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("BaseHovercardTriggerAccessible.react")}),98);
__d("CometHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("BaseHovercardTrigger.react")}),98);
__d("ActorHovercardAccessible.react",["CometHovercardQueryRenderer.entrypoint","CometHovercardTrigger.react","FDSHovercardGroupContext","react","react-compiler-runtime","useActorHovercardContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext;function c(e){var t=o("react-compiler-runtime").c(12),n=e.actorID,a=e.align,i=e.children,l=e.display,c=e.position,d=e.showHovercardOnClick,m=e.stopClickPropagation,p=a===void 0?"middle":a,_=c===void 0?"above":c,f=m===void 0?!1:m,g=r("useActorHovercardContext")(),h=u(r("FDSHovercardGroupContext")),y=h.groupID,C=g==="CIVIC_POST"?"WWW_COMET_CIVIC_PROFILE_HOVERCARD":"WWW_COMET_HOVERCARD",b;t[0]!==C||t[1]!==g||t[2]!==n||t[3]!==y?(b={actionBarRenderLocation:C,context:g,entityID:n,groupID:y},t[0]=C,t[1]=g,t[2]=n,t[3]=y,t[4]=b):b=t[4];var v=b,S;return t[5]!==p||t[6]!==i||t[7]!==l||t[8]!==v||t[9]!==_||t[10]!==f?(S=s.jsx(r("CometHovercardTrigger.react"),{align:p,display:l,popoverEntryPoint:r("CometHovercardQueryRenderer.entrypoint"),popoverProps:v,position:_,stopClickPropagation:f,children:i}),t[5]=p,t[6]=i,t[7]=l,t[8]=v,t[9]=_,t[10]=f,t[11]=S):S=t[11],S}l.default=c}),98);
__d("ActorHovercard.react",["ActorHovercardAccessible.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("ActorHovercardAccessible.react")}),98);
__d("baseTextWithEntitiesApplyRenderers",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.Fragment;function c(e,t,n,r,o,a,i,l,c){var d=e.__typename,m=Object.prototype.hasOwnProperty.call(l,d)?l[d].concat(c):c;return s.jsx(u,{children:m&&m.length>0?m.reduce(function(r,a){return a(r,e,n,o,t)},a):r},i)}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("baseTextWithEntitiesApplyTextTransforms",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return t!=null?t.reduce(function(e,t){return t(e)},e):e}e.displayName=e.name+" [from "+a.id+"]",i.default=e}),66);
__d("baseTextWithEntitiesProcessRange",["UnicodeUtils","baseTextWithEntitiesApplyRenderers","baseTextWithEntitiesApplyTextTransforms","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.Fragment;function d(e,t,n,a,i,l,d,m,p,_,f,g){var h=(s||(s=o("UnicodeUtils"))).substr(e,t,n-t),y=p.length;h.length>0&&m.push(u.jsx(c,{children:r("baseTextWithEntitiesApplyTextTransforms")(h,_)},"c"+t+"_"+y+"_"+g));var C=p.pop();return p[p.length-1].subElements.push(r("baseTextWithEntitiesApplyRenderers")(a,i,l,m,h,m,t+"_"+y+"_"+g,d,f)),C}l.default=d}),98);
__d("baseTextWithEntitiesSortRanges",[],(function(t,n,r,o,a,i){"use strict";function e(e){return Array.from(e).sort(function(e,t){return e.offset-t.offset||t.length-e.length})}i.default=e}),66);
__d("BaseCometTextWithEntitiesBase.react",["UnicodeUtils","baseTextWithEntitiesApplyRenderers","baseTextWithEntitiesApplyTextTransforms","baseTextWithEntitiesProcessRange","baseTextWithEntitiesSortRanges","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.Fragment;function d(e){var t=o("react-compiler-runtime").c(8),n=e.ranges,a=e.renderers,i=e.transforms,l=e.text,d=e.disableRangeSort,m;if(t[0]!==a||t[1]!==l||t[2]!==n||t[3]!==i||t[4]!==d){var p,_=n===void 0?[]:n,f=i===void 0?[]:i,g=d===void 0?!1:d,h=a!=null?a:{},y=0,C=(p=Object.prototype.hasOwnProperty.call(h,"*")?h["*"]:[])!=null?p:[],b=g?_:r("baseTextWithEntitiesSortRanges")(_);m=[{entity:{__typename:""},entity_is_weak_reference:!1,entityType:"",length:l.length,offset:0,subElements:[]}];for(var v=0;v<b.length;++v){var S=b[v],R=S.entity,L=S.entity_is_weak_reference,E=S.entity_type,k=S.length,I=S.offset;if(y>=l.length||I>l.length)break;for(var T=m[m.length-1],D=T.entity,x=T.entity_is_weak_reference,$=T.entityType,P=T.length,N=T.offset,M=T.subElements,w=N+P;w<=I&&m.length>1;){r("baseTextWithEntitiesProcessRange")(l,y,w,D,x,$,h,M,m,f,C,v),y=w;var A=m[m.length-1];D=A.entity,x=A.entity_is_weak_reference,$=A.entityType,P=A.length,N=A.offset,M=A.subElements,w=N+P}if(y<I&&(m[m.length-1].subElements.push(u.jsx(c,{children:r("baseTextWithEntitiesApplyTextTransforms")((s||(s=o("UnicodeUtils"))).substr(l,y,I-y),f)},"c"+y+"_"+m.length)),y=I),N<=I&&w>=I+k)m.push({entity:R,entity_is_weak_reference:L!=null?L:null,entityType:E!=null?E:null,length:k,offset:I,subElements:[]});else{var F=(s||(s=o("UnicodeUtils"))).substr(l,I,k),O=r("baseTextWithEntitiesApplyTextTransforms")(F,f);m[m.length-1].subElements.push(r("baseTextWithEntitiesApplyRenderers")(R,L!=null?L:null,E!=null?E:null,F,F,O,y+"_"+m.length,h,C)),y=I+k}}for(;m.length>1;){var B=m[m.length-1],W=B.entity,q=B.entity_is_weak_reference,U=B.entityType,V=B.length,H=B.offset,G=B.subElements,z=H+V;r("baseTextWithEntitiesProcessRange")(l,y,z,W,q,U,h,G,m,f,C,m.length),y=z}if(y<l.length){var j=m[m.length-1].subElements;j.push(u.jsx(c,{children:r("baseTextWithEntitiesApplyTextTransforms")((s||(s=o("UnicodeUtils"))).substr(l,y),f)},"c"+y))}t[0]=a,t[1]=l,t[2]=n,t[3]=i,t[4]=d,t[5]=m}else m=t[5];var K=m[m.length-1],Q;return t[6]!==K.subElements?(Q=u.jsx(u.Fragment,{children:K.subElements}),t[6]=K.subElements,t[7]=Q):Q=t[7],Q}l.default=d}),98);
__d("CometSeeMoreExpandingUtils",["UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){for(var n=t;n>=0&&!(e.charAt(n)===" "||e.charAt(n)==="\n");)n-=1;e.charAt(t)!=="\n"?n+=1:n=t+1;var r=e.substring(n),o=/\s/,a=r.search(o)+n-1;return{truncatedEntityEndIndex:a,truncatedEntityOffset:n}}function u(e,t,n){var r=[],o=s(t,n),a=o.truncatedEntityEndIndex,i=o.truncatedEntityOffset,l=i,u=!1;for(var c of e){var d=c.entity,m=c.entity_type,p=c.length,_=c.offset;_!=null&&p!=null&&d!=null&&d.__typename!=null&&(r.push({entity:d,entity_type:m,length:p,offset:_}),!u&&_+p>=a&&l>=_&&(l=_,u=!0))}return u||r.push({entity:{__typename:"SeeMoreTruncation"},entity_type:"SEE_MORE_ANCHOR",length:0,offset:l}),{newEntityRanges:r,newTruncatedEntityOffset:l}}function c(e,t){var n=[],r=[];if(t!=null)for(var o of e){var a=o.entity,i=o.entity_type,l=o.length,s=o.offset;s!=null&&l!=null&&a!=null&&a.__typename!=null&&(s<t?(n.push({entity:a,entity_type:i,length:l,offset:s}),s+l>t&&r.push({entity:a,entity_type:i,length:s+l-t,offset:0})):r.push({entity:a,entity_type:i,length:l,offset:s-t}))}return{entitiesBeforeTruncatedOffset:n,entitiesFromTruncatedOffset:r}}function d(e,t,n){var r=u(e,t,n),o=r.newEntityRanges,a=r.newTruncatedEntityOffset,i=c(o,a),l=i.entitiesBeforeTruncatedOffset,s=i.entitiesFromTruncatedOffset;return{entitiesBeforeTruncatedOffset:l,entitiesFromTruncatedOffset:s,newTruncatedEntityOffset:a}}function m(t,n,r){var a=[],i=[],l=-1,s=-1,u=-1;if(!t)return{filteredEntitiesBeforeTruncatedPosition:a,filteredEntitiesFromTruncatedPosition:i,hiddenContentOffset:l,truncatedLineIndex:s,truncatedParagraphIndex:u};for(var c=0,m=0,p=0;p<n.length;p++){var _=n[p];if(Array.isArray(_)&&r!=null&&r.current!=null)for(var f=r.current,g=0;g<_.length;g++){var h=_[g].ranges,y=_[g].text,C=(e||(e=o("UnicodeUtils"))).strlen(y);if(m=f-c,c+=C,u<0&&m>=0&&c>=f){u=p,s=g;var b=d(h,y,f-c+C),v=b.entitiesBeforeTruncatedOffset,S=b.entitiesFromTruncatedOffset,R=b.newTruncatedEntityOffset;a=v,i=S,l=R;break}}if(u>=0&&s>=0)break}return{filteredEntitiesBeforeTruncatedPosition:a,filteredEntitiesFromTruncatedPosition:i,hiddenContentOffset:l,truncatedLineIndex:s,truncatedParagraphIndex:u}}l.getTruncatedEntityRangesAfterExpandingSeeMore=u,l.splitEntityRangesIntoRegularAndHiddenParts=c,l.getEntityRangesWithTruncatedEntityAndSplitIntoTwoParts=d,l.filterParagraphsGetTruncatedLinesEntityRangesAndIndex=m}),98);
__d("CometSplitPointForText",["EmojiRendererData","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n,r){n===void 0&&(n=8),r===void 0&&(r=0);var a=null,i=e.split("\n"),l=(s||(s=o("UnicodeUtils"))).strlen(e);if(l>t&&l-t>r&&(a=t),i.length>n){var u=i.slice(0,n).join("\n").length;a!==null?a=Math.min(u,a):a=u}if(a==null)return a;var d=a+c(e,a);return d<l?d:null}function c(t,n){var a=n>0&&(e||(e=r("EmojiRendererData"))).isZWJ((s||(s=o("UnicodeUtils"))).charAt(t,n-1).codePointAt(0));return d(t,a?n-1:n)}function d(t,n){var a=(s||(s=o("UnicodeUtils"))).charAt(t,n);if(a!==""){var i=a.codePointAt(0);if((e||(e=r("EmojiRendererData"))).isEmojiModifier(i)||(e||(e=r("EmojiRendererData"))).isEmojiVariationSelector(i)||(e||(e=r("EmojiRendererData"))).isTextVariationSelector(i))return 1+d(t,n+1);if((e||(e=r("EmojiRendererData"))).isZWJ(i)){var l=(s||(s=o("UnicodeUtils"))).charAt(t,n+1);if((e||(e=r("EmojiRendererData"))).isEmojiModifierBase(l.codePointAt(0)))return 2+d(t,n+2)}}return 0}l.findSplitPointForText=u}),98);
__d("baseTextWithEntitiesAdjustRanges",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){return e.map(function(e){return babelHelpers.extends({},e,{offset:e.offset-t})}).filter(function(e){return e.offset>=0&&e.offset<n})}i.default=e}),66);
__d("baseTextWithEntitiesFilterRanges",[],(function(t,n,r,o,a,i){"use strict";function e(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r!=null&&r.offset!=null&&r.length!=null&&r.entity!=null&&r.entity.__typename!=null){var o;t.push({entity:r.entity,entity_is_weak_reference:(o=r.entity_is_weak_reference)!=null?o:null,length:r.length,offset:r.offset})}}return t}i.default=e}),66);
__d("baseTextWithEntitiesSplitRangesAndTextIntoParagraphs",["UnicodeUtils","baseTextWithEntitiesAdjustRanges"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.ranges,a=t.text,i=0;return a.split("\n").map(function(t){var a=r("baseTextWithEntitiesAdjustRanges")(n,i,(e||(e=o("UnicodeUtils"))).strlen(t));return i+=e.strlen(t)+1,{ranges:a,text:t}}).filter(function(e){return e.text.trim()!==""})}function u(t,n){var a=t.ranges,i=t.text,l=0;return i.split(/(?=\n\s*\n)/).map(function(t){var i,u,c,d=(i=t.match(/(^\n\s*\n)?([^]*$)/))!=null?i:[],m=(u=d[1])!=null?u:"",p=(c=d[2])!=null?c:t,_=r("baseTextWithEntitiesAdjustRanges")(a,l+m.length,(e||(e=o("UnicodeUtils"))).strlen(p));return l+=e.strlen(t),n?s({ranges:_,text:p}):{ranges:_,text:p}})}l.default=u}),98);
__d("getTextDirectionAttribute",["cr:1080422"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t="auto";return n("cr:1080422")!=null&&window!=null&&(t=n("cr:1080422").isDirectionRTL(e)?"rtl":"ltr"),t}l.default=e}),98);
__d("BaseCometTextWithEntities.react",["BaseCometTextWithEntitiesBase.react","CometSeeMoreExpandingUtils","CometSplitPointForText","CometTrackingNodeProvider.react","FocusRegion.react","UnicodeUtils","baseTextWithEntitiesAdjustRanges","baseTextWithEntitiesFilterRanges","baseTextWithEntitiesSplitRangesAndTextIntoParagraphs","focusScopeQueries","getTextDirectionAttribute","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["maxLength","maxLines","ranges","text","truncationFactor_DEPRECATED","truncationStyle","truncationThreshold","withLineBreaks","withParagraphs","onToggleExpanded","seeMoreFragment","expanded","preserveWhiteSpace","align","maintainExpansionState","suffix"],s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useRef,_=d.useState,f=r("gkx")("20778"),g=.6,h=20,y={auto:{textAlign:"start"},center:{textAlign:"center"},ltr:{textAlign:"left"},rtl:{textAlign:"right"}};function C(t){var n=t.maxLength,a=n===void 0?800:n,i=t.maxLines,l=i===void 0?8:i,s=t.ranges,d=s===void 0?[]:s,C=t.text,b=t.truncationFactor_DEPRECATED,v=b===void 0?g:b,S=t.truncationStyle,R=S===void 0?"none":S,L=t.truncationThreshold,E=L===void 0?h:L,k=t.withLineBreaks,I=k===void 0?!1:k,T=t.withParagraphs,D=T===void 0?!1:T,x=t.onToggleExpanded,$=t.seeMoreFragment,P=t.expanded,N=t.preserveWhiteSpace,M=N===void 0?!1:N,w=t.align,A=t.maintainExpansionState,F=A===void 0?!1:A,O=t.suffix,B=babelHelpers.objectWithoutPropertiesLoose(t,e),W=_(P!=null?P:!1),q=W[0],U=W[1],V=P!=null?P:q,H=p(-1),G=m(function(){F||U(function(e){return!e}),x!=null&&x()},[x,F]),z=r("baseTextWithEntitiesFilterRanges")(d),j=C,K=null;R!=="none"&&!V&&(K=o("CometSplitPointForText").findSplitPointForText(C,a*v,l,E),K!=null&&(j=(u||(u=o("UnicodeUtils"))).substring(C,0,K),z=r("baseTextWithEntitiesAdjustRanges")(z,0,u.strlen(j))));var Q=R==="see-more-and-less"&&V,X=$!=null?c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:Q?605:44,children:$(V,K,G)}):null,Y=!V&&j!==C;if(!D)return f&&Y?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"xzpqnlu x1hyvwdk x14bfe9o xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",children:C}),c.jsxs("span",{"aria-hidden":!0,children:[c.jsx(r("BaseCometTextWithEntitiesBase.react"),babelHelpers.extends({ranges:z,text:j},B)),X]})]}):c.jsxs(c.Fragment,{children:[c.jsx(r("BaseCometTextWithEntitiesBase.react"),babelHelpers.extends({ranges:z,text:j},B)),X]});var J=r("baseTextWithEntitiesSplitRangesAndTextIntoParagraphs")({ranges:z,text:j},I);J=J.filter(function(e){return!Array.isArray(e)||e.length>0});var Z=O!=null?c.jsx(c.Fragment,{children:O}):null,ee=o("CometSeeMoreExpandingUtils").filterParagraphsGetTruncatedLinesEntityRangesAndIndex(V,J,H),te=ee.filteredEntitiesBeforeTruncatedPosition,ne=ee.filteredEntitiesFromTruncatedPosition,re=ee.hiddenContentOffset,oe=ee.truncatedLineIndex,ae=ee.truncatedParagraphIndex,ie=J.map(function(e,t){return c.createElement("div",babelHelpers.extends({},{0:{className:"xdj266r x14z9mp xat24cr x1lziwak x1vvkbs"},2:{className:"x14z9mp xat24cr x1lziwak x1vvkbs xtlvy1s"},1:{className:"xdj266r x14z9mp xat24cr x1lziwak x1vvkbs x126k92a"},3:{className:"x14z9mp xat24cr x1lziwak x1vvkbs xtlvy1s x126k92a"}}[(t!==0)<<1|!!M<<0],{key:t}),Array.isArray(e)?e.map(function(n,a){var i=n.ranges,l=n.text,s=w==="center"?w:r("getTextDirectionAttribute")(l);return c.jsxs("div",{dir:s,style:y[s],children:[V&&ae===t&&oe===a?c.jsxs(c.Fragment,{children:[c.jsx(r("BaseCometTextWithEntitiesBase.react"),babelHelpers.extends({ranges:te,text:(u||(u=o("UnicodeUtils"))).substring(l,0,re)},B)),c.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").focusableScopeQuery,children:c.jsx(r("BaseCometTextWithEntitiesBase.react"),babelHelpers.extends({ranges:ne,text:(u||(u=o("UnicodeUtils"))).substring(l,re)},B))}),t===J.length-1&&a===e.length-1&&Z]}):c.jsxs(c.Fragment,{children:[c.jsx(r("BaseCometTextWithEntitiesBase.react"),babelHelpers.extends({ranges:i,text:l},B)),(V||H.current===-1)&&t===J.length-1&&a===e.length-1&&Z]}),t===J.length-1&&a===e.length-1?X:null]},a)}):c.jsxs(c.Fragment,{children:[c.jsx(r("BaseCometTextWithEntitiesBase.react"),babelHelpers.extends({ranges:e.ranges,text:e.text},B)),t===J.length-1&&Z,t===J.length-1?X:null]}))});return f&&Y?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"xzpqnlu x1hyvwdk x14bfe9o xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",children:C}),c.jsx("div",{"aria-hidden":!0,children:ie})]}):c.jsx(c.Fragment,{children:ie})}C.displayName=C.name+" [from "+i.id+"]",l.default=C}),98);
__d("BaseCometTextWithExpansionEntities.react",["fbt","BaseCometTextWithEntities.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["LinkRenderer","seeLessLinkProps","seeMoreLinkProps","truncationStyle"],u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=o("react-compiler-runtime").c(15),a,i,l,u,d;n[0]!==t?(a=t.LinkRenderer,l=t.seeLessLinkProps,u=t.seeMoreLinkProps,d=t.truncationStyle,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5]);var m;n[6]!==a||n[7]!==l||n[8]!==u||n[9]!==d?(m=function(t,n,r){if(t){if(d==="see-more-and-less")return c.jsxs(c.Fragment,{children:[" ",c.jsx(a,babelHelpers.extends({onClick:r,onContextMenu:r,role:"button",testid:void 0},l,{children:s._(/*BTDS*/"See less")}))]},"seeless")}else{if(d==="none")return null;if(n!=null&&n!==-1)switch(d){case"ellipsis-only":return c.jsx(c.Fragment,{children:s._(/*BTDS*/"\u2026")},"seemore");case"see-more":case"see-more-and-less":case"see-more-with-attachments":return c.jsxs(c.Fragment,{children:[s._(/*BTDS*/"\u2026")," ",c.jsx(a,babelHelpers.extends({onClick:r,onContextMenu:r,role:"button",testid:void 0},u,{children:s._(/*BTDS*/"See more")}))]},"seemore")}else if(d==="see-more-with-attachments")return c.jsx(o("react-strict-dom").html.div,{children:c.jsx(a,babelHelpers.extends({onClick:r,onContextMenu:r,role:"button",testid:void 0},u,{children:s._(/*BTDS*/"See more")}))},"seemore")}},n[6]=a,n[7]=l,n[8]=u,n[9]=d,n[10]=m):m=n[10];var p=m,_;return n[11]!==i||n[12]!==p||n[13]!==d?(_=c.jsx(r("BaseCometTextWithEntities.react"),babelHelpers.extends({truncationStyle:d},i,{seeMoreFragment:p})),n[11]=i,n[12]=p,n[13]=d,n[14]=_):_=n[14],_}l.default=m}),226);
__d("CometBoldedEntityRenderer",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={bold:{fontWeight:"x1s688f",$$css:!0}};function c(e,t){return s.jsx(o("react-strict-dom").html.b,{style:u.bold,children:e})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometEntryPointDialogTrigger.react",["react","react-compiler-runtime","useCometEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.dialogEntryPoint,i=e.fallback,l=e.onHide,s=e.onShow,u=e.otherProps,c=e.preloadParams,d=e.preloadTrigger,m=e.tracePolicy,p=r("useCometEntryPointDialog")(a,c,d,i),_=p[0],f=p[1],g=p[2],h=p[3],y;t[0]!==l||t[1]!==s||t[2]!==u||t[3]!==_||t[4]!==m?(y=function(){_(u,l,m),s==null||s()},t[0]=l,t[1]=s,t[2]=u,t[3]=_,t[4]=m,t[5]=y):y=t[5];var C=y,b;return t[6]!==n||t[7]!==f||t[8]!==g||t[9]!==h||t[10]!==C?(b=n(C,f,g,h),t[6]=n,t[7]=f,t[8]=g,t[9]=h,t[10]=C,t[11]=b):b=t[11],b}l.default=c}),98);
__d("CometProfileVerificationBadgePopoverQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9684350218300346"}),null);
__d("CometProfileVerificationBadgePopoverQuery$Parameters",["CometProfileVerificationBadgePopoverQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometProfileVerificationBadgePopoverQuery_facebookRelayOperation"),metadata:{},name:"CometProfileVerificationBadgePopoverQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometProfileVerificationBadgePopover.entrypoint",["CometProfileVerificationBadgePopoverQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.profileID;return{queries:{queryReference:{parameters:n("CometProfileVerificationBadgePopoverQuery$Parameters"),variables:{profileID:e}}}}},root:r("JSResourceForInteraction")("CometProfileVerificationBadgePopover.react").__setRef("CometProfileVerificationBadgePopover.entrypoint")};l.default=e}),98);
__d("CometOnFBProfileVerificationBadge.react",["CometHovercardTrigger.react","CometPageVerificationIcon.react","CometProfileVerificationBadgePopover.entrypoint","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useId;function c(e){var t=o("react-compiler-runtime").c(11),n=e.isInverted,a=e.profileID,i=e.size,l=u(),c;t[0]!==l?(c={accessibilityId:l},t[0]=l,t[1]=c):c=t[1];var d;t[2]!==a?(d={profileID:a},t[2]=a,t[3]=d):d=t[3];var m;t[4]!==n||t[5]!==i?(m=function(t){return s.jsx("div",{ref:t,tabIndex:0,children:s.jsx(r("CometPageVerificationIcon.react"),{isInverted:n,size:i,verificationBadge:"BLUE_VERIFIED"})})},t[4]=n,t[5]=i,t[6]=m):m=t[6];var p;return t[7]!==c||t[8]!==d||t[9]!==m?(p=s.jsx(r("CometHovercardTrigger.react"),{align:"start",display:"inline-block",popoverEntryPoint:r("CometProfileVerificationBadgePopover.entrypoint"),popoverOtherProps:c,popoverProps:d,position:"above",children:m}),t[7]=c,t[8]=d,t[9]=m,t[10]=p):p=t[10],p}l.default=c}),98);
__d("CometProfileVerificationBadge.react",["CometOnFBProfileVerificationBadge.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.isInverted,a=e.profileID,i=e.size,l=i===void 0?"large":i,u;return t[0]!==n||t[1]!==a||t[2]!==l?(u=s.jsx(r("CometOnFBProfileVerificationBadge.react"),{isInverted:n,profileID:a,size:l}),t[0]=n,t[1]=a,t[2]=l,t[3]=u):u=t[3],u}l.default=u}),98);
__d("CometTextLink_DEPRECATED.react",["FDSLink.react","FDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["isSemanticHeading","ref","type","color_DEPRECATED"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(17),a,i,l,s,c;n[0]!==t?(i=t.isSemanticHeading,l=t.ref,c=t.type,a=t.color_DEPRECATED,s=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d;n[6]!==l||n[7]!==s?(d=babelHelpers.extends({},s,{ref:l}),n[6]=l,n[7]=s,n[8]=d):d=n[8];var m=d,p;n[9]!==a||n[10]!==m?(p=u.jsx(r("FDSLink.react"),babelHelpers.extends({},m,{color_DEPRECATED:a})),n[9]=a,n[10]=m,n[11]=p):p=n[11];var _;return n[12]!==a||n[13]!==i||n[14]!==p||n[15]!==c?(_=u.jsx(r("FDSText.react"),{color:a,isSemanticHeading:i,type:c,children:p}),n[12]=a,n[13]=i,n[14]=p,n[15]=c,n[16]=_):_=n[16],_}l.default=c}),98);
__d("CometTextWithEntities.react",["BaseCometTextWithExpansionEntities.react","FDSLink.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(s.Fragment,{children:s.jsx(r("BaseCometTextWithExpansionEntities.react"),babelHelpers.extends({LinkRenderer:r("FDSLink.react")},e))}),t[0]=e,t[1]=n):n=t[1],n}l.default=u}),98);
__d("CometTextWithEntitiesRelay_entity.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},n={kind:"Variable",name:"scale",variableName:"scale"},r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"CometTextWithEntitiesRelay_entity",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[e],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_entity",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_entity",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPageVerificationBadge_page"}],type:"Page",abstractKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometProfileLink_actor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_entity",fragmentName:"ProfileGeminiWeakReferenceLink_user",fragmentPropName:"user",kind:"ModuleImport"},t,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},e],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"imageScaledForFeed",args:[n,{kind:"Literal",name:"width",value:680}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[r,o,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:null,args:[{kind:"Literal",name:"height",value:64},{kind:"Literal",name:"media_type",value:"image/png"},n,{kind:"Literal",name:"width",value:64}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[o],storageKey:null}],type:"XFBWorkCustomEmoji",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCometFeedThumbnail_video"},a,r,{alias:null,args:null,kind:"ScalarField",name:"is_animated_gif",storageKey:null}],type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometTitleSentenceGroupJoinButtonRenderer_entity"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deep_link_number",storageKey:null}],type:"PageWhatsAppNumber",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:null,args:null,kind:"ScalarField",name:"ticker_symbol",storageKey:null}],type:"KGTickerNode",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snapshot_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"truncateComposedTextWithUnidash_entity"}],type:"XFBProdQuartzVizirSnapshot",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}})();a.exports=e}),null);
__d("CometTextWithEntitiesRelay_textWithEntities.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],a=[n],i={kind:"Variable",name:"scale",variableName:"scale"},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d=[n,c],m={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometTextWithEntitiesRelay_textWithEntities",selections:[{alias:null,args:null,concreteType:"DelightAtRange",kind:"LinkedField",name:"delight_ranges",plural:!0,selections:[e,t,{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[n,r,{alias:null,args:o,concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'},{alias:null,args:o,concreteType:"DelightsAnimation",kind:"LinkedField",name:"delight_asset",plural:!1,selections:a,storageKey:'delight_asset(delight_surface:"COMMENT")'}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[e,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[{alias:null,args:[i],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},s,u],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[r,{kind:"InlineFragment",selections:d,type:"User",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[n,c,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_prioritize_ig_display_name",storageKey:null}],type:"InstagramUserV2",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[r,{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:a,type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometPageVerificationBadge_page"}],type:"Page",abstractKey:null},{args:null,kind:"FragmentSpread",name:"ProfileCometProfileLink_actor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"ProfileGeminiWeakReferenceLink_user",fragmentPropName:"user",kind:"ModuleImport"},m,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},n],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"imageScaledForFeed",args:[i,{kind:"Literal",name:"width",value:680}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[l,s,u],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[c,{alias:null,args:[{kind:"Literal",name:"height",value:64},{kind:"Literal",name:"media_type",value:"image/png"},i,{kind:"Literal",name:"width",value:64}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[s],storageKey:null}],type:"XFBWorkCustomEmoji",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCometFeedThumbnail_video"},u,l,{alias:null,args:null,kind:"ScalarField",name:"is_animated_gif",storageKey:null}],type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometTitleSentenceGroupJoinButtonRenderer_entity"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deep_link_number",storageKey:null}],type:"PageWhatsAppNumber",abstractKey:null},{kind:"InlineFragment",selections:[c,{alias:null,args:null,kind:"ScalarField",name:"ticker_symbol",storageKey:null}],type:"KGTickerNode",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snapshot_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"truncateComposedTextWithUnidash_entity"}],type:"XFBProdQuartzVizirSnapshot",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},e,t],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextWithEntities",abstractKey:null}})();a.exports=e}),null);
__d("cometNormalizeTextEntityRanges",[],(function(t,n,r,o,a,i){"use strict";var e=["length","offset"];function l(t,n){return t==null?[]:t.map(function(t){var r=t.length,o=t.offset,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return{entity:babelHelpers.extends({},a,{__typename:n}),length:r,offset:o}})}i.default=l}),66);
__d("CometTextWithEntitiesRelay.react",["CometRelay","CometTextWithEntities.react","CometTextWithEntitiesRelay_entity.graphql","CometTextWithEntitiesRelay_textWithEntities.graphql","FBLogger","cometNormalizeTextEntityRanges","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["textWithEntities"],s,u,c,d=c||(c=o("react")),m=s!==void 0?s:s=n("CometTextWithEntitiesRelay_entity.graphql");function p(t){var a=o("react-compiler-runtime").c(14),i,l;a[0]!==t?(l=t.textWithEntities,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l):(i=a[1],l=a[2]);var s=o("CometRelay").useFragment(u!==void 0?u:u=n("CometTextWithEntitiesRelay_textWithEntities.graphql"),l);if(s==null)return r("FBLogger")("comet_ui").mustfix("received null text with entities, this it to be expected by design, it's very possible mutators/updaters eliminate this field, but this shouldn't be the norm, please investigate if you're seeing \"high\" error rates"),null;var c=s.aggregated_ranges,m=s.color_ranges,p=s.delight_ranges,_=s.image_ranges,f=s.inline_style_ranges,g=s.ranges,h=s.text;if(h==null)return null;var y;if(a[3]!==c||a[4]!==m||a[5]!==p||a[6]!==_||a[7]!==f||a[8]!==g){var C;y=[].concat(g,(C=r("cometNormalizeTextEntityRanges"))(c,"Aggregate"),C(f,"Inline"),C(_,"Image"),C(m,"Color"),C(p,"TextDelightCampaign")),a[3]=c,a[4]=m,a[5]=p,a[6]=_,a[7]=f,a[8]=g,a[9]=y}else y=a[9];var b=y,v;return a[10]!==b||a[11]!==h||a[12]!==i?(v=d.jsx(r("CometTextWithEntities.react"),babelHelpers.extends({},i,{ranges:b,text:h})),a[10]=b,a[11]=h,a[12]=i,a[13]=v):v=a[13],v}l.default=p}),98);
__d("ProfileCometContextualProfileGating",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e;return(e=r("gkx")("23874"))!=null?e:!1}function s(){var e;return(e=r("gkx")("18694"))!=null?e:!1}function u(){var e;return s()&&((e=r("gkx")("10005"))!=null?e:!1)}l.canViewCometContextualProfile=e,l.canViewNicknameContextualProfile=s,l.canViewNicknameCommunityAttributionContextualProfile=u}),98);
__d("XCometContextualProfileControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/groups/{group_idorvanity}/user/{member_id}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XCometVideoHomeHashtagControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/watch/hashtag/{?hashtag}/",Object.freeze({}),void 0),s=e;l.default=s}),98);/*FB_PKG_DELIM*/
__d("FocusTableUtils",["FocusManager","filterNulls","focusKeyboardEventPropagation","focusScopeQueries","setElementCanTab"],(function(t,n,r,o,a,i,l){function e(e){return e.length===1}function s(e){return e instanceof HTMLElement||e instanceof SVGElement}function u(e,t){for(var n,o,a,i=t instanceof HTMLElement&&t.id!==""?t.id:null,l=new Set(t instanceof HTMLElement?r("filterNulls")([].concat(((n=t.getAttribute("aria-labelledby"))!=null?n:"").split(" "),((o=t.getAttribute("aria-describedby"))!=null?o:"").split(" "),((a=t.getAttribute("aria-owns"))!=null?a:"").split(" "),[t.getAttribute("aria-errormessage")])).filter(function(e){return e!==""}):[]),u=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(n){return n===t||n.nodeType===Node.TEXT_NODE&&n.textContent.trim()===""||s(n)&&l.has(n.id)||s(n)&&n.getAttribute("aria-hidden")==="true"||n instanceof HTMLLabelElement&&(n.htmlFor===i||n.contains(t))?NodeFilter.FILTER_REJECT:n.hasChildNodes()?NodeFilter.FILTER_SKIP:s(n)&&n.getAttribute("aria-label")==null&&n.getAttribute("aria-labelledby")==null&&n.getAttribute("aria-describedby")==null&&n.getAttribute("alt")==null&&n.getAttribute("title")==null?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),c=u.currentNode;c===e;)c=u.nextNode();return c!=null}var c=new Set(["button","checkbox","radio","reset","submit"]),d=new Set(["checkbox","link","switch","radio","button"]),m=new Set(["a","button"]);function p(e){var t=e.getAttribute("role"),n=e.tagName.toLowerCase(),r=e instanceof HTMLInputElement?e.type:null;return!!(e instanceof HTMLInputElement&&c.has(r)||d.has(t)||m.has(n))}function _(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return t instanceof HTMLElement&&p(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),r=n.nextNode();r;)t.push(r),r=n.nextNode();return t}function f(e,t){if(!t)return null;var n=e.DO_NOT_USE_queryFirstNode(o("focusScopeQueries").tableCellScopeQuery);if(n==null)return null;var r=_(n),a=r!=null?r:[],i=a[0],l=babelHelpers.arrayLikeToArray(a).slice(1);if(i!=null&&l.length===0&&!u(n,i))return i}function g(e,t,n){if(t){var r=t.scopeRef.current;if(r!==null){var a,i,l=f(r,(a=t.allowWithinCellNavigation)!=null?a:!1),s=(i=l!=null?l:r.DO_NOT_USE_queryFirstNode(e))!=null?i:t.focusStaticCells===!0?r.DO_NOT_USE_queryFirstNode(o("focusScopeQueries").tableCellScopeQuery):null;s!==null&&(document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!1,t.focusStaticCells),o("setElementCanTab").setElementCanTab(s,!0,t.focusStaticCells),o("FocusManager").focusElement(s),n!=null&&(n.preventDefault(),o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n)))}}}function h(e,t,n){if(t!=null){var r=t.DO_NOT_USE_queryFirstNode(e);r!==null&&(o("setElementCanTab").setElementCanTab(r,!0),o("FocusManager").focusElement(r),n.preventDefault(),o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n))}}function y(e,t,n,r,o){var a=r[n],i=S(a,o),l=0,s,u,c;do{if(s=t-l,s>=0&&(c=b(a,s,o,e),c)||(u=t+l,u<=i&&(c=b(a,u,o,e),c)))return c;l++}while(s>=0&&u<=i);return null}function C(e,t,n,r,o,a,i,l){var s=t.onNavigate;if(s){var u=!1,c=I(o,r,l),d=c[1],m=D(t,r,i),p=m[0],_=m[1];if(p===null)return!1;var f={currentCellIndex:d,currentRowIndex:_,event:n,focusCell:function(t,r){g(r||a,t,n)},getCell:function(t,n){var e=p[t];return e!=null?b(e,n,l):null},getCellByTag:function(t){var e=y(t,d,_,p,l);if(e)return e;for(var n=p.length,r=_+1;;){if(r===_)return null;if(r>n-1){r=0;continue}if(e=y(t,d,r,p,l),e)return e;r++}return null},preventDefault:function(){u=!0},type:e};if(s(f),u)return!0}return!1}function b(e,t,n,r){for(var o=e.getChildContextValues(n).filter(function(e){return e!=null&&(r===void 0||e.tag===r)}),a=0,i=0;i<o.length;i++){var l=o[i];if(l){var s;if(a+=(s=l.colSpan)!=null?s:1,a>t)return l}}return null}function v(e,t,n,r,o){var a=b(t,n,r);if(a!==null){g(e,a,o);return}var i=t.getChildContextValues(r).filter(Boolean);i.length>0&&g(e,i[i.length-1],o)}function S(e,t){for(var n,r=(n=e.getChildContextValues(t).filter(Boolean))!=null?n:[],o=0,a=0;a<r.length;a++){var i,l=r[a],s=l&&((i=l.colSpan)!=null?i:1);o+=s}return o}function R(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r],a=b(o,e,n);if(a!==null)return r+1}return 0}function L(e,t,n){for(var r=0;r<e.length;r++){var o=e[r],a=b(o,t,n);if(a!==null)return r}return-1}function E(e,t){for(var n=0,r=0;r<e.length;r++){var o=e[r];if(o!==null){if(o.scopeRef.current===t)return[r,r+n];var a=o.colSpan;typeof a=="number"&&(n+=a-1)}}return[-1,-1]}function k(e,t){return e.getChildContextValues(t).filter(Boolean)}function I(e,t,n){var r=k(t,n);if(r.length>0){var o=E(r,e),a=o[0],i=o[1];return[r,a,i]}return[null,-1,-1]}function T(e,t,n){if(e){var r=e.scopeRef.current;if(r!==null){for(var o=r.getChildContextValues(t),a=[],i=0;i<o.length;i++){var l=o[i];if(l){var s,u,c=(s=l.scopeRef)==null?void 0:s.current,d=(u=n==null?void 0:n(l))!=null?u:!0;c&&d&&a.push(c)}}return a}}return null}function D(e,t,n,r){var o=T(e,n,r);if(t&&o&&o.length>0){var a=o.indexOf(t);return[o,a]}return[null,-1]}function x(e){var t=e.altKey,n=e.ctrlKey,r=e.metaKey,o=e.shiftKey;return t===!0||n===!0||r===!0||o===!0}l.isPrintableCharacter=e,l.hasUnassociatedLeafNodes=u,l.isArrowKeyLessOperationElement=p,l.getCellSingleInteractiveContentNode=f,l.focusCell=g,l.focusRow=h,l.checkRowForMatch=y,l.handleOnNavigateBehavior=C,l.getCellByColumnIndex=b,l.focusCellByColumnIndex=v,l.getTotalSpan=S,l.getLastRowNumInColumn=R,l.getFirstRowIndexInColumn=L,l.getCellIndexes=E,l.getRowCells=k,l.getRowCellsWithIndexes=I,l.getRows=T,l.getRowsWithIndex=D,l.hasModifierKey=x}),98);
__d("FocusTable.react",["FocusManager","FocusTableUtils","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useRef,p=5;function _(e){var t=s.unstable_Scope,n=s.createContext(null),r=s.createContext(null),a=s.createContext(null);function l(r){var a=r.children,i=r.wrapX,l=r.wrapY,u=r.wrapXToNextLine,c=r.wrapYToNextColumn,f=c===void 0?!1:c,g=r.tabScopeQuery,h=r.allowModifiers,y=r.pageJumpSize,C=y===void 0?p:y,b=r.onNavigate,v=r.disabled,S=r.withinCellTabScopeQuery,R=r.focusStaticCells,L=R===void 0?!1:R,E=m(null),k=d(function(){return{scopeRef:E,wrapXToNextLine:u,wrapYToNextColumn:f,wrapX:i,wrapY:l,tabScopeQuery:g,allowModifiers:h,pageJumpSize:C,onNavigate:b,disabled:v,withinCellTabScopeQuery:S,focusStaticCells:L}},[u,f,i,l,g,h,C,b,v,S,L]),I=m(!1),T=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(E,d(function(){return{onFocusWithin:function(n){I.current||(I.current=!0,E.current&&e&&(_(E.current,e,!1),o("setElementCanTab").setElementCanTab(n.target,!0,L)))}}},[I,L]));return s.jsx(n.Provider,{value:k,children:s.jsx(t,{ref:T,children:a})})}l.displayName=l.name+" [from "+i.id+"]";function u(e){var n=e.children,o=m(null),a=d(function(){return{scopeRef:o}},[]);return s.jsx(r.Provider,{value:a,children:s.jsx(t,{ref:o,children:n})})}u.displayName=u.name+" [from "+i.id+"]";function _(e,t,n){var r=e.DO_NOT_USE_queryAllNodes(t);if(r!=null)for(var a=0;a<r.length;a++){var i=r[a];o("setElementCanTab").setElementCanTab(i,n)}}function g(i){var l,u=i.children,p=i.colSpan,g=i.tag,h=c(n),y=(l=c(r))==null?void 0:l.scopeRef,C=m(null),b=m(!1),v=(h==null?void 0:h.withinCellTabScopeQuery)!=null,S=h==null?void 0:h.focusStaticCells;o("ReactKeyboardEvent.react").useKeyboard(C,d(function(){return{onKeyDown:function(n){if(!(h&&h.disabled===!0)&&!o("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(n)){var t=C.current;if(!(t===null||h===null)&&y!=null){var i=y.current;if(i!==null){var l=n.key,s=v&&o("FocusTableUtils").getCellSingleInteractiveContentNode(t,v)==null,u=b.current;if(l==="Tab"&&h){var c=h.tabScopeQuery,d=h.scopeRef.current;if(c&&d){if(o("FocusTableUtils").handleOnNavigateBehavior("TAB",h,n,i,t,c,r,a))return;var m=h.withinCellTabScopeQuery;u&&m!=null?n.shiftKey?o("FocusManager").focusPreviousContained(m,t,n,!0):o("FocusManager").focusNextContained(m,t,n,!0):(_(d,c,!1),document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!0,S))}return}var p=n.ctrlKey||n.metaKey,g=l;switch(o("Locale").isRTL()&&(l==="ArrowRight"?g="ArrowLeft":l==="ArrowLeft"&&(g="ArrowRight")),g){case"Home":{if(o("FocusTableUtils").handleOnNavigateBehavior("HOME",h,n,i,t,e,r,a)||u)return;var R=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),L=R[0],E=R[1],k=o("FocusTableUtils").getRowsWithIndex(h,i,r),I=k[0],T=k[1];if(L!==null&&I!==null){if(p){if(T!==0||E!==0){var D=I[0];o("FocusTableUtils").focusCellByColumnIndex(e,D,0,a,n)}}else if(E!==0){var x=I[T];o("FocusTableUtils").focusCellByColumnIndex(e,x,0,a,n)}}return}case"End":{if(o("FocusTableUtils").handleOnNavigateBehavior("END",h,n,i,t,e,r,a)||u)return;var $=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),P=$[0],N=$[1],M=o("FocusTableUtils").getRowsWithIndex(h,i,r),w=M[0],A=M[1];if(P!==null&&w!==null)if(p){if(A!==w.length-1||N!==P.length-1){var F=w[w.length-1],O=F.getChildContextValues(a).filter(Boolean);O.length>0&&o("FocusTableUtils").focusCell(e,O[O.length-1],n)}}else N!==P[P.length-1]&&o("FocusTableUtils").focusCell(e,P[P.length-1],n);return}case"ArrowUp":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("PREV_ROW",h,n,i,t,e,r,a)||u)return;var B=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),W=B[0],q=B[1],U=B[2];if(W!==null&&h){var V=o("FocusTableUtils").getRowsWithIndex(h,i,r),H=V[0],G=V[1];if(H!==null)if(G===0){var z=h.wrapY,j=h.wrapYToNextColumn;if(z===!0&&!p){var K=H[H.length-1];o("FocusTableUtils").focusCellByColumnIndex(e,K,U,a,n)}else if(j===!0&&!p&&q>0){var Q=U-1,X=o("FocusTableUtils").getLastRowNumInColumn(Q,H,a),Y=H[X-1];o("FocusTableUtils").focusCellByColumnIndex(e,Y,Q,a,n)}}else if(p){var J=H[0];o("FocusTableUtils").focusCellByColumnIndex(e,J,U,a,n)}else{var Z=H[G-1];o("FocusTableUtils").focusCellByColumnIndex(e,Z,U,a,n)}}return}case"PageUp":{if(o("FocusTableUtils").handleOnNavigateBehavior("PAGE_UP",h,n,i,t,e,r,a)||u)return;var ee=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),te=ee[0],ne=ee[2],re=o("FocusTableUtils").getRowsWithIndex(h,i,r),oe=re[0],ae=re[1];if(te!==null&&oe!==null&&h&&ae!==0){var ie=h.pageJumpSize,le=oe[Math.max(0,ae-ie)];o("FocusTableUtils").focusCellByColumnIndex(e,le,ne,a,n)}return}case"ArrowDown":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("NEXT_ROW",h,n,i,t,e,r,a)||u)return;var se=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),ue=se[0],ce=se[2],de=o("FocusTableUtils").getRowsWithIndex(h,i,r),me=de[0],pe=de[1];if(ue!==null&&me!==null&&h&&pe!==-1)if(pe===me.length-1){var _e=h.wrapY,fe=h.wrapYToNextColumn;if(_e===!0&&!p){var ge=me[0];o("FocusTableUtils").focusCellByColumnIndex(e,ge,ce,a,n)}else if(fe===!0&&!p){var he=ce+1,ye=o("FocusTableUtils").getFirstRowIndexInColumn(me,he,a);if(ye!==-1){var Ce=me[ye];o("FocusTableUtils").focusCellByColumnIndex(e,Ce,he,a,n)}}}else if(p){var be=me[me.length-1];o("FocusTableUtils").focusCellByColumnIndex(e,be,ce,a,n)}else{var ve=me[pe+1];o("FocusTableUtils").focusCellByColumnIndex(e,ve,ce,a,n)}return}case"PageDown":{if(o("FocusTableUtils").handleOnNavigateBehavior("PAGE_DOWN",h,n,i,t,e,r,a)||u)return;var Se=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),Re=Se[0],Le=Se[2],Ee=o("FocusTableUtils").getRowsWithIndex(h,i,r),ke=Ee[0],Ie=Ee[1];if(Re!==null&&ke!==null&&h&&Ie!==ke.length-1){var Te=h.pageJumpSize,De=ke[Math.min(ke.length-1,Ie+Te)];o("FocusTableUtils").focusCellByColumnIndex(e,De,Le,a,n)}return}case"ArrowLeft":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("PREV_CELL",h,n,i,t,e,r,a)||u)return;var xe=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),$e=xe[0],Pe=xe[1],Ne=o("FocusTableUtils").getRowsWithIndex(h,i,r),Me=Ne[0],we=Ne[1];if($e!==null&&Me!==null&&h){if(Pe>0)o("FocusTableUtils").focusCell(e,$e[Pe-1],n);else if(Pe===0){var Ae=h.wrapX,Fe=h.wrapXToNextLine;Ae===!0?o("FocusTableUtils").focusCell(e,$e[$e.length-1],n):Fe===!0&&Me[we-1]&&o("FocusTableUtils").focusCellByColumnIndex(e,Me[we-1],o("FocusTableUtils").getTotalSpan(Me[we-1],a),a,n)}}return}case"ArrowRight":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("NEXT_CELL",h,n,i,t,e,r,a)||u)return;var Oe=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),Be=Oe[0],We=Oe[1],qe=o("FocusTableUtils").getRowsWithIndex(h,i,r),Ue=qe[0],Ve=qe[1];if(Be!==null&&Ue!==null&&h&&We!==-1)if(We===Be.length-1){var He=h.wrapX,Ge=h.wrapXToNextLine;He===!0?o("FocusTableUtils").focusCell(e,Be[0],n):Ge===!0&&Ue[Ve+1]&&o("FocusTableUtils").focusCellByColumnIndex(e,Ue[Ve+1],0,a,n)}else o("FocusTableUtils").focusCell(e,Be[We+1],n);return}case"Enter":{if(!s||u||o("FocusTableUtils").handleOnNavigateBehavior("ENTER",h,n,i,t,e,r,a))return;var ze=h==null?void 0:h.withinCellTabScopeQuery;if(ze){var je=t.DO_NOT_USE_queryFirstNode(ze);je!=null&&(b.current=!0,_(t,ze,!0),o("FocusManager").focusElement(je))}return}case"Escape":{if(!s||!u||o("FocusTableUtils").handleOnNavigateBehavior("ESC",h,n,i,t,e,r,a))return;var Ke=h==null?void 0:h.tabScopeQuery;if(Ke){b.current=!1;var Qe=t.DO_NOT_USE_queryAllNodes(Ke);if(Qe!==null)for(var Xe=0;Xe<Qe.length;Xe++){var Ye=Qe[Xe];o("setElementCanTab").setElementCanTab(Ye,!1,S)}o("FocusTableUtils").focusCell(Ke,{scopeRef:C},n)}return}default:o("FocusTableUtils").isPrintableCharacter(l)&&o("FocusTableUtils").handleOnNavigateBehavior("PRINT_CHAR",h,n,i,t,e,r,a)}}}}}}},[y,h,v]));var R=d(function(){return{scopeRef:C,colSpan:p,tag:g,allowWithinCellNavigation:v,focusStaticCells:S}},[p,v,g,S]),L=h==null?void 0:h.tabScopeQuery,E=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(C,d(function(){return{onFocusWithin:function(n){if(e!=null){var t,r=(t=C.current)==null?void 0:t.DO_NOT_USE_queryFirstNode(e),a=n.target===r;if(a&&r&&!o("setElementCanTab").canElementTab(r)){var i=h==null?void 0:h.scopeRef.current;i&&_(i,e,!1),o("setElementCanTab").setElementCanTab(r,!0,S)}}if(L!=null){var l,s=(l=C.current)==null?void 0:l.DO_NOT_USE_queryFirstNode(L),u=n.target===s,c=R.allowWithinCellNavigation===!0;u&&c&&o("FocusTableUtils").focusCell(L,R),s!=null&&!u&&c&&n.target instanceof HTMLElement&&!o("FocusTableUtils").isArrowKeyLessOperationElement(n.target)&&(b.current=!0)}},onBlurWithin:function(){b.current=!1}}},[L,R,h==null?void 0:h.scopeRef]));return s.jsx(a.Provider,{value:R,children:s.jsx(t,{ref:E,children:u})})}return g.displayName=g.name+" [from "+i.id+"]",[l,u,g]}function f(e,t){if(o("FocusTableUtils").hasModifierKey(e)&&t){var n=t.allowModifiers;if(n!==!0)return!0}}l.createFocusTable=_}),98);
__d("BaseGridFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(t,n,r,o,a,i,l){"use strict";var e=o("FocusTable.react").createFocusTable(o("focusScopeQueries").focusableScopeQuery),s=e[0],u=e[1],c=e[2];l.BaseGridFocusTable=s,l.BaseGridFocusRow=u,l.BaseGridFocusCell=c}),98);
__d("BaseGrid.react",["BaseGridFocusTable.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e["aria-describedby"],r=e["aria-multiselectable"],a=e.children,i=e.wrapNavigation,l=e.xstyle,u=e["aria-label"],d=e["aria-labelledby"],m=i===void 0?"none":i,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=["row","both"],t[0]=p):p=t[0];var _=p.includes(m),f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=["column","both"],t[1]=f):f=t[1];var g=f.includes(m),h;t[2]!==n||t[3]!==u||t[4]!==d||t[5]!==r||t[6]!==a||t[7]!==l?(h=s.jsx(o("react-strict-dom").html.div,{"aria-describedby":n,"aria-label":u,"aria-labelledby":d,"aria-multiselectable":r,role:"grid",style:l,children:a}),t[2]=n,t[3]=u,t[4]=d,t[5]=r,t[6]=a,t[7]=l,t[8]=h):h=t[8];var y;return t[9]!==_||t[10]!==g||t[11]!==h?(y=s.jsx(o("BaseGridFocusTable.react").BaseGridFocusTable,{tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,withinCellTabScopeQuery:c,wrapXToNextLine:_,wrapYToNextColumn:g,children:h}),t[9]=_,t[10]=g,t[11]=h,t[12]=y):y=t[12],y}var c=function(t,n){return n.role==="gridcell"||n.role==="row"?!1:o("focusScopeQueries").tabbableScopeQuery(t,n)};l.default=u}),98);
__d("BaseGridCell.react",["BaseGridFocusTable.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-selected","children","data-type","ref","testid","xstyle"],s,u,c=u||(u=o("react")),d={focusRing:{boxShadow:"x59fq91",outline:"x1a2a7pz x1uvtmcs x1i4ix8p",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(18),a,i,l,u,m,p,_;n[0]!==t?(i=t["aria-selected"],l=t.children,u=t["data-type"],m=t.ref,p=t.testid,_=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=m,n[6]=p,n[7]=_):(a=n[1],i=n[2],l=n[3],u=n[4],m=n[5],p=n[6],_=n[7]);var f;n[8]!==_?(f=(s||(s=r("stylex"))).props(_,d.focusRing),n[8]=_,n[9]=f):f=n[9];var g;return n[10]!==a||n[11]!==i||n[12]!==l||n[13]!==u||n[14]!==m||n[15]!==f||n[16]!==p?(g=c.jsx(o("BaseGridFocusTable.react").BaseGridFocusCell,{children:c.jsx("div",babelHelpers.extends({},a,{"aria-selected":i,"data-testid":void 0,"data-type":u,ref:m,role:"gridcell"},f,{tabIndex:0,children:l}))}),n[10]=a,n[11]=i,n[12]=l,n[13]=u,n[14]=m,n[15]=f,n[16]=p,n[17]=g):g=n[17],g}l.default=m}),98);
__d("BaseGridRow.react",["BaseGridFocusTable.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.xstyle,a;return t[0]!==n||t[1]!==r?(a=s.jsx(o("BaseGridFocusTable.react").BaseGridFocusRow,{children:s.jsx(o("react-strict-dom").html.div,{role:"row",style:r,children:n})}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.default=u}),98);
__d("BaseGridRowScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["addonEnd","addonStart","children","ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(12),a,i,l,s,c;n[0]!==t?(a=t.addonEnd,i=t.addonStart,l=t.children,s=t.ref,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d;return n[6]!==a||n[7]!==i||n[8]!==l||n[9]!==s||n[10]!==c?(d=u.jsxs(r("BaseScrollableArea.react"),babelHelpers.extends({},c,{ref:s,children:[i,l,a]})),n[6]=a,n[7]=i,n[8]=l,n[9]=s,n[10]=c,n[11]=d):d=n[11],d}l.default=c}),98);
__d("BaseHScrollContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({role:void 0,spacing:void 0});l.default=u}),98);
__d("BaseHScrollChild",["BaseGridCell.react","BaseHScrollContext","FocusInertRegion.react","Locale","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-hidden","children","expanding","role","testid","type","xstyle"],s,u,c=u||(u=o("react")),d=u.useContext,m={flexBasis:"x1mz2wy7",$$css:!0},p={":last-of-type_marginInlineEnd":"x10xlvfm",$$css:!0},_={card:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",minWidth:"xeuugli",scrollSnapAlign:"x1bhewko",$$css:!0},cardExpanding:{display:"x78zum5",$$css:!0},cardRTL:{scrollSnapAlign:"x83psoy",$$css:!0},flexBasis:function(t){return[{flexBasis:t!=null?"x1mz2wy7":t,$$css:!0},{"--x-flexBasis":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},flexBasisDoubleWidth:function(t,n){return[m,{"--x-flexBasis":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})("calc(("+t+") * 2 + "+n+"px)")}]},gap:function(t){return[p,{marginInlineEnd:t!=null?"x1c9tiao":t,$$css:!0},{"--x-marginInlineEnd":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}},f=o("Locale").isRTL();function g(t){var n=o("react-compiler-runtime").c(21),a,i,l,u,m,p,g,h;n[0]!==t?(u=t["aria-hidden"],i=t.children,m=t.expanding,l=t.role,g=t.testid,p=t.type,h=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=m,n[6]=p,n[7]=g,n[8]=h):(a=n[1],i=n[2],l=n[3],u=n[4],m=n[5],p=n[6],g=n[7],h=n[8]);var y=u===void 0?!1:u,C=m===void 0?!1:m,b=p===void 0?"default":p,v=d(r("BaseHScrollContext")),S=v.role,R=v.spacing;if(R==null)return null;var L=R.gap,E=R.width,k;if(n[9]!==a||n[10]!==i||n[11]!==C||n[12]!==L||n[13]!==y||n[14]!==S||n[15]!==l||n[16]!==g||n[17]!==b||n[18]!==E||n[19]!==h){var I;e:switch(b){case"custom":{I=void 0;break e}case"doubleWidth":{I=_.flexBasisDoubleWidth(E,L);break e}default:I=_.flexBasis(E)}var T=[_.card,f&&_.cardRTL,_.gap(L),C&&_.cardExpanding,h,I];k=S==="grid"?c.jsx(r("BaseGridCell.react"),babelHelpers.extends({},a,{"data-type":"hscroll-child",testid:void 0,xstyle:T,children:i})):c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(T),{"data-testid":void 0,"data-type":"hscroll-child",role:S==="list"?"listitem":l,children:c.jsx(r("FocusInertRegion.react"),{disabled:!y,children:i})})),n[9]=a,n[10]=i,n[11]=C,n[12]=L,n[13]=y,n[14]=S,n[15]=l,n[16]=g,n[17]=b,n[18]=E,n[19]=h,n[20]=k}else k=n[20];return k}l.default=g}),98);
__d("BaseHScrollConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1600,l=10;i.MAX_CONTAINER_WIDTH=e,i.WIGGLE_ROOM=l}),66);
__d("BaseHScrollPeek.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.maxContentWindowWidth,r=e.padding,a=e.width,i;return t[0]!==n||t[1]!==r||t[2]!==a?(i=n!=null&&r==null?s.jsx("span",{style:{flexShrink:0,minWidth:a,width:"calc((100% - "+n+"px) / 2)"}}):s.jsx("span",{style:{minWidth:r!=null?r:a}}),t[0]=n,t[1]=r,t[2]=a,t[3]=i):i=t[3],i}l.default=u}),98);
__d("BaseHScrollScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["addonEnd","addonStart"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a,i,l;n[0]!==t?(a=t.addonEnd,i=t.addonStart,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s;return n[4]!==a||n[5]!==i||n[6]!==l?(s=u.jsxs(r("BaseScrollableArea.react"),babelHelpers.extends({},l,{children:[i,l.children,a]})),n[4]=a,n[5]=i,n[6]=l,n[7]=s):s=n[7],s}l.default=c}),98);
__d("compactMap",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){for(var n=e.length,r=[],o=0,a=0;a<n;++a){var i=t(e[a],a);i!=null&&(r[o++]=i)}return r}i.default=e}),66);
__d("getBaseHScrollAccessibilityAlert",["fbt","compactMap","intlList"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t,n,o,a){var i=r("compactMap")(n,function(n,r){var i=n.getBoundingClientRect(),l=Math.round(i.left+i.width-e+a-o)<=0,s=Math.round(i.left-e-t.clientWidth-a-o)>=0;return!l&&!s?(r+1).toString():null});return s._(/*BTDS*/"Item {number} of {total}",[s._param("number",r("intlList")(i)),s._param("total",n.length)])}l.default=e}),226);
__d("setBaseHscrollChildrenAriaHidden",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=Array.from(e.children[0].children).filter(function(e){return e.tagName==="DIV"}),n=e.getBoundingClientRect();t.forEach(function(e){var t=e.getBoundingClientRect();if(n!=null){var r=t.right<n.left,o=t.left>n.right;(o||r)&&e.getAttribute("aria-hidden")!=="true"&&e.setAttribute("aria-hidden","true"),!o&&!r&&e.getAttribute("aria-hidden")==="true"&&e.removeAttribute("aria-hidden")}})}i.default=e}),66);
__d("smoothScrollTo",["ExecutionEnvironment","UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("UserAgent").isBrowser("Firefox"),u=(e||(e=r("ExecutionEnvironment"))).canUseDOM&&window.matchMedia("(prefers-reduced-motion: reduce)"),c=u&&u.matches,d=(e||(e=r("ExecutionEnvironment"))).canUseDOM&&document.documentElement!=null&&"scrollBehavior"in document.documentElement.style,m=new WeakMap;function p(e,t,n){var r=t.left,o=r===void 0?0:r,a=t.top,i=a===void 0?0:a;s&&!m.get(e)&&o!==0&&(e.scrollLeft+=o/Math.abs(o),m.set(e,!0)),d?(e.scrollTo({behavior:c?"auto":"smooth",left:o,top:i}),n!=null&&"onscrollend"in window&&e.addEventListener("scrollend",n,{once:!0})):(e.scrollTo(o,i),n==null||n())}l.default=p}),98);
__d("useContainerBreakpoints",["$InternalEnum","gkx","react","react-compiler-runtime","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState,d=n("$InternalEnum")({BiggerContainerSmallerChild:0,BiggerContainerBiggerChild:1});function m(e,t){var n=e[0],r=n.maxContainerWidth,o=n.width,a=babelHelpers.arrayLikeToArray(e).slice(1);if(r===1/0||a.length===0)return o;switch(t){case d.BiggerContainerSmallerChild:{var i="calc(("+r+"px - 100%) * 9999)",l=m(a,t);return typeof l=="number"&&(l="min("+l+"px, (100% - "+(r+.1)+"px) * 9999)"),"max("+l+", min("+o+", "+i+"))"}case d.BiggerContainerBiggerChild:{var s="calc((100% - "+r+"px) * 9999)",u=m(a,t);return"min("+u+", max("+o+", "+s+"))"}}}function p(e,t){var n=o("react-compiler-runtime").c(5),a=c(null),i=a[0],l=a[1],s;n[0]!==e?(s=function(n){var t=n.width,r;for(var o of e)if(!(t>o.maxContainerWidth)){r=o.width;break}l(r)},n[0]=e,n[1]=s):s=n[1];var u=s,d=r("useResizeObserver")(u),m;return n[2]!==i||n[3]!==d?(m=[d,i],n[2]=i,n[3]=d,n[4]=m):m=n[4],m}function _(e,t){var n=o("react-compiler-runtime").c(5),r;n[0]!==e||n[1]!==t?(r=m(e,t),n[0]=e,n[1]=t,n[2]=r):r=n[2];var a=r,i;return n[3]!==a?(i=[void 0,a],n[3]=a,n[4]=i):i=n[4],i}var f=r("gkx")("24318")?_:p;l.BreakpointRelationship=d,l.useContainerBreakpoints=f}),98);
__d("BaseHScroll.react",["BaseGrid.react","BaseGridRow.react","BaseGridRowScrollableArea.react","BaseHScrollChild","BaseHScrollConstants","BaseHScrollContext","BaseHScrollPeek.react","BaseHScrollScrollableArea.react","BaseView.react","HiddenSubtreePassiveContext","Locale","UserAgent","getBaseHScrollAccessibilityAlert","react","setBaseHscrollChildrenAriaHidden","smoothScrollTo","stylex","useBaseHScrollFakeCards","useContainerBreakpoints","useEventHandler","useMergeRefs","useTriggerAccessibilityAlert"],(function(t,n,r,o,a,i,l){"use strict";var e=["accessibilityLabel","buttonWrapperStyle","cardWidth","containerXStyle","disableScrolling","gap","hideArrows","initialScrollSmoothing","initialScrollToIndex","isButtonInward","maxContentWindowWidth","nextButton","onPressNext","onPressPrev","outerContainerXStyle","peek","peekPaddingEnd","peekPaddingStart","peekWidth","prevButton","role","scrollContainerXStyle","scrollRef","scrollViewXStyle","testid"],s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useContext,_=d.useLayoutEffect,f=d.useMemo,g=d.useRef,h=d.useState,y=o("Locale").isRTL(),C=r("UserAgent").isBrowser("Safari < 14")||r("UserAgent").isBrowser("Mobile Safari < 14"),b=r("UserAgent").isBrowser("Chrome"),v=r("UserAgent").isBrowser("IE")||r("UserAgent").isBrowser("Edge"),S=y&&C;function R(t){var n,a=t.accessibilityLabel,i=t.buttonWrapperStyle,l=t.cardWidth,u=t.containerXStyle,d=u===void 0?I.containerPaddingDefault:u,C=t.disableScrolling,b=C===void 0?!1:C,R=t.gap,L=R===void 0?0:R,k=t.hideArrows,T=k===void 0?!1:k,D=t.initialScrollSmoothing,x=D===void 0?!1:D,$=t.initialScrollToIndex,P=t.isButtonInward,N=P===void 0?!1:P,M=t.maxContentWindowWidth,w=t.nextButton,A=t.onPressNext,F=t.onPressPrev,O=t.outerContainerXStyle,B=t.peek,W=B===void 0?!1:B,q=t.peekPaddingEnd,U=t.peekPaddingStart,V=t.peekWidth,H=t.prevButton,G=t.role,z=t.scrollContainerXStyle,j=t.scrollRef,K=t.scrollViewXStyle,Q=t.testid,X=babelHelpers.objectWithoutPropertiesLoose(t,e),Y=M!=null&&W&&q!=null&&U!=null,J=l.type==="responsive"?l.minWidth:l.width,Z=f(function(){var e=[];if(l.type==="fixed")e.push({maxContainerWidth:1/0,width:J+"px"});else if(W&&M!=null){for(var t=V*2,n=2*J+L+t,r=1;n<M+t;){var a=r<=1||L===0?0:(r-1)*L,i=a+t,s=i===0?"100%":"(100% - "+i+"px)";e.push({maxContainerWidth:n,width:"calc("+s+" / "+r+")"}),n+=L+J,r++}var u=r<=1||L===0?0:(r-1)*L,c=u+t,d=c===0?"100%":"(100% - "+c+"px)";e.push({maxContainerWidth:M+t,width:"calc("+d+" / "+r+")"}),e.push({maxContainerWidth:1/0,width:(M-u)/r})}else{for(var m=W?V*2:0,p=2*J+L+m,_=1;p<o("BaseHScrollConstants").MAX_CONTAINER_WIDTH;){var f=_<=1||L===0?0:(_-1)*L,g=f+m,h=g===0?"100%":"(100% - "+g+"px)";e.push({maxContainerWidth:p,width:"calc("+h+" / "+_+")"}),p+=L+J,_++}var y=_<=1||L===0?0:(_-1)*L,C=y+m,b=C===0?"100%":"(100% - "+C+"px)";e.push({maxContainerWidth:1/0,width:"calc("+b+" / "+_+")"})}return e},[l.type,W,M,J,V,L]),ee=r("useTriggerAccessibilityAlert")(),te=o("useContainerBreakpoints").useContainerBreakpoints(Z,o("useContainerBreakpoints").BreakpointRelationship.BiggerContainerSmallerChild),ne=te[0],re=te[1],oe=f(function(){return W&&M!=null?[{maxContainerWidth:M+V*2,width:V},{maxContainerWidth:1/0,width:"calc((100% - "+M+"px) / 2)"}]:W?[{maxContainerWidth:1/0,width:V}]:[{maxContainerWidth:1/0,width:0}]},[M,W,V]),ae=o("useContainerBreakpoints").useContainerBreakpoints(oe,o("useContainerBreakpoints").BreakpointRelationship.BiggerContainerBiggerChild),ie=ae[0],le=ae[1],se=M!=null&&typeof le=="string"&&le.includes("min(")?"max("+V+"px, (100% - "+M+"px) / 2)":le,ue=g(null),ce=c.Children.count(X.children),de=h(X.isCircular?!1:!y),me=de[0],pe=de[1],_e=h(X.isCircular?!1:y),fe=_e[0],ge=_e[1],he=g(!1);_(function(){var e,t=(e=ue.current)==null?void 0:e.getDOMNode();if(t!=null&&y){var n=t.clientWidth,r=t.scrollLeft,o=t.scrollWidth;r>50&&r>o-n-50&&(he.current=!0)}},[]);var ye=r("useEventHandler")(function(){var e,t=(e=ue.current)==null?void 0:e.getDOMNode();if(t!=null){var n=t.getBoundingClientRect(),r=n.width,o=t.scrollLeft,a=t.scrollWidth;if(!X.isCircular)y&&!v?he.current?(pe(o>a-r-L),ge(o<=L)):(pe(o>=-L),ge(o<-a+r+L)):(pe(o<=L),ge(o>a-r-L));else{var i=Te.current(t),l=i.childCards;if(l==null||l[0]==null)return;Re({isRTL:y,isRTLScrollFromMaxScroll:he,scrollRef:ue})}}}),Ce=r("useBaseHScrollFakeCards")({children:X.isCircular?X.children:[],fakeCardXStyle:X.isCircular?X.fakeCardXStyle:null,gap:L,isCircular:(n=X.isCircular)!=null?n:!1,minWidth:J,onResize:function(){var e;ye();var t=(e=ue.current)==null?void 0:e.getDOMNode();t!=null&&r("setBaseHscrollChildrenAriaHidden")(t)},peek:W,peekWidth:V}),be=Ce[0],ve=Ce[1],Se=Ce[2],Re=Ce[3],Le=r("useMergeRefs")(ne,ie,Se),Ee=p(r("HiddenSubtreePassiveContext"));_(function(){var e=Ee.subscribeToChanges(function(e){e.hidden||ye()});return function(){return e.remove()}},[Ee,ye]),_(function(){ye()},[ce,ye]);var ke=g(L);_(function(){ke.current=L},[L]);var Ie=m(function(e){var t=e.getBoundingClientRect(),n=M!=null?Math.min(t.width-(W?2*V:0),M):W?t.width-2*V:t.width,r=(t.width-n)/2,o=t.left+r,a=t.right-r,i=Array.from(e.querySelectorAll('[data-type="hscroll-child"]'));return{childCards:i,containerLeft:o,containerRight:a,containerWidth:n}},[M,W,V]),Te=g(Ie);_(function(){Te.current=Ie},[Ie]);var De=(be!=null?be:[]).length;_(function(){var e,t=(e=ue.current)==null?void 0:e.getDOMNode();if(t!=null){if($==null&&De===0){r("setBaseHscrollChildrenAriaHidden")(t);return}var n=Te.current(t),o=n.childCards,a=0;if($!=null)for(var i=0;i<Math.min($,o.length);i++)a+=o[i].getBoundingClientRect().width+ke.current;if(De!==0)for(var l=$==null?0:$,s=l;s<Math.min(l+De,o.length);s++)a+=o[s].getBoundingClientRect().width+ke.current;var u=function(n){x?r("smoothScrollTo")(t,{left:n},function(){r("setBaseHscrollChildrenAriaHidden")(t)}):(t.scrollTo(n,0),r("setBaseHscrollChildrenAriaHidden")(t))};if(y&&!v)if(he.current){var c=t.scrollWidth-t.getBoundingClientRect().width;u(c-a)}else u(-a);else u(a)}},[$,x,De]);var xe=function(){var e,t=(e=ue.current)==null?void 0:e.getDOMNode();if(t!=null){r("setBaseHscrollChildrenAriaHidden")(t);for(var n=Ie(t),a=n.childCards,i=n.containerLeft,l=n.containerRight,s,u=y?0:a.length-1;y?u<a.length:u>=0;y?u++:u--){var c=a[u].getBoundingClientRect();if(c.left<=i-o("BaseHScrollConstants").WIGGLE_ROOM){s=c;break}}if(s!=null){var d=s.right-l;if(d!==0){var m=y&&v?t.scrollLeft-d:t.scrollLeft+d;r("smoothScrollTo")(t,{left:m},function(){r("setBaseHscrollChildrenAriaHidden")(t)}),F==null||F(),ee(r("getBaseHScrollAccessibilityAlert")(m<0?-t.scrollLeft:d,t,a,i,L))}}}},$e=function(){var e,t=(e=ue.current)==null?void 0:e.getDOMNode();if(t!=null){r("setBaseHscrollChildrenAriaHidden")(t);for(var n=Ie(t),a=n.childCards,i=n.containerLeft,l=n.containerRight,s,u=y?a.length-1:0;y?u>=0:u<a.length;y?u--:u++){var c=a[u].getBoundingClientRect();if(c.right>=l+o("BaseHScrollConstants").WIGGLE_ROOM){s=c;break}}if(s!=null){var d=s.left-i;if(d!==0){var m=y&&v?t.scrollLeft-d:t.scrollLeft+d;r("smoothScrollTo")(t,{left:m},function(){r("setBaseHscrollChildrenAriaHidden")(t)}),A==null||A(),ee(r("getBaseHScrollAccessibilityAlert")(m+t.clientWidth>t.scrollWidth?t.scrollWidth-t.scrollLeft-t.clientWidth:d,t,a,i,L))}}}},Pe=function(){var e,t=(e=ue.current)==null?void 0:e.getDOMNode();t!=null&&r("setBaseHscrollChildrenAriaHidden")(t)},Ne=f(function(){return{role:G,spacing:re!=null?{gap:L,width:re}:null}},[G,re,L]);E(ue,ce);var Me=W?c.jsx(r("BaseHScrollPeek.react"),{maxContentWindowWidth:M,padding:U,width:V}):void 0,we=W?c.jsx(r("BaseHScrollPeek.react"),{maxContentWindowWidth:M,padding:q,width:V}):void 0,Ae=G==="grid",Fe=r(Ae?"BaseGridRowScrollableArea.react":"BaseHScrollScrollableArea.react"),Oe=r("useMergeRefs")(ue,j),Be=c.jsx(Fe,{addonEnd:c.jsxs(c.Fragment,{children:[ve,we]}),addonStart:c.jsxs(c.Fragment,{children:[Me,be]}),hideScrollbar:!0,horizontal:!0,onScroll:ye,onScrollEnd:Pe,ref:Oe,style:{scrollPadding:se},vertical:!1,xstyle:[I.scrollView,!S&&I.scrollViewSnap,b&&I.scrollViewNoScroll,K],children:X.children}),We;switch(G){case"grid":We=void 0;break;case"list":We="list";break;default:We=a?"region":void 0;break}var qe=We?a:void 0;return c.jsxs(r("BaseView.react"),{ref:Le,testid:void 0,xstyle:O,children:[c.jsx("div",{"aria-hidden":T||!!me,className:(s||(s=r("stylex")))(I.buttonWrapper,(T||!!me)&&I.hidden,i),style:y?{right:se!=null&&!Y?se:W?V:0,transform:"translate(calc("+(!W&&N?0:50)+"% + "+(W?L/2:0)+"px), -50%)"}:{left:se!=null&&!Y?se:W?V:0,transform:"translate(calc(-"+(!W&&N?0:50)+"% - "+(W?L/2:0)+"px), -50%)"},suppressHydrationWarning:!X.isCircular,children:H&&H(y?$e:xe,!!me)}),c.jsx(r("BaseView.react"),{"aria-label":qe,role:We,xstyle:[I.scrollContainer,d,z],children:c.jsx(r("BaseHScrollContext").Provider,{value:Ne,children:Ae?c.jsx(r("BaseGrid.react"),{"aria-label":a,children:c.jsx(r("BaseGridRow.react"),{children:Be})}):Be})}),c.jsx("div",{"aria-hidden":T||!!fe,className:s(I.buttonWrapper,(T||!!fe)&&I.hidden,i),style:y?{left:se!=null&&!Y?se:W?V:0,transform:"translate(calc(-"+(!W&&N?0:50)+"% - "+(W?L/2:0)+"px), -50%)"}:{right:se!=null&&!Y?se:W?V:0,transform:"translate(calc("+(!W&&N?0:50)+"% + "+(W?L/2:0)+"px), -50%)"},suppressHydrationWarning:!X.isCircular,children:w&&w(y?xe:$e,!!fe)})]})}R.displayName=R.name+" [from "+i.id+"]";function L(e,t){}var E=L;if(b){var k=function(t,n){var e,r=g(null);_(function(){var e,n=r.current,o=(e=t.current)==null?void 0:e.getDOMNode();n!=null&&o!=null&&(o.scrollLeft=n)},[n,t]);var o=(e=t.current)==null?void 0:e.getDOMNode();o!=null&&(r.current=o.scrollLeft)};E=k}var I={buttonWrapper:{opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xwji4o3",zIndex:"x1vjfegm",$$css:!0},containerPaddingDefault:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",$$css:!0},scrollContainer:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},scrollView:{boxSizing:"x9f619",marginBottom:"xat24cr",paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",scrollbarWidth:"x1rohswg",$$css:!0},scrollViewNoScroll:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},scrollViewSnap:{scrollSnapType:"xhfbhpw",$$css:!0}};l.HScrollContainer=R,l.HScrollChild=r("BaseHScrollChild")}),98);
__d("useBaseHScrollFakeCards",["BaseHScroll.react","BaseHScrollConstants","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","UserAgent","react","react-compiler-runtime","setBaseHscrollChildrenAriaHidden","useEventHandler","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(23),n=e.children,a=e.fakeCardXStyle,i=e.gap,l=e.isCircular,c=e.minWidth,d=e.onResize,m=e.peek,p=e.peekWidth,_=u(0),f=_[0],g=_[1],h;t[0]!==n.length||t[1]!==i||t[2]!==l||t[3]!==c||t[4]!==d||t[5]!==m||t[6]!==p?(h=function(t,r,a){var e=t.width,s=Math.min(e,o("BaseHScrollConstants").MAX_CONTAINER_WIDTH),u=m?p*2:0;if(l){var _=Math.floor((s-u+i)/(c+i));n.length<_?g(0):g(_)}d()},t[0]=n.length,t[1]=i,t[2]=l,t[3]=c,t[4]=d,t[5]=m,t[6]=p,t[7]=h):h=t[7];var y=r("useEventHandler")(h),C=r("useResizeObserver")(y),b,v;if(t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==f){var S=f!==0?n.slice(-f):[],R=n.slice(0,f);b=l?S.map(function(e,t){return s.createElement(o("BaseHScroll.react").HScrollChild,babelHelpers.extends({},r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props,{"aria-hidden":!0,key:"head-"+t,xstyle:[r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props.xstyle,a]}))}):null,v=l?R.map(function(e,t){return s.createElement(o("BaseHScroll.react").HScrollChild,babelHelpers.extends({},r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props,{"aria-hidden":!0,key:"tail-"+t,xstyle:[r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).props.xstyle,a]}))}):null,t[8]=n,t[9]=a,t[10]=l,t[11]=f,t[12]=b,t[13]=v}else b=t[12],v=t[13];var L=v,E;t[14]!==i||t[15]!==m||t[16]!==p?(E=function(t){var e,n=t.isRTL,a=t.isRTLScrollFromMaxScroll,l=t.scrollRef,s=(e=l.current)==null?void 0:e.getDOMNode();if(s!=null){var u=r("UserAgent").isBrowser("IE")||r("UserAgent").isBrowser("Edge"),c=s.offsetWidth,d=s.scrollLeft,_=s.scrollWidth,f=n?-(_-c):_-c,g=function(t){var e=function(t){s.scrollTo==null||s.scrollTo(t,0),"onscrollend"in s&&s.addEventListener("scrollend",function(){r("setBaseHscrollChildrenAriaHidden")(s)},{once:!0})};if(n&&!u)if(a.current){var o=s.scrollWidth-s.getBoundingClientRect().width;e(o-t)}else e(-t);else e(t)},h=m?p*2:0,y=o("BaseHScrollConstants").WIGGLE_ROOM/2;if(d>=0-y&&d<=0+y){var C=_-2*c+h-i;g(C)}if(d>=f-y&&d<=f+y){var b=c-h+i;g(b)}}},t[14]=i,t[15]=m,t[16]=p,t[17]=E):E=t[17];var k=E,I;return t[18]!==b||t[19]!==k||t[20]!==C||t[21]!==L?(I=[b,L,C,k],t[18]=b,t[19]=k,t[20]=C,t[21]=L,t[22]=I):I=t[22],I}l.default=c}),98);
__d("FBNucleusDots3HorizontalOutline24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm9-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=24,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSHScroll.react",["fbt","BaseHScroll.react","ChevronLeftFilled24.svg.react","ChevronRightFilled24.svg.react","CometTrackingNodeProvider.react","FDSCircleButton.react","Locale","SVGIcon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["nextButtonLabel","prevButtonLabel","reduceArrowSize","scrollRef"],u,c=u||(u=o("react")),d=u.useCallback,m=s._(/*BTDS*/"Next items"),p=s._(/*BTDS*/"Previous items"),_=o("Locale").isRTL(),f=44;function g(t){var n=o("react-compiler-runtime").c(17),a,i,l,s,u;n[0]!==t?(l=t.nextButtonLabel,s=t.prevButtonLabel,u=t.reduceArrowSize,i=t.scrollRef,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=u):(a=n[1],i=n[2],l=n[3],s=n[4],u=n[5]);var d=l===void 0?m:l,g=s===void 0?p:s,h=u===void 0?!1:u,y;n[6]!==g||n[7]!==h?(y=function(t,n){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:419,children:c.jsx(r("FDSCircleButton.react"),{"aria-label":g,color_DEPRECATED:"secondary",disabled:n,icon:o("SVGIcon").svgIcon(r(_?"ChevronRightFilled24.svg.react":"ChevronLeftFilled24.svg.react")),onPress:t,size:h?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},n[6]=g,n[7]=h,n[8]=y):y=n[8];var C=y,b;n[9]!==d||n[10]!==h?(b=function(t,n){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:420,children:c.jsx(r("FDSCircleButton.react"),{"aria-label":d,color_DEPRECATED:"secondary",disabled:n,icon:o("SVGIcon").svgIcon(r(_?"ChevronLeftFilled24.svg.react":"ChevronRightFilled24.svg.react")),onPress:t,size:h?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},n[9]=d,n[10]=h,n[11]=b):b=n[11];var v=b,S;return n[12]!==v||n[13]!==C||n[14]!==a||n[15]!==i?(S=c.jsx(o("BaseHScroll.react").HScrollContainer,babelHelpers.extends({},a,{nextButton:v,peekWidth:f,prevButton:C,scrollRef:i})),n[12]=v,n[13]=C,n[14]=a,n[15]=i,n[16]=S):S=n[16],S}l.Container=g,l.Child=o("BaseHScroll.react").HScrollChild}),226);
__d("range",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){for(var r=n==null||n===0?e<t?1:-1:n,o=-1,a=Math.max(Math.ceil((t-e)/r),0),i=Array(a),l=e;a--;)i[++o]=l,l+=r;return i}i.default=e}),66);/*FB_PKG_DELIM*/
__d("fbs",["fbt","invariant","FbtHooks","FbtPureStringResult"],(function(t,n,r,o,a,i,l,s){var e,u={},c=babelHelpers.extends({},l,{_param:function(t,r,o){return typeof r=="string"||r instanceof n("FbtPureStringResult")||s(0,11709,r,typeof r),l._param(t,r,o)},_plural:function(t,r,o){return o==null||typeof o=="string"||o instanceof n("FbtPureStringResult")||s(0,47119,o,typeof o),l._plural(t,r,o)},_wrapContent:function(r,o,a,i){var t=typeof r=="string"?[r]:r,l=(e||(e=n("FbtHooks"))).getErrorListener({hash:a,translation:o});return e.getFbsResult({contents:t,errorListener:l,extraOptions:i,patternHash:a,patternString:o})},cachedResults:u}),d=c;a.exports=d}),null);
__d("formatNumber",["fbs","intlNumUtils"],(function(t,n,r,o,a,i){"use strict";function e(e,t){return n("intlNumUtils").formatNumber(e,t)}function l(e,t){return n("fbs")._(/*BTDS*/"_j{\"*\":\"{number}+\"}",[n("fbs")._param("number",n("intlNumUtils").formatNumberWithThousandDelimiters(e,t),[0,e])])}function s(e,t){return n("fbs")._(/*BTDS*/"_j{\"*\":\"\\u003C{number}\"}",[n("fbs")._param("number",n("intlNumUtils").formatNumberWithThousandDelimiters(e,t),[0,e])])}function u(e,t,r){return e>t?l(t,r):n("intlNumUtils").formatNumberWithThousandDelimiters(e,r)}function c(e,t,r){return e<t?s(t,r):n("intlNumUtils").formatNumberWithThousandDelimiters(e,r)}e.withThousandDelimiters=n("intlNumUtils").formatNumberWithThousandDelimiters,e.withMaxLimit=u,e.withMinLimit=c,a.exports=e}),130);
__d("BaseNumber.react",["formatNumber","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.decimals,a=e.number,i;return t[0]!==n||t[1]!==a?(i=r("formatNumber").withThousandDelimiters(a,n),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}var c=s.memo(u);l.default=c}),98);
__d("useBaseProgressRingSvg.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useMemo,d=u.useRef,m=2;function p(e){var t=o("react-compiler-runtime").c(48),n=e.backgroundColor,r=e.foregroundColor,a=e.isHidden,i=e.size,l=d(null),u=d(null),c=d(null),p=(i-m)*Math.PI,_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x1ey2m1c x9f619 xtijo5x x1o0tod x10l6tqk x13vifvy"},t[0]=_):_=t[0];var f="0 0 "+i+" "+i,g=i/2,h=i/2,y=(i-m)/2,C;t[1]!==n||t[2]!==g||t[3]!==h||t[4]!==y?(C=s.jsx("circle",{cx:g,cy:h,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:y,stroke:n,strokeLinecap:"round",strokeWidth:m}),t[1]=n,t[2]=g,t[3]=h,t[4]=y,t[5]=C):C=t[5];var b;t[6]!==i||t[7]!==f||t[8]!==C?(b=s.jsx("svg",babelHelpers.extends({},_,{height:i,ref:l,viewBox:f,width:i,children:C})),t[6]=i,t[7]=f,t[8]=C,t[9]=b):b=t[9];var v,S;t[10]===Symbol.for("react.memo_cache_sentinel")?(v={className:"x1ey2m1c xtijo5x xbudbmw x6ikm8r x10wlt62 x10l6tqk x13vifvy"},S={className:"x1ey2m1c x9f619 xtijo5x xyj9dbu x10l6tqk x13vifvy x1jpgh95"},t[10]=v,t[11]=S):(v=t[10],S=t[11]);var R="0 0 "+i+" "+i,L=i/2,E=i/2,k=(i-m)/2,I=p/2,T=3*p/4,D=a?"hidden":void 0,x;t[12]!==D?(x={visibility:D},t[12]=D,t[13]=x):x=t[13];var $;t[14]!==r||t[15]!==L||t[16]!==E||t[17]!==k||t[18]!==I||t[19]!==T||t[20]!==x?($=s.jsx("circle",{cx:L,cy:E,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:k,stroke:r,strokeDasharray:I,strokeDashoffset:T,strokeWidth:m,style:x}),t[14]=r,t[15]=L,t[16]=E,t[17]=k,t[18]=I,t[19]=T,t[20]=x,t[21]=$):$=t[21];var P;t[22]!==i||t[23]!==R||t[24]!==$?(P=s.jsx("div",babelHelpers.extends({},v,{children:s.jsx("svg",babelHelpers.extends({},S,{height:i,ref:u,viewBox:R,width:i,children:$}))})),t[22]=i,t[23]=R,t[24]=$,t[25]=P):P=t[25];var N,M;t[26]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x1ey2m1c x1dkd41z x1o0tod x6ikm8r x10wlt62 x10l6tqk x13vifvy"},M={className:"x1ey2m1c x9f619 x1h4o2ik x1o0tod x10l6tqk x13vifvy x1jpgh95"},t[26]=N,t[27]=M):(N=t[26],M=t[27]);var w="0 0 "+i+" "+i,A=i/2,F=i/2,O=(i-m)/2,B=p/2,W=p/4,q=a?"hidden":void 0,U;t[28]!==q?(U={visibility:q},t[28]=q,t[29]=U):U=t[29];var V;t[30]!==r||t[31]!==A||t[32]!==F||t[33]!==O||t[34]!==B||t[35]!==W||t[36]!==U?(V=s.jsx("circle",{cx:A,cy:F,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:O,stroke:r,strokeDasharray:B,strokeDashoffset:W,strokeWidth:m,style:U}),t[30]=r,t[31]=A,t[32]=F,t[33]=O,t[34]=B,t[35]=W,t[36]=U,t[37]=V):V=t[37];var H;t[38]!==i||t[39]!==w||t[40]!==V?(H=s.jsx("div",babelHelpers.extends({},N,{children:s.jsx("svg",babelHelpers.extends({},M,{height:i,ref:c,viewBox:w,width:i,children:V}))})),t[38]=i,t[39]=w,t[40]=V,t[41]=H):H=t[41];var G;t[42]!==P||t[43]!==H||t[44]!==b?(G=s.jsxs(s.Fragment,{children:[b,P,H]}),t[42]=P,t[43]=H,t[44]=b,t[45]=G):G=t[45];var z=G,j;return t[46]!==z?(j={backgroundRef:l,leftCircleRef:c,progressRing:z,rightCircleRef:u},t[46]=z,t[47]=j):j=t[47],j}l.default=p}),98);
__d("BaseProgressRing.react",["BaseLoadingStateElement.react","FBLogger","FDSProgressRingUtils","performanceNavigationStart","react","useBaseProgressRingSvg.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useLayoutEffect,p=u.useRef,_=u.useState,f={rootDiv:{position:"x1n2onr6",$$css:!0},rootSizing:function(t,n){return[{height:n!=null?"x16ye13r":n,width:t!=null?"x5lhr3w":t,$$css:!0},{"--x-height":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}},g=o("FDSProgressRingUtils").getCubicBezierPercentageFunc(.45,0,.25,.85);function h(e){var t=e["aria-label"],n=e["aria-labelledby"],o=e.backgroundColor,a=e.beginningPercentage,i=e.duration,l=e.explicitStartTime,u=e.foregroundColor,h=e.onComplete,b=e.pause,v=e.percentage,S=e.size,R=e.type;R!=="default"&&v!=null&&r("FBLogger")("comet_ui").mustfix("percentage should only be applied to default type");var L=p(null),E=p(null),k=_(!0),I=k[0],T=k[1],D=y(R,v,a),x=D.completedPercentage,$=D.finalPercentage,P=D.startPercentage,N=p(P),M=p($),w=p(x),A=r("useBaseProgressRingSvg.react")({backgroundColor:o,foregroundColor:u,isHidden:I,size:S}),F=A.backgroundRef,O=A.leftCircleRef,B=A.progressRing,W=A.rightCircleRef,q=c(function(e){var t=W.current,n=O.current;if(!(t==null||n==null)&&!(!(t instanceof SVGSVGElement)||!(n instanceof SVGSVGElement))&&!((R==="default"||R==="count-down")&&b===!0)){if(E.current==null&&(E.current=l!=null?l-r("performanceNavigationStart")():e),R==="estimated")if(w.current>75)w.current+=.3*Math.pow((100-w.current)/50,2);else{var o=(e-E.current)/i/1e3,a=g(o);w.current=a*75}else if(R==="default"&&w.current<M.current){var s=(e-E.current)/1e3/i*100;w.current=Math.min(s,100)}else if(R==="count-down"&&w.current>M.current){var u=(e-E.current)/1e3/i*100;w.current=N.current-u,w.current=Math.max(w.current,0)}var c=Math.max(0,Math.min(100,w.current))/100*360;t.style.transform="rotate("+Math.min(c,180)+"deg)",n.style.transform="rotate("+Math.max(c-180,0)+"deg)",C(R,w.current,v)?(window.cancelAnimationFrame(L.current),t.style.opacity="0",n.style.opacity="0",E.current=null,L.current=null,F.current instanceof SVGSVGElement&&(F.current.style.opacity="0"),h&&h()):L.current=window.requestAnimationFrame(q)}},[F,i,l,O,h,b,v,W,R]);return m(function(){I&&T(!I)},[I]),d(function(){if(window.requestAnimationFrame!=null)return L.current=window.requestAnimationFrame(q),function(){L.current!=null&&(E.current=null,window.cancelAnimationFrame(L.current),L.current=null)}},[S,q]),s.jsx(r("BaseLoadingStateElement.react"),{"aria-label":t,"aria-labelledby":n,xstyle:[f.rootDiv,f.rootSizing(S,S)],children:B})}h.displayName=h.name+" [from "+i.id+"]";function y(e,t,n){switch(e){case"default":return{completedPercentage:n!=null?n:0,finalPercentage:t!=null?t:100,startPercentage:n!=null?n:0};case"count-down":return{completedPercentage:100,finalPercentage:0,startPercentage:100};case"estimated":return{completedPercentage:0,finalPercentage:75,startPercentage:0};default:return{completedPercentage:0,finalPercentage:0,startPercentage:0}}}function C(e,t,n){return e==="count-down"?t<=0||t>100:t>=(n!=null?n:100)}l.default=h}),98);
__d("VirtualizationConfig",[],(function(t,n,r,o,a,i){"use strict";var e={isVisible:!0,nodeHeight:null},l=4e3,s=0,u=!1;i.DEFAULT_INIT_RENDER_CONFIG=e,i.VERTICAL_HIDEABLE_MARGIN=l,i.HORIZONTAL_HIDEABLE_MARGIN=s,i.IS_INTERSECTION_MARGIN_SUPPORTED=u}),66);
__d("VirtualizationContainerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=s.createContext();l.default=u}),98);
__d("useWeightedScrollSpeedRef.react",["VirtualizationContainerContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=10,m=typeof WeakMap=="function"?WeakMap:Map,p=new m,_=new m;function f(e){var t,n;e===void 0&&(e=null);var o=u(r("VirtualizationContainerContext")),a=typeof e=="function"?e():o==null||(t=o.rootElementRef)==null?void 0:t.current,i=a!=null?a:window,l=(n=_.get(i))!=null?n:{lastScrollY:0,lastTime:Date.now(),speedHistory:[],weightedSpeed:0};return _.set(i,l),c(function(){if(!p.has(i)){var e=function(){var e,t=l.lastScrollY,n=l.lastTime,r=l.speedHistory,o=(e=i===window?window.scrollY:a==null?void 0:a.scrollTop)!=null?e:0,s=Date.now(),u=o-t,c=s-n;if(c>0&&u>0&&c>0){var m=Math.abs(u/(c/1e3));r.push({speed:m}),r.length>d&&r.shift()}l.lastScrollY=o,l.lastTime=s;var p=0,_=0;r.forEach(function(e,t){var n=e.speed,r=t+1;p+=n*r,_+=r}),l.weightedSpeed=_>0?p/_:0};i.addEventListener("scroll",e),p.set(i,{handleScroll:e,subscribers:0})}var t=p.get(i);return t&&t.subscribers++,function(){t&&--t.subscribers===0&&(i.removeEventListener("scroll",t.handleScroll),p.delete(i),_.delete(i))}},[i,l,a]),l}l.default=f}),98);
__d("useDynamicVirtualizationMargin.react",["ExecutionEnvironment","VirtualizationContainerContext","justknobx","react","react-compiler-runtime","useDebouncedComet","useWeightedScrollSpeedRef.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useContext,d=u.useEffect,m=u.useRef,p=u.useState,_=r("justknobx")._("3655")/10,f=r("justknobx")._("3656"),g=r("justknobx")._("3657"),h=r("justknobx")._("3658"),y=r("justknobx")._("3659");function C(e,t){return e.bottom===t.bottom&&e.left===t.left&&e.right===t.right&&e.top===t.top}function b(t,n,a,i,l){var s=o("react-compiler-runtime").c(19),u=t===void 0?!1:t,b=i===void 0?!1:i,v=l===void 0?null:l,S;s[0]!==n||s[1]!==a?(S={bottom:a,left:n,right:n,top:a},s[0]=n,s[1]=a,s[2]=S):S=s[2];var R=p(S),L=R[0],E=R[1],k=m(0),I=r("useWeightedScrollSpeedRef.react")(v),T=c(r("VirtualizationContainerContext")),D;s[3]!==a||s[4]!==u||s[5]!==b||s[6]!==I?(D=function(t){if(u){var e=t(),n=e>k.current;k.current=e,E(function(e){var t=window.innerHeight,r=I.weightedSpeed,o=r===0?1:r/y,i=h*o,l=b?1:_,s=b?_:1,u=Math.min(a*l,t),c=Math.min(a*s,t),d=t/g,m;return n?m=babelHelpers.extends({},e,{bottom:Math.min(c,e.bottom+i),top:Math.min(u,Math.max(d,e.top-i))}):m=babelHelpers.extends({},e,{bottom:Math.min(c,Math.max(d,e.bottom-i)),top:Math.min(u,e.top+i)}),C(e,m)?e:m})}},s[3]=a,s[4]=u,s[5]=b,s[6]=I,s[7]=D):D=s[7];var x=D,$;s[8]===Symbol.for("react.memo_cache_sentinel")?($={wait:f},s[8]=$):$=s[8];var P=r("useDebouncedComet")(x,$),N;s[9]!==P||s[10]!==u||s[11]!==v||s[12]!==(T==null?void 0:T.rootElementRef)?(N=function(){if(u){var t=typeof v=="function"?v():T==null?void 0:T.rootElementRef.current,n=!t,o=n?window:t;if(!(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||typeof window=="undefined")){var a=function(){var e=n?window.scrollY:t==null?void 0:t.scrollTop;return e!=null?e:0},i=function(){P(a)};return o==null||o.addEventListener("scroll",i,{passive:!0}),(function(){o==null||o.removeEventListener("scroll",i)})}}},s[9]=P,s[10]=u,s[11]=v,s[12]=T==null?void 0:T.rootElementRef,s[13]=N):N=s[13];var M=T==null?void 0:T.rootElementRef,w;return s[14]!==P||s[15]!==u||s[16]!==v||s[17]!==M?(w=[v,M,P,u],s[14]=P,s[15]=u,s[16]=v,s[17]=M,s[18]=w):w=s[18],d(N,w),L}l.default=b}),98);
__d("MutationObserver",[],(function(t,n,r,o,a,i){var e,l,s=(function(){function e(e){}var t=e.prototype;return t.observe=function(t,n){},t.disconnect=function(){},t.takeRecords=function(){return[]},e})(),u=(e=(l=t.MutationObserver)!=null?l:t.WebKitMutationObserver)!=null?e:s,c=u;i.default=c}),66);
__d("useMutationObserver",["MutationObserver","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e,t){var n=c({observer:null,callback:e}),o=c(null),a=c({element:null,options:null,observer:null}),i=u(function(){var e=a.current,r=e.element,i=e.observer,l=e.options,s=n.current.observer,u=o.current;(r!=u||t!=l||s!=i)&&(i&&i.disconnect(),s&&u&&s.observe(u,t),a.current={observer:s,element:u,options:t})},[t]);return(n.current.observer==null||n.current.callback!==e)&&(n.current.observer!=null&&n.current.observer.disconnect(),n.current={observer:new(r("MutationObserver"))(e),callback:e}),i(),u(function(e){o.current=e,i()},[i])}l.default=d}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t){var n=[];return e.forEach(function(e){e instanceof HTMLElement&&(e.matches(t)&&n.push(e),n.push.apply(n,Array.from(e.querySelectorAll(t))))}),n}function _(e,t,n,r){r===void 0&&(r=!1);var o=p(t,n);return o.length===0?e:r?new Set([].concat(Array.from(e).filter(function(e){return!o.includes(e)}))):new Set([].concat(Array.from(e),o))}var f={childList:!0,subtree:!0};function g(e,t,n){var o=m(!0),a=o[0],i=o[1],l=d(),s=d(new Set),p=r("useMutationObserver")(function(t){t.forEach(function(e){if(e.type==="childList"){var t=e.addedNodes,r=e.removedNodes;n!=null&&(s.current=_(_(s.current,t,n,!1),r,n,!0))}}),g(e)},f),g=u(function(e){l.current!=null&&window.clearTimeout(l.current),l.current=window.setTimeout(function(){s.current.size>0?g(e):(i(!0),p(null))},e)},[p]);return c(function(){return e>0?(p(t.current!=null?t.current:null),i(!1)):p(null),function(){l.current!=null&&window.clearTimeout(l.current),p(null)}},[e,p,t]),a}l.default=g}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e){var t=o("react-compiler-runtime").c(2),n=d(e<=0),r=n[0],a=n[1],i=c(e),l=c(!1),s,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=function(){var e=window.setTimeout(function(){l.current||(l.current=!0,a(!0))},i.current);return(function(){window.clearTimeout(e)})},m=[],t[0]=s,t[1]=m):(s=t[0],m=t[1]),u(s,m),r}l.default=m}),98);
__d("useVirtualizationContext",["VirtualizationContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useMemo,m=s.useRef;function p(){var e=o("react-compiler-runtime").c(11),t=c(r("VirtualizationContext")),n=m(0),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Set,e[0]=a):a=e[0];var i=m(a),l=m(!1),s=m(null);if(s.current==null){var u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=new Map,e[1]=u):u=e[1],s.current=u}var d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=function(t){var e;n.current=n.current+1;var r=n.current;return(e=s.current)==null||e.set(r,t),(function(){var e;(e=s.current)==null||e.delete(r)})},e[2]=d):d=e[2];var p=d,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(_=function(){return s.current==null?!1:s.current.size>0},e[3]=_):_=e[3];var f=_,g=m(null);if(g.current==null){var h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=new Map,e[4]=h):h=e[4],g.current=h}var y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=function(t,r){n.current=n.current+1;var e=n.current,o=null,a=g.current;if(a!=null){var i;a.has(t)||a.set(t,new Map),o=a.get(t),(i=o)==null||i.set(e,r)}return(function(){var n,r;(n=o)==null||n.delete(e),((r=o)==null?void 0:r.size)===0&&(a==null||a.delete(t))})},e[5]=y):y=e[5];var C=y,b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=function(t){var e,n;return(e=(n=g.current)==null?void 0:n.has(t))!=null?e:!1},e[6]=b):b=e[6];var v=b,S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=function(t){return i.current.add(t),t(l.current),(function(){i.current.delete(t)})},e[7]=S):S=e[7];var R=S,L;e[8]===Symbol.for("react.memo_cache_sentinel")?(L=function(t){l.current=t,i.current.forEach(function(e){e(t)})},e[8]=L):L=e[8];var E=L,k=m(null),I;e[9]!==t?(I=t!=null?t:{contentWrapperRef:k,createFlag:C,createPin:p,hasFlag:v,hasPin:f,onVirtualizationChange:E,subscribeToVirtualizationStatus:R},e[9]=t,e[10]=I):I=e[10];var T=I;return T}l.default=p}),98);
__d("CometVirtualization.react",["BaseView.react","BaseViewHideable.react","FBLogger","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","react-compiler-runtime","stylex","useDynamicVirtualizationMargin.react","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.unstable_Activity,m=c.useCallback,p=c.useContext,_=c.useEffect,f=c.useRef,g=c.useState,h=(function(){var e=null;return function(){if(e===null){var t,n=(t=document)==null?void 0:t.documentElement;if(n==null)throw r("FBLogger")("comet_infra").mustfixThrow("Scroll anchoring feature detection called in an environment without a documentElement");e=n.style.overflowAnchor!=null}return e}})();function y(e,t){var n=o("react-compiler-runtime").c(3),r=e===void 0?null:e,a=t===void 0?!1:t,i=g(r),l=i[0],s=i[1],u,c;return n[0]!==l?(u=function(){l===null&&s(C)},c=[l],n[0]=l,n[1]=u,n[2]=c):(u=n[1],c=n[2]),_(u,c),a||(l!=null?l:!1)}function C(){return h()}var b={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},v=r("justknobx")._("1003");function S(e){return typeof e.replace=="function"?e.replace(/\n/g," ").replace(/\s+/g," "):""}function R(){return typeof IntersectionObserver!="function"||typeof IntersectionObserver.toString!="function"?!1:S(IntersectionObserver.toString()).endsWith("{ [native code] }")}var L=R();function E(t){var n=arguments,a,i=o("react-compiler-runtime").c(104),l=t.activityOnlyMode,s=t.allowVirtualizationWithNullNodeHeight,c=t.children,m=t.deferVirtualizationInMs,h=t.deferVirtualizationMutationIntervalInMs,C=t.deferVirtualizationPlaceholderSelector,S=t.delayHeightPlaceholderMs,R=t.disableHiding,E=t.fasterSizeMeasurement,k=t.hiddenMode,I=t.initialRenderConfig,T=t.innerContentXStyle,D=t.isInfiniteScrollUp,x=t.leftRightMargin,$=t.mountXStyle,P=t.nullState,N=t.pinChildrenOnInteraction,M=t.pinChildrenWithPlayer,w=t.ref,A=t.scrollport,F=t.skipScrollAnchoringCheck_UNSAFE,O=t.smartMargin,B=t.testid,W=t.textSearchable,q=t.topBottomMargin,U=t.unmountHiddenChildren,V=t.unmountXStyle,H=t.xstyle,G=l===void 0?!1:l,z=s===void 0?!1:s,j=m===void 0?0:m,K=h===void 0?0:h,Q=S===void 0?0:S,X=E===void 0?!1:E,Y=k===void 0?"legacy":k,J=I===void 0?o("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:I,Z=D===void 0?!1:D,ee=x===void 0?o("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:x,te=P===void 0?null:P,ne=A===void 0?null:A,re=F===void 0?!1:F,oe=O===void 0?!1:O,ae=B===void 0?"hideable":B,ie=W===void 0?!1:W,le=q===void 0?o("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:q,se=f(null),ue=f(null),ce=p(r("HiddenSubtreePassiveContext")),de=g(!1),me=de[0],pe=de[1],_e=f(!0),fe=g(J.isVisible),ge=fe[0],he=fe[1],ye=g(J.nodeHeight),Ce=ye[0],be=ye[1],ve=g(""),Se=ve[0],Re=ve[1],Le=r("usePrevious")(ge),Ee=r("useTimeoutStateSinceFirstMounting.react")(j),ke=r("useVirtualizationContext")(),Ie=p(r("VirtualizationContainerContext")),Te=f(null),De=$!=null?$:H,xe=V!=null?V:H,$e;i[0]!==X||i[1]!==ge||i[2]!==Ce||i[3]!==ie?($e=function(){var e=_e.current||Ce==null&&!ge;if(ue.current!=null&&e){if(X||be(ue.current.getBoundingClientRect().height),ie){var t,n;Re((t=(n=ue.current)==null||(n=n.innerText)==null?void 0:n.trim())!=null?t:"")}window.clearTimeout(Te.current)}},i[0]=X,i[1]=ge,i[2]=Ce,i[3]=ie,i[4]=$e):$e=i[4];var Pe;i[5]!==X||i[6]!==ge||i[7]!==Ce||i[8]!==ie||i[9]!==Le?(Pe=[X,ge,Ce,Le,ie],i[5]=X,i[6]=ge,i[7]=Ce,i[8]=ie,i[9]=Le,i[10]=Pe):Pe=i[10],_($e,Pe);var Ne=Q!=null&&Q>0,Me;i[11]!==Q||i[12]!==X||i[13]!==ce||i[14]!==Ne||i[15]!==ie?(Me=function(t){r("nullIntersectionObserverEntryLogger")(t,"IntersectionObserverEntry is null. num_arguments="+n.length);var e=ce.getCurrentState().hiddenOrBackgrounded_FIXME;if(r("intersectionObserverEntryIsIntersecting")(t))Ne?Te.current=window.setTimeout(function(){be(null)},Q):(window.clearTimeout(Te.current),be(null)),he(!0);else if(!e){var o,a=X?(o=t==null?void 0:t.boundingClientRect)!=null?o:{}:t.target.getBoundingClientRect(),i=a.height,l=a.width;if(i>0&&l>0&&(he(!1),X&&be(i),Ne&&(window.clearTimeout(Te.current),be(i),ie))){var s,u;Re((s=(u=se.current)==null||(u=u.innerText)==null?void 0:u.trim())!=null?s:"")}}},i[11]=Q,i[12]=X,i[13]=ce,i[14]=Ne,i[15]=ie,i[16]=Me):Me=i[16];var we=Me,Ae=r("useMutationStableChecker")(K,ue,C),Fe,Oe;i[17]===Symbol.for("react.memo_cache_sentinel")?(Fe=function(){_e.current&&(_e.current=!1)},Oe=[],i[17]=Fe,i[18]=Oe):(Fe=i[17],Oe=i[18]),_(Fe,Oe);var Be;i[19]!==ee||i[20]!==le?(Be={bottom:le,left:ee,right:ee,top:le},i[19]=ee,i[20]=le,i[21]=Be):Be=i[21];var We=Be,qe=r("useDynamicVirtualizationMargin.react")(oe,ee,le,Z,ne),Ue=oe?qe:We,Ve;i[22]!==ne||i[23]!==(Ie==null?void 0:Ie.rootElementRef)?(Ve=function(){var e=ne!=null?ne==null?void 0:ne():Ie==null?void 0:Ie.rootElementRef.current;return e instanceof Element?e:null},i[22]=ne,i[23]=Ie==null?void 0:Ie.rootElementRef,i[24]=Ve):Ve=i[24];var He=Ve,Ge,ze;i[25]!==Ue?(Ge=babelHelpers.extends({},Ue),ze=babelHelpers.extends({},Ue),i[25]=Ue,i[26]=Ge,i[27]=ze):(Ge=i[26],ze=i[27]);var je;i[28]!==Ge||i[29]!==ze||i[30]!==He?(je={root:He,rootMargin:Ge,scrollMargin:ze,threshold:0},i[28]=Ge,i[29]=ze,i[30]=He,i[31]=je):je=i[31];var Ke=r("useIntersectionObserver")(we,je),Qe=p(r("VirtualizationContext")),Xe=r("useMergeRefs")(Qe==null?ke.contentWrapperRef:null,Ke,se,w),Ye;e:{if(!me&&Ce!==null&&(!z||Ce!=null&&Ce>0)&&U!==!1&&(Ne||!ge)){var Je;i[32]!==Ce?(Je={minHeight:Ce},i[32]=Ce,i[33]=Je):Je=i[33],Ye=Je;break e}Ye=void 0}var Ze=Ye,et=!ge&&(Ce!=null||z===!0),tt=y((a=J.hasScrollAnchoring)!=null?a:null,re),nt=v&&tt,rt=nt?Xe:w;if(r("gkx")("22947")){var ot;i[34]===Symbol.for("react.memo_cache_sentinel")?(ot={className:"x78zum5 xdt5ytf"},i[34]=ot):ot=i[34];var at;return i[35]!==c?(at=u.jsx("div",babelHelpers.extends({},ot,{children:u.jsx(r("BaseView.react"),{children:c})})),i[35]=c,i[36]=at):at=i[36],at}var it;i[37]!==N?(it=function(){N===!0&&pe(!0)},i[37]=N,i[38]=it):it=i[38];var lt=it,st;i[39]!==M||i[40]!==ke?(st=(M!=null?M:!1)&&ke.hasFlag("HAS_PLAYER"),i[39]=M,i[40]=ke,i[41]=st):st=i[41];var ut=st,ct;i[42]!==nt||i[43]!==Ee||i[44]!==ut||i[45]!==et||i[46]!==Ae||i[47]!==me||i[48]!==U||i[49]!==ke?(ct=L&&nt&&U===!0&&et&&!me&&!ke.hasPin()&&!ut&&Ee&&Ae,i[42]=nt,i[43]=Ee,i[44]=ut,i[45]=et,i[46]=Ae,i[47]=me,i[48]=U,i[49]=ke,i[50]=ct):ct=i[50];var dt=ct;ke.onVirtualizationChange(dt);var mt=nt&&!(R!=null&&R)&&et&&Y!=="none",pt=ie&&Se!=="";if(G){var _t;i[51]!==De||i[52]!==dt||i[53]!==xe?(_t=(e||(e=r("stylex")))(b.resetBlockFormattingContext,dt?xe:De),i[51]=De,i[52]=dt,i[53]=xe,i[54]=_t):_t=i[54];var ft;i[55]!==pt||i[56]!==Se?(ft=pt?u.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:Se}):null,i[55]=pt,i[56]=Se,i[57]=ft):ft=i[57];var gt;i[58]!==T?(gt=(e||(e=r("stylex")))(T),i[58]=T,i[59]=gt):gt=i[59];var ht=dt?"hidden":"visible",yt;i[60]!==c||i[61]!==ht?(yt=u.jsx(d,{mode:ht,children:c}),i[60]=c,i[61]=ht,i[62]=yt):yt=i[62];var Ct;i[63]!==gt||i[64]!==yt?(Ct=u.jsx("div",{className:gt,ref:ue,children:yt}),i[63]=gt,i[64]=yt,i[65]=Ct):Ct=i[65];var bt;i[66]!==lt||i[67]!==Ze||i[68]!==rt||i[69]!==dt||i[70]!==_t||i[71]!==ft||i[72]!==Ct||i[73]!==ae?(bt=u.jsxs("div",{className:_t,"data-testid":void 0,"data-virtualized":dt,onClickCapture:lt,onFocusCapture:lt,onKeyPressCapture:lt,ref:rt,style:Ze,children:[ft,Ct]}),i[66]=lt,i[67]=Ze,i[68]=rt,i[69]=dt,i[70]=_t,i[71]=ft,i[72]=Ct,i[73]=ae,i[74]=bt):bt=i[74];var vt;return i[75]!==bt||i[76]!==ke?(vt=u.jsx(r("VirtualizationContext").Provider,{value:ke,children:bt}),i[75]=bt,i[76]=ke,i[77]=vt):vt=i[77],vt}var St;i[78]!==De||i[79]!==dt||i[80]!==xe?(St=(e||(e=r("stylex")))(b.resetBlockFormattingContext,dt?xe:De),i[78]=De,i[79]=dt,i[80]=xe,i[81]=St):St=i[81];var Rt;i[82]!==pt||i[83]!==Se?(Rt=pt?u.jsx("div",{className:"xqtp20y x6ikm8r x10wlt62 xnalus7",children:Se}):null,i[82]=pt,i[83]=Se,i[84]=Rt):Rt=i[84];var Lt;i[85]!==c||i[86]!==Y||i[87]!==T||i[88]!==mt||i[89]!==te||i[90]!==dt?(Lt=Y==="legacy"?u.jsx(r("BaseViewHideable.react"),{hidden:mt,ref:ue,xstyle:[T,mt&&b.invisible],children:dt?null:u.jsx(r("HiddenSubtreeContextProvider.react"),{isHidden:mt,children:c})}):u.jsx("div",{className:(e||(e=r("stylex")))(T),ref:ue,children:dt?te:c}),i[85]=c,i[86]=Y,i[87]=T,i[88]=mt,i[89]=te,i[90]=dt,i[91]=Lt):Lt=i[91];var Et;i[92]!==lt||i[93]!==Ze||i[94]!==rt||i[95]!==dt||i[96]!==St||i[97]!==Rt||i[98]!==Lt||i[99]!==ae?(Et=u.jsxs("div",{className:St,"data-testid":void 0,"data-virtualized":dt,onClickCapture:lt,onFocusCapture:lt,onKeyPressCapture:lt,ref:rt,style:Ze,children:[Rt,Lt]}),i[92]=lt,i[93]=Ze,i[94]=rt,i[95]=dt,i[96]=St,i[97]=Rt,i[98]=Lt,i[99]=ae,i[100]=Et):Et=i[100];var kt;return i[101]!==Et||i[102]!==ke?(kt=u.jsx(r("VirtualizationContext").Provider,{value:ke,children:Et}),i[101]=Et,i[102]=ke,i[103]=kt):kt=i[103],kt}l.default=E}),98);
__d("VirtualizationExperimentConfig",[],(function(t,n,r,o,a,i){"use strict";var e=4e3,l=!0,s=!1,u=!1,c=!1,d="static",m=!1,p=!1,_=!1,f=new Set(["static","dynamic"]),g=new Set(["thread_view"]),h={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,react_activity_mode:!1,surface_enabled:!0}},y={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},C={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0,virtualization_strategy:"dynamic"},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0,virtualization_strategy:"dynamic"},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,is_at_bottom_scroll_up:!0,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};i.DEFAULT_TOP_BOTTOM_MARGIN=e,i.DEFAULT_PIN_CHILDREN_ON_INTERACTION=l,i.DEFAULT_PIN_CHILDREN_WITH_PLAYER=s,i.DEFAULT_DISABLE_HIDING=u,i.DEFAULT_ACTIVITY_MODE_ON=c,i.DEFAULT_VIRTUALIZATION_STRATEGY=d,i.DEFAULT_AT_BOTTOM_SCROLL_UP=m,i.DEFAULT_TEXT_SEARCHABLE=p,i.DEFAULT_SKIP_SCROLL_ANCHORING_CHECK=_,i.VALID_STRATEGIES=f,i.infiniteScrollUpSurfaces=g,i.ROLLOUT_CONFIG=h,i.GK_HOLDOUT_CONFIG=y,i.GK_ROLLOUT_CONFIG=C}),66);
__d("VirtualizationExperimentSettings",["QE2Logger","VirtualizationExperimentConfig","gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h=r("gkx")("2548"),y=r("gkx")("221"),C=r("gkx")("6600");function b(e){return Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").ROLLOUT_CONFIG,e)?o("VirtualizationExperimentConfig").ROLLOUT_CONFIG:h&&Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,e)?o("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG:y&&Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,e)?o("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG:null}var v=function(t){var e=b(t);return e==null?void 0:e[t]},S=new Set(((e=r("qex")._("641"))!=null?e:"").split(",").map(function(e){return e.trim()}));function R(e){var t=new Map;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}function L(e){var t;if(S.has(e))return!0;var n=v(e);return(t=n==null?void 0:n.surface_enabled)!=null?t:!1}var E=R(L);function k(e){var t=new Map;return e.split(",").forEach(function(e){var n,r,o=e.trim(),a=o.split(":"),i=a[0],l=a[1],s=(n=i==null?void 0:i.trim())!=null?n:"",u=parseInt((r=l==null?void 0:l.trim())!=null?r:"",10);s.length>0&&!Number.isNaN(u)&&t.set(s,u)}),t}var I=k((s=r("qex")._("628"))!=null?s:"");function T(e){var t;if(I.has(e)){var n;return(n=I.get(e))!=null?n:o("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}var r=v(e);return(t=r==null?void 0:r.root_margin_top_bottom)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}var D=R(T),x=new Set(((u=r("qex")._("642"))!=null?u:"all").split(",")),$=new Set;function P(e){$.has(e)||((x.has("all")||x.has(e))&&o("QE2Logger").logExposureForActingAccount("comet_front_end_virtualization"),$.add(e))}var N=(c=r("qex")._("4937"))!=null?c:o("VirtualizationExperimentConfig").DEFAULT_ACTIVITY_MODE_ON;function M(e){var t;if(S.has(e))return N!=null?N:!1;var n=v(e);return(t=n==null?void 0:n.react_activity_mode)!=null?t:!1}var w=R(M),A=(d=r("qex")._("648"))!=null?d:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function F(e){var t;if(S.has(e))return A!=null?A:!0;var n=v(e);return(t=n==null?void 0:n.pin_children_on_interaction)!=null?t:!0}var O=R(F),B=(m=r("qex")._("339"))!=null?m:"default",W=B==="disable"?!0:B==="enable"?!1:null;function q(e){var t;if(S.has(e))return W!=null?W:o("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING;var n=v(e);return(t=n==null?void 0:n.hiding_disabled)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}var U=R(q),V=(p=r("qex")._("885"))!=null?p:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function H(e){var t;if(S.has(e))return V!=null?V:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;var n=v(e);return(t=n==null?void 0:n.pin_children_with_player)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}var G=R(H);function z(e){var t=new Map;return e.split(",").forEach(function(e){var n,r=e.trim(),a=r.split(":"),i=a[0],l=a[1],s=(n=i==null?void 0:i.trim())!=null?n:"",u=l==null?void 0:l.trim(),c=o("VirtualizationExperimentConfig").VALID_STRATEGIES.has(u)?u:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY;s.length>0&&t.set(s,c)}),t}var j=z((_=r("qex")._("1851"))!=null?_:"");function K(e){var t;if(j.has(e)){var n;return(n=j.get(e))!=null?n:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}var r=v(e);return(t=r==null?void 0:r.virtualization_strategy)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}var Q=(f=r("qex")._("1271"))!=null?f:o("VirtualizationExperimentConfig").DEFAULT_SKIP_SCROLL_ANCHORING_CHECK;function X(e){return S.has(e)?Q!=null?Q:o("VirtualizationExperimentConfig").DEFAULT_SKIP_SCROLL_ANCHORING_CHECK:y&&C}var Y=R(X),J=R(K),Z=function(t){var e=v(t);return(e==null?void 0:e.is_at_bottom_scroll_up)===!0||o("VirtualizationExperimentConfig").infiniteScrollUpSurfaces.has(t)?!0:o("VirtualizationExperimentConfig").DEFAULT_AT_BOTTOM_SCROLL_UP},ee=(g=r("qex")._("5027"))!=null?g:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;function te(e){var t;if(S.has(e))return ee!=null?ee:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;var n=v(e);return(t=n==null?void 0:n.text_searchable)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE}var ne=R(te);l.isSurfaceEnabled=E,l.getTopBottomMargin=D,l.logQEExposureOnceWhenNecessary=P,l.getActivityModeOn=w,l.getPinChildrenOnInteration=O,l.isHidingDisabled=U,l.getPinChildrenWithPlayer=G,l.getSkipScrollAnchoringCheck=Y,l.getVirtualizationStrategy=J,l.getIsInfiniteScrollUp=Z,l.getTextSearchable=ne}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(43),n=e.callingSurface,a=e.children,i=e.disableHiding,l=e.mountXStyle,c=e.scrollport,d=e.topBottomMarginOverride,m=e.unmountXStyle,p=e.xstyle,_=c===void 0?null:c,f;t[0]!==n?(f=o("VirtualizationExperimentSettings").isSurfaceEnabled(n),t[0]=n,t[1]=f):f=t[1];var g=f,h;t[2]!==n||t[3]!==i||t[4]!==g?(h=i!=null?i:o("VirtualizationExperimentSettings").isHidingDisabled(n)||!g,t[2]=n,t[3]=i,t[4]=g,t[5]=h):h=t[5];var y=h,C,b;t[6]!==n?(C=function(){return o("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(n)},b=[n],t[6]=n,t[7]=C,t[8]=b):(C=t[7],b=t[8]),u(C,b);var v;t[9]!==n?(v=o("VirtualizationExperimentSettings").getVirtualizationStrategy(n),t[9]=n,t[10]=v):v=t[10];var S=v,R=S!=="static",L;t[11]!==n?(L=o("VirtualizationExperimentSettings").getActivityModeOn(n),t[11]=n,t[12]=L):L=t[12];var E=L,k;t[13]!==n?(k=o("VirtualizationExperimentSettings").getSkipScrollAnchoringCheck(n),t[13]=n,t[14]=k):k=t[14];var I=k,T;t[15]!==n?(T=o("VirtualizationExperimentSettings").getIsInfiniteScrollUp(n),t[15]=n,t[16]=T):T=t[16];var D=T,x;t[17]!==n?(x=o("VirtualizationExperimentSettings").getTextSearchable(n),t[17]=n,t[18]=x):x=t[18];var $=x,P;t[19]!==n||t[20]!==g?(P=g&&o("VirtualizationExperimentSettings").getPinChildrenOnInteration(n),t[19]=n,t[20]=g,t[21]=P):P=t[21];var N;t[22]!==n?(N=o("VirtualizationExperimentSettings").getPinChildrenWithPlayer(n),t[22]=n,t[23]=N):N=t[23];var M;t[24]!==n||t[25]!==d?(M=d!=null&&d>=0?d:o("VirtualizationExperimentSettings").getTopBottomMargin(n),t[24]=n,t[25]=d,t[26]=M):M=t[26];var w;return t[27]!==E||t[28]!==a||t[29]!==g||t[30]!==y||t[31]!==D||t[32]!==R||t[33]!==l||t[34]!==_||t[35]!==I||t[36]!==P||t[37]!==N||t[38]!==M||t[39]!==$||t[40]!==m||t[41]!==p?(w=s.jsx(r("CometVirtualization.react"),{activityOnlyMode:E,disableHiding:y,isInfiniteScrollUp:D,mountXStyle:l,pinChildrenOnInteraction:P,pinChildrenWithPlayer:N,scrollport:_,skipScrollAnchoringCheck_UNSAFE:I,smartMargin:R,textSearchable:$,topBottomMargin:M,unmountHiddenChildren:g,unmountXStyle:m,xstyle:p,children:a}),t[27]=E,t[28]=a,t[29]=g,t[30]=y,t[31]=D,t[32]=R,t[33]=l,t[34]=_,t[35]=I,t[36]=P,t[37]=N,t[38]=M,t[39]=$,t[40]=m,t[41]=p,t[42]=w):w=t[42],w}l.default=c}),98);
__d("NullStateFiles",["cr:27629"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:27629")}),98);
__d("CometUFICommentListNoCommentBanner.react",["fbt","FDSNullState.react","NullStateFiles","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("FDSNullState.react"),{body:s._(/*BTDS*/"Be the first to comment."),headline:s._(/*BTDS*/"No comments yet"),icon:r("NullStateFiles")}),e[0]=t):t=e[0],t}l.default=c}),226);
__d("FDSEyeCrossFilled16Icon",["cr:14006"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14006")}),98);
__d("FDSProgressRing.react",["BaseProgressRing.react","FDSProgressRingUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(15),n=e.beginningPercentage,a=e.color,i=e.duration,l=e.explicitStartTime,u=e.onComplete,c=e.pause,d=e.percentage,m=e.size,p=e.type,_=e["aria-label"],f=e["aria-labelledby"],g;t[0]!==a?(g=o("FDSProgressRingUtils").getRingColor(a),t[0]=a,t[1]=g):g=t[1];var h=g,y=h.backgroundColor,C=h.foregroundColor,b;return t[2]!==_||t[3]!==f||t[4]!==y||t[5]!==n||t[6]!==i||t[7]!==l||t[8]!==C||t[9]!==u||t[10]!==c||t[11]!==d||t[12]!==m||t[13]!==p?(b=s.jsx(r("BaseProgressRing.react"),{"aria-label":_,"aria-labelledby":f,backgroundColor:y,beginningPercentage:n,duration:i,explicitStartTime:l,foregroundColor:C,onComplete:u,pause:c,percentage:d,size:m,type:p}),t[2]=_,t[3]=f,t[4]=y,t[5]=n,t[6]=i,t[7]=l,t[8]=C,t[9]=u,t[10]=c,t[11]=d,t[12]=m,t[13]=p,t[14]=b):b=t[14],b}l.default=u}),98);
__d("useQPLInstanceKey",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useState,u=0;function c(){return s(function(){return++u})[0]}l.default=c}),98);/*FB_PKG_DELIM*/
__d("BaseDataEntryKeyBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.key;return t.trimLeft().toLowerCase()}i.default=e}),66);
__d("BaseCacheEntryKeyBuilder",["BaseDataEntryKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("BaseDataEntryKeyBuilder")(e.entry)}l.default=e}),98);
__d("BaseDataEntryLabelKeyBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.label.trimLeft().toLowerCase()}i.default=e}),66);
__d("BaseCacheEntryLabelKeyBuilder",["BaseDataEntryLabelKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("BaseDataEntryLabelKeyBuilder")(e.entry)}l.default=e}),98);
__d("BaseTypeaheadDataCacheProvider",["BaseDataEntryLabelKeyBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.cache,n=e.matchBuilder,o=e.mergeBuilder,a=e.keyBuilder,i=a===void 0?r("BaseDataEntryLabelKeyBuilder"):a;this.$1=t,this.$2=n,this.$3=o,this.$4=i}var t=e.prototype;return t.add=function(t){var e=this;t.forEach(function(t){var n=e.$4(t),r=e.$1.get(n);e.$1.set(n,r!=null&&e.$3!=null?e.$3(t,r):t)})},t.clear=function(){this.$1.clear()},t.remove=function(t){var e=this.$4(t);this.$1.remove(e)},t.match=function(t){var e=this.$2({query:t});return this.$1.values().map(function(e){return e.type==="section"?babelHelpers.extends({},e):babelHelpers.extends({},e)}).filter(function(t){return t.type==="section"?(t.entries=t.entries.filter(e),!0):e(t)})},t.values=function(){return this.$1.values()},e})();l.default=e}),98);
__d("BaseTypeaheadInMemoryMapDataCache",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.clear=function(){this.$1.clear()},t.get=function(t){return this.$1.get(t)},t.has=function(t){return this.$1.has(t)},t.remove=function(t){this.$1.delete(t)},t.set=function(t,n){this.$1.set(t,n)},t.values=function(){return Array.from(this.$1.values())},e})();i.default=e}),66);
__d("baseTypeaheadStartsWithMatchBuilder",["escapeRegex"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.query,n=new RegExp("^"+r("escapeRegex")(t),"i");return function(e){var t;return n.test((t=e.label)!=null?t:"")}}l.default=e}),98);
__d("BaseTypeaheadBaseStaticDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadStartsWithMatchBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.entries,n=e.keyBuilder,o=e.matchBuilder,a=o===void 0?r("baseTypeaheadStartsWithMatchBuilder"):o;this.$1=new(r("BaseTypeaheadDataCacheProvider"))({cache:new(r("BaseTypeaheadInMemoryMapDataCache")),keyBuilder:n,matchBuilder:a}),this.$1.add(t)}var t=e.prototype;return t.fetchCache=function(t){var e=t.query;return{entries:this.$1.match(e),params:t}},e})();l.default=e}),98);
__d("XPlatReactRelayErrorHandling",["CometRelayErrorHandling"],(function(t,n,r,o,a,i){"use strict";var e=importNamespace("CometRelayErrorHandling").markErrorAsHandled;i.markErrorAsHandled=e}),66);
__d("BaseTypeaheadDataProvider",["CometRelay","Promise","XPlatReactRelayErrorHandling"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.onError,n=e.options,r=e.query,o=e.queryVariablesBuilder,a=e.relayEnvironment;this.$1=t,this.$2=r,this.$3=o,this.$4=a,this.$5=n}var r=t.prototype;return r.fetch=function(r){var t=this,a=this.$3.build(),i=a(r);return new(e||(e=n("Promise")))(function(e,n){var r,a=!1;o("CometRelay").fetchQuery(t.$4,t.$2,i,{fetchPolicy:(r=t.$5)==null?void 0:r.fetchPolicy}).subscribe({error:function(r){o("XPlatReactRelayErrorHandling").markErrorAsHandled(r),t.$1!=null&&t.$1(r),n(r)},next:function(n){a||(a=!0,e({requestQueryVariables:i,response:n}))}})})},t})();l.default=s}),98);
__d("BaseTypeaheadDataProviderQueryVariablesBuilder",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=null,this.$2=null,this.$3=e}var t=e.prototype;return t.build=function(){return this.$3(this.$1,this.$2)},t.setComputedVariables=function(t){return this.$2=t,this},t.setDefaultVariables=function(t){return this.$1=t,this},e})();i.default=e}),66);
__d("BaseTypeaheadNetworkDataSource",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.fetchNetwork=function(t){var e=this;return this.$1.fetch(t).then(function(n){var r=n.requestQueryVariables,o=n.response;return{entries:e.$2(o,r),params:t}})},e})();i.default=e}),66);
__d("BaseTypeaheadNetworkCacheDataSource",["BaseTypeaheadNetworkDataSource"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var o=n.normalizeFunc;this.$1=new(r("BaseTypeaheadNetworkDataSource"))(e,o),this.$2=t}var t=e.prototype;return t.fetchCache=function(t){var e=t.query,n=this.$2.match(e);return{entries:n,params:t}},t.fetchNetwork=function(t){var e=this,n=t.query;return this.$1.fetchNetwork(t).then(function(r){var o=r.entries;return o!=null&&e.$2.add(o,n),{entries:e.$2.match(n),params:t}})},t.clearCache=function(){this.$2.clear()},e})();l.default=e}),98);
__d("searchBaseTypeaheadTakeNEntriesFromSectionedEntries",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(t===0)return[];var n=l(e,t),r=n.entryIndex,o=n.entryUnionIndex;if(o===void 0)return e;var a=e.slice(0,o+1);if(r!==void 0&&o!==void 0){var i=a[o];i.type==="section"&&(i.entries=i.entries.slice(0,r+1))}return a}function l(e,t){for(var n=t,r=0;r<e.length;r++){var o=e[r];if(o.type!=="section"){if(n--,n===0)return{entryUnionIndex:r}}else{if(n<=o.entries.length)return{entryIndex:n-1,entryUnionIndex:r};n-=o.entries.length}}return{}}i.default=e}),66);
__d("BaseTypeaheadPayloadDecoratorAddLimit",["searchBaseTypeaheadTakeNEntriesFromSectionedEntries"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t){var n=t.entries;return babelHelpers.extends({},t,{entries:r("searchBaseTypeaheadTakeNEntriesFromSectionedEntries")(n,e)})}}l.default=e}),98);
__d("baseTypeaheadDedupEntriesBuilder",["baseTypeaheadFlattenEntries"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t,n){var o=new Set(r("baseTypeaheadFlattenEntries")(t).map(function(t){return e(t)})),a=new Map;for(var i of t)i.type==="section"&&a.set(i.key,i);var l=n.map(function(t){if(t.type==="section"){var n=t.entries.filter(function(t){return!o.has(e(t))});if(n.length===0)return null;var r=a.get(t.key);return r!=null?(r.entries=[].concat(r.entries,n),null):(t.entries=n,t)}else return o.has(e(t))?null:t}).filter(Boolean);return[].concat(t,l)}}l.default=e}),98);
__d("baseTypeaheadLabelSuffixBuilder",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=e.label.trimLeft().toLowerCase();return t==null||!n.startsWith(t)?"":n.slice(t.length)}i.default=e}),66);
__d("BaseTypeaheadQueryDataCacheProvider",["BaseCacheEntryLabelKeyBuilder","BaseTypeaheadInMemoryMapDataCache","FBLogger","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e===void 0?{}:e,n=t.dedupe,o=t.suffixBuilder;this.$1=new(r("BaseTypeaheadInMemoryMapDataCache")),this.$2=n!=null?n:r("baseTypeaheadDedupEntriesBuilder")(r("BaseCacheEntryLabelKeyBuilder")),this.$3=o!=null?o:r("baseTypeaheadLabelSuffixBuilder")}var t=e.prototype;return t.add=function(t,n){n===void 0&&(n="");var e=(n!=null?n:"").trimLeft().toLowerCase(),r=this.$4(t,e);this.$1.set(e,r)},t.clear=function(){this.$1.clear()},t.match=function(t){var e=t.trimLeft().toLowerCase();if(e===""){var n;return((n=this.$1.get(e))!=null?n:[]).map(function(e){var t=e.entry;return t})}for(var r=[],o=1;o<=e.length;o++){var a=e.substring(0,o),i=e.substring(o,e.length),l=this.$5(a,i);r=this.$2(r,l)}return r.map(function(e){var t=e.entry;return t})},t.remove=function(t){r("FBLogger")("search").mustfix("'remove' is not implemented for BaseTypeaheadQueryDataCacheProvider")},t.$5=function(t,n){var e,r=(e=this.$1.get(t))!=null?e:[];return r.map(function(e){return!e.suffix.startsWith(n)&&e.suffix!==n.trim()?null:e}).filter(Boolean)},t.$4=function(t,n){var e=this;return t.map(function(t){return{entry:t,suffix:e.$3(t,n)}})},t.values=function(){return r("FBLogger")("search").mustfix("'entries' is not implemented for BaseTypeaheadQueryDataCacheProvider"),[]},e})();l.default=e}),98);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({fetch:r("emptyFunction"),isLoading:!1,refetch:r("emptyFunction"),source:"all"});l.default=u}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null,secondaryActionHighlighted:null});l.default=u}),98);
__d("CometTypeaheadGraphQLDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.gqlQuery,n=e.normalize,o=e.options,a=e.queryVariablesBuilderFunction,i=e.relayEnvironment,l=function(){return a},s=new(r("BaseTypeaheadDataProviderQueryVariablesBuilder"))(l),u=new(r("BaseTypeaheadDataProvider"))({options:o,query:t,queryVariablesBuilder:s,relayEnvironment:i}),c=new(r("BaseTypeaheadQueryDataCacheProvider"))({dedupe:r("baseTypeaheadDedupEntriesBuilder")(r("BaseCacheEntryKeyBuilder")),suffixBuilder:r("baseTypeaheadLabelSuffixBuilder")});this.$1=new(r("BaseTypeaheadNetworkCacheDataSource"))(u,c,{normalizeFunc:n})}var t=e.prototype;return t.fetchCache=function(t){return this.$1.fetchCache(t)},t.fetchNetwork=function(t){return this.$1.fetchNetwork(t)},t.clearCache=function(){this.$1.clearCache()},e})();l.default=e}),98);
__d("CometTypeaheadProgressGlimmer.react",["FDSProgressRingIndeterminate.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xdd8jsf",justifyContent:"xl56j7k",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(o("react-strict-dom").html.div,{style:u.root,children:s.jsx(r("FDSProgressRingIndeterminate.react"),{color:"dark",size:24})}),e[0]=t):t=e[0],t}l.default=c}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadStateContext"))}l.default=u}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={root:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginBottom:"xat24cr",marginTop:"xdj266r",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},d={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",insetInlineStart:null,insetInlineEnd:null,top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootFocused:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0},contentRootHighlighted:{backgroundColor:"x1wpzbip xugaqoy",$$css:!0},itemIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",$$css:!0},pressable:{flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(54),n=e.additionalEndContentOutsideOfPressable,a=e.children,i=e.cursorDisabled_SEARCH_ONLY,l=e.entry,u=e.isActive,m=e.isEmphasized,p=e.isDisabled,_=e.itemEndContent,f=e.itemStartContent,g=e.linkProps,h=e.onPressEntry,y=e.onPressEntryIn,C=e.overlayDisabled_SEARCH_ONLY,b=e.role,v=e.testid,S=e.xstyle,R=e.debugElement,L=e.focusable,E=e.itemEndContentKeyboardFocusable,k=i===void 0?!1:i,I=m===void 0?!1:m,T=p===void 0?!1:p,D=C===void 0?!1:C,x=S===void 0?c.root:S,$=L===void 0?!1:L,P=E===void 0?!1:E,N=r("useCometInternalTypeaheadState")(),M=N.secondaryActionHighlighted,w;t[0]!==l||t[1]!==h?(w=function(t){h&&h(l,t)},t[0]=l,t[1]=h,t[2]=w):w=t[2];var A=w,F;t[3]!==l||t[4]!==y?(F=function(t){y&&y(l,t)},t[3]=l,t[4]=y,t[5]=F):F=t[5];var O=F,B=b==="row"?"gridcell":"none",W=P===!0&&B==="gridcell"?void 0:l.key,q=T?r("emptyFunction"):A,U=T?r("emptyFunction"):O,V=P!==!0?B:"none",H=u&&d.contentRootHighlighted,G=u&&M!==!0&&d.contentRootFocused,z=I&&d.contentRootEmphasized,j=n==null?d.pressable:d.pressableWithAdditionalEndContent,K;t[6]!==H||t[7]!==G||t[8]!==z||t[9]!==j||t[10]!==x?(K=[d.contentRoot,H,G,z,x,j],t[6]=H,t[7]=G,t[8]=z,t[9]=j,t[10]=x,t[11]=K):K=t[11];var Q;t[12]!==f?(Q=f!=null?s.jsx(r("CometRowItem.react"),{children:s.jsx(o("react-strict-dom").html.div,{style:d.itemIcon,children:f})}):null,t[12]=f,t[13]=Q):Q=t[13];var X;t[14]!==B||t[15]!==a||t[16]!==l.key||t[17]!==P?(X=P===!0&&B==="gridcell"?s.jsx(o("react-strict-dom").html.div,{id:l.key,role:B,children:a}):a,t[14]=B,t[15]=a,t[16]=l.key,t[17]=P,t[18]=X):X=t[18];var Y;t[19]!==X?(Y=s.jsx(r("CometRowItem.react"),{expanding:!0,children:X}),t[19]=X,t[20]=Y):Y=t[20];var J;t[21]!==B||t[22]!==l.key||t[23]!==_||t[24]!==P?(J=_!=null?s.jsx(r("CometRowItem.react"),{children:P===!0&&B==="gridcell"?s.jsx(o("react-strict-dom").html.div,{id:l.key+"-secondary-action",role:B,children:_}):_}):null,t[21]=B,t[22]=l.key,t[23]=_,t[24]=P,t[25]=J):J=t[25];var Z;t[26]!==Q||t[27]!==Y||t[28]!==J?(Z=s.jsxs(r("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[Q,Y,J]}),t[26]=Q,t[27]=Y,t[28]=J,t[29]=Z):Z=t[29];var ee=T&&d.contentRootDisabled,te;t[30]!==ee?(te=s.jsx(o("react-strict-dom").html.div,{style:ee}),t[30]=ee,t[31]=te):te=t[31];var ne;t[32]!==n||t[33]!==k||t[34]!==l.key||t[35]!==l.label||t[36]!==$||t[37]!==T||t[38]!==g||t[39]!==D||t[40]!==q||t[41]!==U||t[42]!==V||t[43]!==K||t[44]!==Z||t[45]!==te?(ne=s.jsxs(r("CometPressable.react"),{"aria-describedby":l.key,cursorDisabled:k,disabled:T,display:"block",expanding:!0,focusable:$,label:l.label,linkProps:g,onPress:q,onPressIn:U,overlayDisabled:D,overlayFocusRingPosition:"inset",role:V,xstyle:K,children:[Z,n,te]}),t[32]=n,t[33]=k,t[34]=l.key,t[35]=l.label,t[36]=$,t[37]=T,t[38]=g,t[39]=D,t[40]=q,t[41]=U,t[42]=V,t[43]=K,t[44]=Z,t[45]=te,t[46]=ne):ne=t[46];var re;return t[47]!==R||t[48]!==u||t[49]!==b||t[50]!==W||t[51]!==ne||t[52]!==v?(re=s.jsxs(o("react-strict-dom").html.li,{"aria-selected":u,"data-testid":void 0,id:W,role:b,style:d.root,children:[R,ne]}),t[47]=R,t[48]=u,t[49]=b,t[50]=W,t[51]=ne,t[52]=v,t[53]=re):re=t[53],re}l.default=m}),98);
__d("CometTypeaheadViewList.react",["CometCompositeStructureContext","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","children","entries","highlightedEntry"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var n=o("react-compiler-runtime").c(16),a,i,l,s,c;n[0]!==t?(a=t.ariaProps,i=t.children,l=t.entries,s=t.highlightedEntry,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d=s!=null?s.key:null,m=a.role,p;n[6]!==m?(p=babelHelpers.extends({},m!=null?{role:m}:{}),n[6]=m,n[7]=p):p=n[7];var _=p,f;if(n[8]!==d||n[9]!==a||n[10]!==i||n[11]!==_||n[12]!==l||n[13]!==c||n[14]!==m){var g=r("getItemRoleFromCompositeRole")(m);f=l!=null&&l.length>0?u.jsxs(u.Fragment,{children:[c.label!=null&&u.jsx("div",{className:"x14vqqas xod5an3 x1diwwjn xbmvrgn",children:c.label}),u.jsx("ul",babelHelpers.extends({},a,{className:"x78zum5 xdt5ytf x1iyjqo2","data-testid":void 0,children:u.jsx(r("CometCompositeStructureContext").Provider,{value:_,children:l.map(function(e,t){var n=d===e.key;return i({entry:e,index:t,isActive:n,isLastItem:l.length-1===t,itemRole:g})})})}))]}):null,n[8]=d,n[9]=a,n[10]=i,n[11]=_,n[12]=l,n[13]=c,n[14]=m,n[15]=f}else f=n[15];return f}l.default=d}),98);
__d("CometTypeaheadViewListStrategy.react",["CometTypeaheadViewList.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"],s,u=s||(s=o("react"));function c(t){var n,a=o("react-compiler-runtime").c(17),i,l,s,c,d,m;if(a[0]!==t){var p=t.ariaProps,_=t.entries,f=t.extraViewProps,g=t.highlightedEntry,h=t.isLoading,y=t.onAbandonTypeahead_DO_NOT_USE,C=t.viewItemStrategyRenderer,b=babelHelpers.objectWithoutPropertiesLoose(t,e);l=p,s=_,c=f,d=g,i=C,m=b,a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c,a[5]=d,a[6]=m}else i=a[1],l=a[2],s=a[3],c=a[4],d=a[5],m=a[6];var v=(n=c)==null?void 0:n.label,S;a[7]!==i||a[8]!==c||a[9]!==m?(S=function(t){var e=t.entry,n=t.isActive,r=t.isLastItem,o=t.itemRole;return u.createElement(i,babelHelpers.extends({},m,c,{entry:e,isActive:n,isLastItem:r,key:e.key,role:o}))},a[7]=i,a[8]=c,a[9]=m,a[10]=S):S=a[10];var R;return a[11]!==l||a[12]!==s||a[13]!==d||a[14]!==v||a[15]!==S?(R=u.jsx(r("CometTypeaheadViewList.react"),{ariaProps:l,entries:s,highlightedEntry:d,label:v,testid:void 0,children:S}),a[11]=l,a[12]=s,a[13]=d,a[14]=v,a[15]=S,a[16]=R):R=a[16],R}l.default=c}),98);
__d("FBNucleusChevronLeftFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M10.957 2.043a1 1 0 0 0-1.414 0L7.776 3.806a843.037 843.037 0 0 0-3.135 3.136 1.5 1.5 0 0 0 .003 2.117l3.132 3.132 1.767 1.766a1 1 0 0 0 1.414-1.414L9.19 10.775 6.41 7.998c.93-.935 1.847-1.848 2.772-2.77l1.774-1.77a1 1 0 0 0 0-1.415z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBNucleusChevronRightFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M5.043 2.043a1 1 0 0 1 1.414 0l1.767 1.763c1.044 1.04 2.08 2.074 3.135 3.136a1.5 1.5 0 0 1-.003 2.117L8.224 12.19l-1.767 1.766a1 1 0 0 1-1.414-1.414l1.768-1.768L9.59 7.998c-.93-.935-1.847-1.848-2.772-2.77l-1.774-1.77a1 1 0 0 1 0-1.415z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBNucleusMagnifyingGlassFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M7.5 1a6.5 6.5 0 1 0 3.835 11.749l1.958 1.958a1 1 0 0 0 1.414-1.414l-1.958-1.958A6.5 6.5 0 0 0 7.5 1zM3 7.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSCalendarAddFilled20Icon",["cr:14606"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14606")}),98);
__d("FDSChevronLeftFilled16Icon",["cr:13978"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13978")}),98);
__d("FDSChevronLeftFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("492485"),16),u=e;l.default=u}),98);
__d("FDSChevronRightFilled16Icon",["cr:13982"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13982")}),98);
__d("FDSChevronRightFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("492533"),16),u=e;l.default=u}),98);
__d("FDSRoundedTextInput.react",["BaseFocusRing.react","BaseTextInput.react","Locale","ScreenReaderText.react","react","react-compiler-runtime","stylex","useBaseInputValidators"],(function(t,n,r,o,a,i,l){"use strict";var e=["addOnEnd","hideIconAnimation","hideIconOnFocus","icon","placeholderFontUse","ref","size","textAlign","validator","xstyle","aria-describedby","aria-label","aria-labelledby","autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD","disabled","onBlur","onFocus","onMouseUp","value"],s,u,c=u||(u=o("react")),d=u,m=d.useId,p=d.useState,_={backgroundPlaceholder:{backgroundColor:"xmjcpbm",$$css:!0},backgroundSecondary:{backgroundColor:"x1qhmfi1",$$css:!0},disabledInput:{color:"x1dntmbh",cursor:"x1h6gzvc",$$css:!0},fontPlaceholder:{color:"x12scifz","::placeholder_color":"x2s2ed0",":focus::placeholder_color":"xq33zhf",$$css:!0},fontSecondary:{color:"xi81zsa",$$css:!0},hideIconAnimation:{transitionDuration:"xhb22t3",transitionProperty:"xb5gni",transitionTimingFunction:"xcj1dhv",$$css:!0},hideIconAnimationRTL:{transitionDuration:"xhb22t3",transitionProperty:"x1b1fv3o",transitionTimingFunction:"xcj1dhv",$$css:!0},icon:{alignItems:"x6s0dn4",display:"x78zum5",whiteSpace:"xuxw1ft",$$css:!0},iconFocused:{marginInlineEnd:"x1trhqq4",opacity:"xg01cxk",pointerEvents:"x47corl",transform:"x1o18zem",$$css:!0},iconFocusedRTL:{marginInlineEnd:"x3aesyq",transform:"x18r5ilk",$$css:!0},root:{alignItems:"x1qjc9v5",borderStartStartRadius:"xal68kn",borderStartEndRadius:"x51dqfy",borderEndEndRadius:"x1w4cqa3",borderEndStartRadius:"x1byqp33",boxSizing:"x9f619",display:"x78zum5",minWidth:"x1fns5xo",position:"x1n2onr6",width:"xh8yej3",$$css:!0},startIcon:{pointerEvents:"x47corl",$$css:!0},textInput:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderStartStartRadius:"xal68kn",borderStartEndRadius:"x51dqfy",borderEndEndRadius:"x1w4cqa3",borderEndStartRadius:"x1byqp33",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",color:"xzsf02u",flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",fontFamily:"xjb2p0i",fontSize:"x6prxxf",minWidth:"xeuugli",outline:"x1a2a7pz",paddingBottom:"xdvlbce",paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",paddingTop:"xm7lytj",position:"x1n2onr6",$$css:!0}},f={large:{paddingInlineStart:"x1g0dm76",$$css:!0},medium:{paddingInlineStart:"xe2zdcy",$$css:!0}},g={center:{textAlign:"x2b8uid",$$css:!0},end:{textAlign:"xp4054r",$$css:!0},inherit:{textAlign:"x16tdsg8",$$css:!0},start:{textAlign:"x1yc453h",$$css:!0}},h={focused:{transform:"x1avfe6s",$$css:!0}},y={large:{paddingBottom:"xdvlbce",paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",paddingTop:"xm7lytj",$$css:!0},medium:{paddingBottom:"xdvlbce",paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",paddingTop:"xm7lytj",$$css:!0}},C={large:{minHeight:"x1ba4aug",$$css:!0},medium:{minHeight:"xu0aao5",$$css:!0}},b={large:{height:"x1vqgdyp",$$css:!0},medium:{height:"xc9qbxq",$$css:!0}},v=o("Locale").isRTL();function S(t){var n=o("react-compiler-runtime").c(54),a,i,l,u,d,S,R,L,E,k,I,T,D,x,$,P,N,M,w,A;n[0]!==t?(a=t.addOnEnd,T=t.hideIconAnimation,D=t.hideIconOnFocus,S=t.icon,x=t.placeholderFontUse,I=t.ref,$=t.size,P=t.textAlign,M=t.validator,A=t.xstyle,i=t["aria-describedby"],l=t["aria-label"],u=t["aria-labelledby"],d=t.autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD,N=t.disabled,R=t.onBlur,L=t.onFocus,E=t.onMouseUp,w=t.value,k=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=S,n[7]=R,n[8]=L,n[9]=E,n[10]=k,n[11]=I,n[12]=T,n[13]=D,n[14]=x,n[15]=$,n[16]=P,n[17]=N,n[18]=M,n[19]=w,n[20]=A):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],S=n[6],R=n[7],L=n[8],E=n[9],k=n[10],I=n[11],T=n[12],D=n[13],x=n[14],$=n[15],P=n[16],N=n[17],M=n[18],w=n[19],A=n[20]);var F=T===void 0?!1:T,O=D===void 0?!1:D,B=x===void 0?"placeholder":x,W=$===void 0?"medium":$,q=P===void 0?"start":P,U=N===void 0?!1:N,V=m(),H=String(w),G;n[21]!==H||n[22]!==M?(G={validator:M,value:H},n[21]=H,n[22]=M,n[23]=G):G=n[23];var z=r("useBaseInputValidators")(G),j=z.topResultReason,K=z.topResultType,Q=p(!1),X=Q[0],Y=Q[1],J;n[24]!==L?(J=function(t){Y(!0),L&&L(t)},n[24]=L,n[25]=J):J=n[25];var Z=J,ee;n[26]!==R?(ee=function(t){Y(!1),R&&R(t)},n[26]=R,n[27]=ee):ee=n[27];var te=ee,ne;n[28]!==E?(ne=function(t){E&&E(t)},n[28]=E,n[29]=ne):ne=n[29];var re=ne,oe=j!=null?V+" "+(i!=null?i:""):i,ae;return n[30]!==a||n[31]!==oe||n[32]!==l||n[33]!==u||n[34]!==d||n[35]!==U||n[36]!==te||n[37]!==Z||n[38]!==re||n[39]!==F||n[40]!==O||n[41]!==S||n[42]!==X||n[43]!==k||n[44]!==B||n[45]!==I||n[46]!==W||n[47]!==q||n[48]!==j||n[49]!==K||n[50]!==V||n[51]!==w||n[52]!==A?(ae=c.jsx(r("BaseFocusRing.react"),{children:function(t){return c.jsxs("label",babelHelpers.extends({},(s||(s=r("stylex"))).props(t,_.root,C[W],B==="placeholder"&&_.backgroundPlaceholder,B==="secondary"&&_.backgroundSecondary),{children:[S!=null?c.jsx("span",babelHelpers.extends({},(s||(s=r("stylex"))).props(!F&&_.hideIconAnimation,!F&&v&&_.hideIconAnimationRTL,_.icon,_.startIcon,f[W],O&&X&&_.iconFocused,O&&X&&v&&_.iconFocusedRTL),{children:S})):null,c.jsx(r("BaseTextInput.react"),babelHelpers.extends({},k,{"aria-describedby":oe,"aria-invalid":K==="ERROR","aria-label":l,"aria-labelledby":u,autoFocus:d,disabled:U,onBlur:te,onFocus:Z,onMouseUp:re,ref:I,suppressFocusRing:!0,value:w,xstyle:[g[q],!v&&_.hideIconAnimation,v&&_.hideIconAnimationRTL,B==="placeholder"&&_.fontPlaceholder,B==="secondary"&&_.fontSecondary,O&&X&&v&&h.focused,_.textInput,S!=null&&y[W],b[W],U&&_.disabledInput,A]})),a!=null&&c.jsx("span",{className:"x6s0dn4 x78zum5 xuxw1ft x1icxu4v",children:a}),j!=null?c.jsx(r("ScreenReaderText.react"),{id:V,text:j}):null]}))}}),n[30]=a,n[31]=oe,n[32]=l,n[33]=u,n[34]=d,n[35]=U,n[36]=te,n[37]=Z,n[38]=re,n[39]=F,n[40]=O,n[41]=S,n[42]=X,n[43]=k,n[44]=B,n[45]=I,n[46]=W,n[47]=q,n[48]=j,n[49]=K,n[50]=V,n[51]=w,n[52]=A,n[53]=ae):ae=n[53],ae}l.default=S}),98);
__d("baseTypeaheadFetchPayloadDecorate",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){t===void 0&&(t=[]);var n=e;return t.forEach(function(e){n=e(n)}),n}i.default=e}),66);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){var o,a;if(e.length===0){n(null,null);return}var i=t!=null?e.findIndex(function(e){return e.key===t})+1:0;i===e.length&&(i=0);var l=(o=(a=e[i])==null?void 0:a.hasSecondaryAction)!=null?o:!1;n(e[i],l?r:null)}function l(e,t,n,r){var o,a;if(e.length===0){n(null,null);return}var i=t!=null?e.findIndex(function(e){return e.key===t})-1:e.length-1;i===-1&&(i=e.length-1);var l=(o=(a=e[i])==null?void 0:a.hasSecondaryAction)!=null?o:!1;n(e[i],l?r:null)}function s(e,t,n,r){if(e.length===0){n(null,!1);return}if(r===!0){var o=e.findIndex(function(e){return e.key===t});n(e[o],!1)}else l(e,t,n,!0)}function u(t,n,r,o){if(t.length===0){r(null,!1);return}if(o===!0)e(t,n,r,!1);else{var a=t.findIndex(function(e){return e.key===n});r(t[a],!0)}}i.moveDown=e,i.moveUp=l,i.moveLeft=s,i.moveRight=u}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function s(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=1),n&&e.onReady(function(e){e.bumpEntityKey(354,t,"fetched-cache",r)})}l.default=s}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function s(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=1),n&&e.onReady(function(e){e.bumpEntityKey(354,t,"fetched-network",r)})}l.default=s}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n=e.dataSource,r;return t[0]!==n?(r=function(t){var e=t.onResolvePayload,r=t.requestParams,o=r.perfTraceAPI,a=n.fetchCache(r);return o&&o.addMarkerPoint("cachedResponse","AppTiming"),e(a),a},t[0]=n,t[1]=r):r=t[1],r}l.default=u}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){var t=o("react-compiler-runtime").c(9),n=e.dataSource,a=m(!1),i=a[0],l=a[1],s=d(0),u=d(!1),p,_;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=function(){return u.current=!1,(function(){u.current=!0})},_=[],t[0]=p,t[1]=_):(p=t[0],_=t[1]),c(p,_);var f;t[2]!==n?(f=function(t){var e=t.onResolvePayload,o=t.requestParams;s.current=s.current+1;var a=s.current,i=o.perfTraceAPI;l(!0),r("promiseDone")(n.fetchNetwork(o).then(function(t){!u.current&&a===s.current&&(e(t),i&&i.addMarkerPoint("networkResponse","AppTiming"))}).finally(function(){!u.current&&a===s.current&&(s.current=0,l(!1))}))},t[2]=n,t[3]=f):f=t[3];var g=f,h;t[4]!==i?(h={isLoading:i},t[4]=i,t[5]=h):h=t[5];var y;return t[6]!==g||t[7]!==h?(y=[h,g],t[6]=g,t[7]=h,t[8]=y):y=t[8],y}l.default=p}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["FBLogger","baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","react","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=8;function m(e,t){var n=e.dataSource,o=e.dataSourceFetchConfigParams,a=e.onResolvePayload,i=o!=null?o:r("emptyObject"),l=i.renderLimit,s=l===void 0?d:l,m=i.bypassCacheRenderLimitCheck,p=m===void 0?!1:m,_=i.shouldDebounceNetwork,f=_===void 0?!0:_,g=i.networkDebounceWaitDuration,h=i.requestFlow,y=c(h),C=r("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:n}),b=r("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:n}),v=b[0].isLoading,S=b[1],R=r("useDebouncedComet")(S,{wait:g});function L(){var e=!1;function o(t,n){var o=n.isTraceComplete,i=n.source;try{e||a(t,{isTraceComplete:o,source:i})}catch(t){e||r("FBLogger")("search").mustfix("Failed to resolve fetched payload")}}function i(e){var t=e.requestParams,a=e.source,i=t.requestFlow;i!=null&&(y.current=i);var l=null;if(typeof n.fetchCache=="function"&&["all","cache"].includes(a)){l=C({onResolvePayload:function(t){var e=t.entries,n=r("baseTypeaheadFlattenEntries")(e).length;o(t,{isTraceComplete:!p&&n>=s,source:"cache"}),r("cometTypeaheadODSLogFetchCacheEvent")&&r("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:t});var u=l,c=u.entries,d=r("baseTypeaheadFlattenEntries")(c).length;if(!p&&d>=s)return}if(typeof n.fetchNetwork=="function"&&["all","network"].includes(a)){var m={onResolvePayload:function(t){o(t,{isTraceComplete:!0,source:t.entries.length>0?"network":"network-no-results"}),r("cometTypeaheadODSLogFetchNetworkEvent")&&r("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers.extends({},t,{requestFlow:y.current})};f?R(m):S(m)}}return t!=null&&i(t),function(){e=!0}}return u(L,[t]),[{isLoading:v}]}l.default=m}),98);
__d("useBaseTypeaheadDataSourceFetch",["FBLogger","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetchResolver"],(function(t,n,r,o,a,i,l){"use strict";var e=["loggingEventTrace"],s,u=s||(s=o("react")),c=u.useCallback,d=u.useState;function m(t){var n,a=o("react-compiler-runtime").c(9),i=d(null),l=i[0],s=i[1],u=r("useBaseTypeaheadDataSourceFetchResolver")(t,l),c=u[0],m=c.isLoading,p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p=function(t,n){var e=n===void 0?"all":n;s({requestParams:t,source:e})},a[0]=p):p=a[0];var _=p,f;a[1]!==l?(f=function(n){var t=n||{},o=t.requestFlow,a=t.source;if(l==null){r("FBLogger")("search").mustfix("Refetch cannot be called with undefined `fetchParams`");return}var i=l.requestParams,s=i.loggingEventTrace,u=babelHelpers.objectWithoutPropertiesLoose(i,e),c=babelHelpers.extends({loggingEventTrace:babelHelpers.extends({},s,{sequenceID:String(Date.now())}),requestFlow:o},u);_(c,a)},a[1]=l,a[2]=f):f=a[2];var g=f,h=(n=l==null?void 0:l.source)!=null?n:"all",y;a[3]!==m||a[4]!==h?(y={isLoading:m,source:h},a[3]=m,a[4]=h,a[5]=y):y=a[5];var C;return a[6]!==g||a[7]!==y?(C=[y,_,g],a[6]=g,a[7]=y,a[8]=C):C=a[8],C}l.default=m}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadFetchContext"))}l.default=u}),98);
__d("useCustomEqualityMemo",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(t,n){var o=(e||(e=r("useUnsafeRef_DEPRECATED")))(t),a=n(o.current,t)?o.current:t;return u(function(){o.current=a},[a]),a}l.default=c}),98);
__d("useDeepEqualMemo",["areEqual","useCustomEqualityMemo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("useCustomEqualityMemo")(t,e||(e=r("areEqual")))}l.default=s}),98);
__d("useCometTypeaheadGraphQLDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLDataSource","react","useDeepEqualMemo"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=e.gqlQuery,n=e.limit,a=e.normalize,i=e.options,l=e.queryVariablesBuilderFunction,u=s(function(){return r("BaseTypeaheadPayloadDecoratorAddLimit")(n)},[n]),c=o("CometRelay").useRelayEnvironment(),d=r("useDeepEqualMemo")(l({query:""})),m=s(function(){return new(r("CometTypeaheadGraphQLDataSource"))({gqlQuery:t,normalize:a,options:i,queryVariablesBuilderFunction:l,relayEnvironment:c})},[d,c]);return s(function(){return{clearCache:function(){m.clearCache()},fetchCache:function(t){return u(m.fetchCache(t))},fetchNetwork:function(t){return m.fetchNetwork(t).then(function(e){return u(e)})}}},[m,u])}l.default=u}),98);
__d("useCometTypeaheadViewLabel",["fbt","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useMemo;function c(e){var t=o("react-compiler-runtime").c(3),n=e.activeEntries,r;e:{var a=n.length;if(a===0){var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"No suggested searches."),t[0]=i):i=t[0],r=i;break e}var l;t[1]!==a?(l=s._(/*BTDS*/"_j{\"*\":\"{number} suggested searches\",\"_1\":\"1 suggested search\"}",[s._plural(a,"number")]),t[1]=a,t[2]=l):l=t[2],r=l}return r}l.default=c}),226);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useId,c=s.useMemo;function d(e){var t=o("react-compiler-runtime").c(29),n=e.activeEntries,a=e.helperText,i=e.highlightedEntry,l=e.inputLabel,s=e.isOpened,c=e.secondaryActionHighlighted,d=e.viewRole,m=l===void 0?"":l,p=u(),_=r("useCometInternalTypeaheadFetch")(),f=_.isLoading,g=u(),h;t[0]!==n?(h={activeEntries:n},t[0]=n,t[1]=h):h=t[1];var y=r("useCometTypeaheadViewLabel")(h),C;t[2]!==i||t[3]!==c?(C=i!=null?{"aria-activedescendant":c===!0?i.key+"-secondary-action":i.key}:{},t[2]=i,t[3]=c,t[4]=C):C=t[4];var b=C,v;t[5]!==n.length||t[6]!==s||t[7]!==p?(v=s&&n.length>0?{"aria-controls":p}:null,t[5]=n.length,t[6]=s,t[7]=p,t[8]=v):v=t[8];var S=v,R;t[9]!==g||t[10]!==a?(R=a!=null&&String(a).length>0?{"aria-describedby":g}:null,t[9]=g,t[10]=a,t[11]=R):R=t[11];var L=R,E;t[12]!==f||t[13]!==p||t[14]!==y||t[15]!==d?(E={"aria-busy":f,"aria-label":y,id:p,role:d},t[12]=f,t[13]=p,t[14]=y,t[15]=d,t[16]=E):E=t[16];var k=E,I;t[17]!==g?(I={id:g},t[17]=g,t[18]=I):I=t[18];var T=n.length>0&&s,D;t[19]!==m||t[20]!==b||t[21]!==S||t[22]!==L||t[23]!==T?(D=babelHelpers.extends({},b,S,L,{"aria-autocomplete":"list","aria-expanded":T,"aria-label":m,role:"combobox"}),t[19]=m,t[20]=b,t[21]=S,t[22]=L,t[23]=T,t[24]=D):D=t[24];var x;return t[25]!==k||t[26]!==I||t[27]!==D?(x={ariaDescribedByProps:I,ariaInputProps:D,ariaViewProps:k},t[25]=k,t[26]=I,t[27]=D,t[28]=x):x=t[28],x}l.default=d}),98);
__d("useCometTypeaheadViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadViewListStrategy.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["entries","isLoading","queryString"],s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=o("react-compiler-runtime").c(8),a=t.emptyStateContent,i=t.extraViewProps,l=t.loadingState,u=t.nullstateContent,d=t.viewItemStrategyRenderer,m=t.viewListStrategyRenderer,p=t.viewXStyle,_=m===void 0?r("CometTypeaheadViewListStrategy.react"):m,f;return n[0]!==_||n[1]!==a||n[2]!==i||n[3]!==l||n[4]!==u||n[5]!==d||n[6]!==p?(f=function(n){var t=n.entries,o=n.isLoading,m=n.queryString,f=babelHelpers.objectWithoutPropertiesLoose(n,e);return m.length===0&&u!=null?u:!o&&t.length===0&&a!=null?a:c.jsxs("div",babelHelpers.extends({},(s||(s=r("stylex"))).props([p]),{children:[c.jsx(_,babelHelpers.extends({},f,{entries:t,extraViewProps:i,isLoading:!1,queryString:m,viewItemStrategyRenderer:d})),o&&(l!=null?l:c.jsx(r("CometTypeaheadProgressGlimmer.react"),{}))]}))},n[0]=_,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=p,n[7]=f):f=n[7],f}l.default=m}),98);/*FB_PKG_DELIM*/
__d("LSCoreClientFolderType",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19,INTEROP_PENDING:29});i.default=e}),66);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSQplAnnotateInt.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] Beginning execution."),r[1]=t.i64.of_float(Date.now()),t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))||!1}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(r[19]=new t.Map,r[19].set("error_msg","Expected a nonempty query result"),r[19].set("code",t.i64.cast([0,3])),r[19].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),r[20]=t.createArray(),r[21]=(r[20].push(r[19]),r[20]),o=[void 0,r[20]],r[2]=o[0],r[3]=o[1]):(n=l.item,r[19]=new t.Map,r[19].set("backup_id",n.backupId),r[19].set("device_public_key_blob",n.devicePublicKeyBlob),r[19].set("device_private_key_blob",n.devicePrivateKeyBlob),r[19].set("epoch_storage_public_key_blob",n.epochStoragePublicKeyBlob),r[19].set("epoch_storage_private_key_blob",n.epochStoragePrivateKeyBlob),r[19].set("epoch_auth_public_key_blob",n.epochAuthPublicKeyBlob),r[19].set("epoch_auth_private_key_blob",n.epochAuthPrivateKeyBlob),r[19].set("mailbox_root_key_blob",n.mailboxRootKeyBlob),r[19].set("ocmf_client_state_blob",n.ocmfClientStateBlob),r[19].set("orf_client_state_v2_blob",void 0),r[19].set("orf_v2_authority_level",void 0),r[19].set("oblivious_validation_token_blob",n.obliviousValidationTokenBlob),r[19].set("device_id",n.deviceId),r[19].set("backup_tenancy",n.backupTenancy),r[19].set("encryption_version",n.encryptionVersion),r[19].set("revision_version",n.revisionVersion),r[19].set("initialize_restore_result",void 0),r[19].set("device_creation_timestamp_sec",void 0),r[19].set("authority_level",n.authorityLevel),a=[r[19],void 0],r[2]=a[0],r[3]=a[1])})},function(e){return r[5]=new t.Map,r[5].set("value",r[2]),r[5].set("errors",r[3]),r[6]=r[5].get("value"),r[6]!==void 0?t.sequence([function(e){return r[19]=r[6].get("backup_id"),r[20]=r[6].get("device_public_key_blob"),r[21]=r[6].get("device_private_key_blob"),r[22]=r[6].get("epoch_storage_public_key_blob"),r[23]=r[6].get("epoch_storage_private_key_blob"),r[24]=r[6].get("epoch_auth_public_key_blob"),r[25]=r[6].get("epoch_auth_private_key_blob"),r[26]=r[6].get("mailbox_root_key_blob"),r[27]=r[6].get("ocmf_client_state_blob"),r[28]=r[6].get("orf_client_state_v2_blob"),r[29]=r[6].get("orf_v2_authority_level"),r[30]=r[6].get("oblivious_validation_token_blob"),r[31]=r[6].get("device_id"),r[32]=r[6].get("backup_tenancy"),r[33]=r[6].get("encryption_version"),r[34]=r[6].get("revision_version"),r[35]=r[6].get("initialize_restore_result"),r[36]=r[6].get("device_creation_timestamp_sec"),r[37]=r[6].get("authority_level"),t.i64.neq(r[31],void 0)?t.sequence([function(e){return r[39]=void 0,t.i64.neq(r[39],void 0)?t.resolve(r[40]=r[39]):t.sequence([function(e){return r[52]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[53]=t[0],t})},function(e){return r[53]&&(r[62]=(r[52].push(t.i64.cast([0,0])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[54]=t[0],t})},function(e){return r[54]&&(r[62]=(r[52].push(t.i64.cast([0,2])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[55]=t[0],t})},function(e){return r[55]&&(r[62]=(r[52].push(t.i64.cast([0,3])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[56]=t[0],t})},function(e){return r[56]&&(r[62]=(r[52].push(t.i64.cast([0,4])),r[52])),r[57]=t.createArray(),r[58]=t.i64.of_int32(r[52].length),t.i64.gt(r[58],t.i64.cast([0,0]))?t.loopAsync(r[58],function(e){return r[62]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[52],r[62]).then(function(e){var t;return t=e,r[63]=t[0],r[64]=t[1],t})},function(e){return r[65]=(r[57].push(r[63]),r[57])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[62]=t.createArray(),r[63]=t.i64.of_int32(r[57].length),t.i64.gt(r[63],t.i64.cast([0,0]))?t.loopAsync(r[63],function(e){return r[65]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[57],r[65]).then(function(e){var t;return t=e,r[66]=t[0],r[67]=t[1],t})},function(e){return r[68]=(r[62].push(t.i64.to_string(r[66])),r[62])}])}):t.resolve()},function(e){return r[64]=r[62].join(","),r[59]=r[64]}])},function(e){return r[57].some(function(e){return t.i64.eq(r[33],e)})?r[60]=r[33]:r[60]=void 0,t.i64.neq(r[60],void 0)?r[61]=r[60]:r[61]=void 0,r[40]=r[61]}])},function(e){return t.i64.neq(r[40],void 0)?r[41]=r[40]:r[41]=t.i64.cast([0,0]),t.i64.neq(r[32],void 0)?r[42]=r[32]:r[42]=t.i64.cast([0,1]),t.nativeOperation(n("LSBase64Encode.nop"),r[27]).then(function(e){var t;return t=e,r[43]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[26]).then(function(e){var t;return t=e,r[44]=t[0],t})},function(e){return r[45]=new t.Map,r[45].set("ocmf_client_state_blob",r[43]==null?"":r[43]),r[45].set("mailbox_root_key",r[44]==null?"":r[44]),r[46]=t.createArray(),t.forEach(t.filter(t.db.table(169).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}),function(e){var t=e.item;return r[52]=(r[46].push(t.epochId),r[46])})},function(e){return r[50]="Queried locally available epochs. Count: ",r[47]=t.i64.of_int32(r[46].length),r[51]=t.i64.to_string(r[47]),r[48]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][MEBEpochClientUtils] ",r[48],r[50],r[48],r[51]].join("")),t.resolve()},function(e){return r[49]=new t.Map,r[49].set("device_id",r[31]),r[49].set("raw_tokens",r[45]),r[49].set("locally_available_epochs",r[46]),r[38]=r[49]}]):t.resolve(r[38]=void 0)},function(e){return r[7]=r[38]}]):t.resolve((r[19]=r[5].get("errors"),r[20]=r[5].get("errors"),r[7]=void 0))},function(e){return r[8]=t.i64.random(),r[9]=t.i64.to_string(r[8]),r[9]!==void 0?t.nativeOperation(n("LSQplStartTrace.nop"),t.i64.cast([0,679677570]),r[9],!0,void 0):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplMarkPoint.nop"),t.i64.cast([0,679677570]),r[9],"issue_task"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679677570]),r[9],"request_type","THREAD_POINT_QUERY"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateInt.nop"),t.i64.cast([0,679677570]),r[9],"task_creation_source",t.i64.cast([0,76])==null?t.i64.cast([-1,4294967295]):t.i64.cast([0,76])):t.resolve()},function(o){return r[10]=new t.Map,r[10].set("wa_jid",e[0]),r[10].set("tam_thread_subtype",t.i64.cast([0,0])),r[10].set("enable_logging_for_tpq",!1),r[10].set("device_context",r[7]),r[10].set("qpl_instance_key",r[9]),r[11]=r[10].get("wa_jid"),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[11]),t.i64.cast([0,556]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[13]=t.i64.of_float(Date.now()),r[14]=t.i64.random(),r[16]="Finishing execution. Execution time: ",r[17]=t.i64.to_string(t.i64.sub(r[13],r[0])),r[18]=" ms",r[15]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] ",r[15],r[16],r[15],r[17],r[15],r[18]].join("")),t.i64.eq(t.i64.mod_(r[14],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[19]=",",r[20]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"ThreadPointQueryAndRestoreMessagesWithJID",[r[16],r[19],r[17],r[19],r[18]].join(""),r[20],t.i64.cast([0,4]))):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"],a.exports=e}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithJID","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadPointQueryAndRestoreMessagesWithJID"),a.waJid);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActMappingTableAPI","ReQL"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e,t,n){return d(e,n,t.actorId)}function c(e,t,n){return o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,t).then(function(t){return t==null?Promise.resolve():d(e,t,n)})}async function d(t,n,r){var a=t.threads,i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(a).getKeyRange(n));if(i!=null){var l=o("LSMessagingThreadTypeUtil").isGroup(i.threadType);if(l){var u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.group_invites).getKeyRange(n));if(u==null){await a.put(babelHelpers.extends({},i,{additionalThreadContext:void 0}));return}var c=(e||(e=o("I64"))).equal((e||(e=o("I64"))).of_string(r),u.inviterId)?null:await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.contacts,["name"]).getKeyRange(u.inviterId));if(c!=null){var d=s._(/*BTDS*/"{Inviter Name} invited you to join",[s._param("Inviter Name",c.name)]).toString(),m=i.folderName==="inbox"?s._(/*BTDS*/"Message request").toString():i.additionalThreadContext;await a.put(babelHelpers.extends({},i,{additionalThreadContext:m,snippet:d}))}}}}function m(e,t){return c(e,t.threadJid,t.actorId)}function p(e,t,n){return c(e,t,n)}l.callForOneDb=u,l.call=m,l.callFromMainThread=p}),226);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("LSContactBitOffset").hasWithDefault(64,t,!0),r=(e||(e=o("I64"))).ge(t.contactViewerRelationship,e.of_string("2"));return r&&n?o("WADbContact").ONE_WAY_CONTACT:!r&&!n?o("WADbContact").REVERSED_ONE_WAY_CONTACT:r&&!n?o("WADbContact").TWO_WAY_CONTACT:o("WADbContact").NON_CONTACT}l.getContactRelationshipType=s}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWJids","MAWMessageRequestUtil","MAWMiActMappingTableAPI","MAWUserJidWrapper","ODS","ReQL","WADbContact"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e,t){var n=t.threadJid;return p(e,n)}function m(e,t){return p(e,t)}async function p(e,t){if(o("MAWUserJidWrapper").getMyUserJid()!==t){var n=o("MAWJids").convertChatJidToIntJid(t),r=await o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,t);if(r!=null){var a=await Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(r)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.contacts).getKeyRange(n))]),i=a[0],l=a[1];if(!(i==null||l==null||!o("LSMessagingThreadTypeUtil").isOneToOne(i.threadType))){var u=_(i,l),c=i.folderName==="pending"||i.folderName==="other"||i.folderName==="spam"||u;if(c){var d=i.folderName==="inbox"?s._(/*BTDS*/"Message request").toString():void 0,m=babelHelpers.extends({},i,{additionalThreadContext:d},f(i));await e.threads.put(m)}}}}}function _(t,n){var a=o("MAWContactRelationshipType").getContactRelationshipType(n),i=t.folderName==="inbox"&&a===o("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(e||(e=o("I64"))).equal(t.lastActivityTimestampMs,(e||(e=o("I64"))).zero),l=(e||(e=o("I64"))).equal(n.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE));return i&&!l&&(c||(c=o("ODS"))).bumpEntityKey(3185,"e2ee.message_request_loaded_failure","contacts_not_yet_loaded",1),i&&l}function f(e){var t=o("LSThreadBitOffset").clear(o("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4,e.capabilities5),n=o("LSThreadBitOffset").set(o("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,t[0],t[1],t[2],t[3],t[4]);return{capabilities:n[0],capabilities2:n[1],capabilities3:n[2],capabilities4:n[3],capabilities5:n[4]}}l.call=d,l.callFromMainThread=m}),226);
__d("MessagingFolderTag",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",E2EE_CUTOVER_RESTRICTED:"e2ee_cutover_restricted",INTEROP:"interop",INTEROP_PENDING:"interop_pending",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",SECRET_CONVERSATIONS:"secret_conversations",WEBCHAT_PLUGIN:"webchat_plugin",NFB_OVERFLOW:"nfb_overflow",META_AI_THREAD:"meta_ai_thread",META_AI_GROUP_SIDE_CHAT:"meta_ai_group_side_chat",META_AI_IG_GROUP_SIDE_CHAT:"meta_ai_ig_group_side_chat",UNKNOWN:""});i.default=e}),66);
__d("MAWFolderUtils",["FBLogger","I64","LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){switch(e){case o("MAWFolderTypes").PENDING:return r("MessagingFolderTag").PENDING;case o("MAWFolderTypes").OTHER:return r("MessagingFolderTag").OTHER;case o("MAWFolderTypes").SPAM:return r("MessagingFolderTag").SPAM;case o("MAWFolderTypes").ARCHIVED:return r("MessagingFolderTag").UNKNOWN;default:return r("MessagingFolderTag").INBOX}}function c(t){switch(t){case o("MAWFolderTypes").PENDING:return(e||(e=o("LSIntEnum"))).ofNumber(-101);case o("MAWFolderTypes").OTHER:return(e||(e=o("LSIntEnum"))).ofNumber(-102);case o("MAWFolderTypes").SPAM:return(e||(e=o("LSIntEnum"))).ofNumber(-103);case o("MAWFolderTypes").ARCHIVED:return(e||(e=o("LSIntEnum"))).ofNumber(-110);default:return(e||(e=o("LSIntEnum"))).ofNumber(-100)}}function d(t){switch(t){case o("MAWFolderTypes").ARCHIVED:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").ARCHIVED);case o("MAWFolderTypes").INBOX:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").INBOX);case o("MAWFolderTypes").OTHER:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").SPAM);case o("MAWFolderTypes").PENDING:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").OTHER);case o("MAWFolderTypes").RESTRICTED:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").RESTRICTED);case o("MAWFolderTypes").SPAM:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").PENDING);default:throw r("FBLogger")("messenger_web").mustfixThrow("Unhandled folder ID: "+t)}}function m(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(-1):return(e||(e=o("LSIntEnum"))).ofNumber(-101);case(e||(e=o("LSIntEnum"))).ofNumber(-2):return(e||(e=o("LSIntEnum"))).ofNumber(-102);case(e||(e=o("LSIntEnum"))).ofNumber(-3):return(e||(e=o("LSIntEnum"))).ofNumber(-103);case(e||(e=o("LSIntEnum"))).ofNumber(-10):return(e||(e=o("LSIntEnum"))).ofNumber(-110);default:return(e||(e=o("LSIntEnum"))).ofNumber(-100)}}function p(e){switch(e){case"inbox":return o("MAWFolderTypes").FOLDER_ID.INBOX;case"pending":return o("MAWFolderTypes").FOLDER_ID.PENDING;case"spam":return o("MAWFolderTypes").FOLDER_ID.SPAM;case"archived":return o("MAWFolderTypes").FOLDER_ID.ARCHIVED;case"other":return o("MAWFolderTypes").FOLDER_ID.OTHER;case"restricted":return o("MAWFolderTypes").FOLDER_ID.RESTRICTED;default:return null}}function _(e){switch((s||(s=o("I64"))).to_int32(e)){case o("MAWFolderTypes").FOLDER_ID.INBOX:return 0;case o("MAWFolderTypes").FOLDER_ID.PENDING:return-1;case o("MAWFolderTypes").FOLDER_ID.SPAM:return-3;case o("MAWFolderTypes").FOLDER_ID.ARCHIVED:return-10;case o("MAWFolderTypes").FOLDER_ID.OTHER:return-2;default:return null}}l.getMessagingFolderTag=u,l.getClientSystemFolder=c,l.systemFolderToLSCoreClientFolder=d,l.systemFolderToClientSystemFolder=m,l.folderTagToFolderId=p,l.parentThreadKeyToLsSystemFolder=_}),98);
__d("MAWRemoveCorruptedParticipantsFromOneToOneChat",["I64","ReQL","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r,a){var i=o("WAJids").extractUserId(r),l=[i];a!==i&&l.push(a);var s=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.participants).getKeyRange(n)),u=s.filter(function(t){return!l.includes((e||(e=o("I64"))).to_string(t.contactId))}).map(function(e){return e.contactId});await Promise.all(u.map(function(e){return t.participants.delete(n,e)}))}l.default=s}),98);
__d("MAWActThreadMapping",["FBLogger","I64","JSResourceForInteraction","MAWBridgeGroupInviteLoadedHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeSendAndReceive","MAWFolderTypes","MAWFolderUtils","MAWHandleActThread","MAWJids","MAWMiActMappingTableAPI","MAWMiActOnActThreadReadyQueue","MAWRemoveCorruptedParticipantsFromOneToOneChat","MAWThreadMappingQPL","MAWUserJidWrapper","MWFBLogger","ReQL","WAArrayZip","WAJids","emptyFunction","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("JSResourceForInteraction")("MAWSyncThreadDescriptionAdminMsg").__setRef("MAWActThreadMapping"),d=new Map,m=null;function p(e,t,n,a){var l=a.then(function(a){r("promiseDone")(e.runInTransaction(function(e){return y(e,f(a),n)},"readwrite",void 0,void 0,i.id+":81").catch(function(e){t.forEach(function(e){return d.delete(e)}),o("MWFBLogger").MWLogger().warn("MAWActThreadMapping","Post processing transaction not committed due to error "+e.message)}));for(var l of a)l.status==="rejected"&&d.delete(l.jid);return a},function(e){return t.forEach(function(e){return d.delete(e)}),t.map(function(t){return{jid:t,reason:r("getErrorSafe")(e).message,status:"rejected"}})});t.forEach(function(e){return d.set(e,l.then(function(t){var n=t.find(function(t){var n;return((n=t.value)==null?void 0:n.chatJid)===e||t.jid===e});if(n==null)throw o("MWFBLogger").MWLogger().tags(["MiActMapping","Occam"]).mustfixThrow("Should have thread creation result for every thread");return n}))})}function _(e){var t=new Map,n=[];return e.threads.forEach(function(e){var r=d.get(e.chatJid),a=e.instanceKey;r!=null?(a!=null&&(o("MAWThreadMappingQPL").addPoint("reuse_existing_promise_for_act_mapping",a),o("MAWThreadMappingQPL").endCancel("act_mapping_is_already_in_progress",a)),n.push(r)):t.set(e.chatJid,e)}),{cachedPromises:n,threadsToVerifyByJid:t}}function f(e){var t=new Map;return e.forEach(function(e){if(e.status==="fulfilled"){var n;t.set(e.value.chatJid,babelHelpers.extends({},e.value,{adminMsgParams:(n=e.value.adminMsgParams)!=null?n:null}))}}),t}function g(t,n){r("FBLogger")("wmi").tags(["ThreadMapping"]).INFO(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MaybeCreateOrUpdateThread: ","; ",""])),n.reason,n.threads.map(function(e){return"JID: "+e.chatJid+", key: "+e.authoritativeThreadKey+";"}).join(" ")),m==null&&(m=C(t));var a=_(n),i=a.cachedPromises,l=a.threadsToVerifyByJid;if(l.size===0)return Promise.all(i);var s=o("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkMaybeCreateOrUpdateThread",babelHelpers.extends({},n,{threads:Array.from(l.values())}));return p(t,Array.from(l.keys()),n,s),Promise.all([s].concat(i)).then(function(e){return e.flat(1)})}function h(e){var t=e.authoritativeThreadKey,n=e.description,a=e.instanceKey,i=e.jid,l=e.optimisticThreadKey;a!=null&&o("MAWMiActOnActThreadReadyQueue").logOnFlushQueue(l,t,a,n),l!=null&&r("promiseDone")(o("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((u||(u=o("I64"))).of_string(l),i,n,"clientThreadKey")),t!=null&&r("promiseDone")(o("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((u||(u=o("I64"))).of_string(t),i,n,"authoritativeThreadKey"))}async function y(e,t,n){if(n.threads.length!==0){var a=[],i=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid());await Promise.all(n.threads.map(function(l){var d=l.authoritativeThreadKey,m=l.chatJid,p=l.instanceKey,_=t.get(m);if(_==null)return Promise.resolve();var f=[],g=_.adminMsgParams,h=_.clientThreadKey,y=_.folder,C=_.isCreated,b=_.participants;r("FBLogger")("wmi").tags(["ThreadMapping"]).INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["runPostProcessing: JID: ",", clientThreadKey ",", folder: ",", isCreated: ",", participants: ",""])),_.chatJid,h,y,C,b.length),b.forEach(function(e){a.push(babelHelpers.extends({},e,{chatJid:m}))});var S=o("WAJids").switchOnMsgrChatJidType(m,{group:function(t){return!0},user:function(t){return!1}});f.push(S?o("MAWBridgeGroupInviteLoadedHandler").callFromMainThread(e,m,i):o("MAWBridgeOneToOneMessageRequestLoadedHandler").callFromMainThread(e,m));var R=o("WAJids").interpretAsUserJid(m);return R!=null&&f.push(r("MAWRemoveCorruptedParticipantsFromOneToOneChat")(e,(u||(u=o("I64"))).of_string(d),R,i)),C||f.push(v(e,d,y!=null?y:o("MAWFolderTypes").FOLDER_ID.INBOX)),g!=null&&f.push(c.load().then(function(t){return t(e,m,d,g)})),Promise.all(f).then(function(){var t;return o("MAWHandleActThread").handleActThreadWhenAuthoritativeInMI(e,{authoritativeThreadKey:d,description:(t=n.reason)!=null?t:"bulkCreateThreadWithoutAfterTxn",instanceKey:p,jid:m,optimisticThreadKey:h})})})),await o("MAWBridgeParticipantsUpdatedHandler").callFromMainThread(e,a)}}function C(e){return o("MAWMiActMappingTableAPI").subscribeToMappingDeletion(e,function(e,t){var n=o("MAWJids").convertIntJidToOneToOneChatJid(e);d.has(n)&&d.delete(n);var r=o("MAWJids").convertIntJidToGroupJid(e);d.has(r)&&d.delete(r)})}function b(e,t){d.clear(),o("WAArrayZip").zip(e,t).forEach(function(e){var t=e[0],n=e[1];return d.set(t,new Promise(function(e,t){return e(n)}))})}function v(e,t,n){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange((u||(u=o("I64"))).of_string(t))).then(function(t){if(t!=null){var r=o("MAWFolderUtils").getMessagingFolderTag(n),a=r==="inbox"?void 0:t.cannotReplyReason;return e.threads.put(babelHelpers.extends({},t,{cannotReplyReason:a}))}}).then(r("emptyFunction"))}l.bulkVerifyThreadExistsInWorker=g,l.executePromisesBlockedOnActThreadMapping=h,l.setCache_TEST_ONLY=b}),98);
__d("MAWLoadThreadFromMI",["LSAuthorityLevel","LSFactory","LSIntEnum","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,i,l){var s=r("LSAuthorityLevel").AUTHORITATIVE;return i!=null&&o("MAWThreadMappingQPL").addAnnotations({int:{sprocAuthLevel:s,sprocThreadType:a}},i),o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("verify_thread_exists",i,function(){return o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(t),{authorityLevel:(e||(e=o("LSIntEnum"))).ofNumber(s),threadKey:n,threadType:e.ofNumber(a)},l).then(function(e){var t=e[0];return t})})}l.default=s}),98);
__d("MAWHandleActThread",["FBLogger","I64","LSFactory","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWJids","MAWLoadThreadFromMI","MAWThreadLoadingState","MAWThreadMappingQPL","Promise","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){return o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",n,function(){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:o("MAWJids").convertChatJidToIntJid(t)})})}function c(e,t){var n=t.description,o=t.instanceKey,a=t.isGroup,i=t.threadKey,l=a?16:15;return r("MAWLoadThreadFromMI")(e,i,l,o,n).then(function(e){e!==i&&r("FBLogger")("messenger_web").warn("[MAWLoadThreadFromMI] Unexpected thread key change when loading from MI")})}function d(t,r){var a=r.description,i=r.instanceKey,l=r.jid,c=r.optimisticThreadKey;i!=null&&o("MAWThreadMappingQPL").addPoint("handle_act_thread_optimistic_start",i),o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:null,description:a,instanceKey:i,jid:l,optimisticThreadKey:c});var d=(s||(s=o("I64"))).of_string(c);return(e||(e=n("Promise"))).all([u(t,l,i),o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(t,{jid:l,threadKey:d},i),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").insertEphemeralCache(t,d,l,i)]).then(function(){if(i!=null)return o("MAWThreadMappingQPL").addPoint("handle_act_thread_optimistic_end",i),o("MAWThreadMappingQPL").end({instanceKey:i,intJid:o("MAWJids").convertChatJidToIntJid(l),tables:t,threadKey:d})})}function m(t,r){var a=r.authoritativeThreadKey,i=r.description,l=r.instanceKey,u=r.jid,d=r.optimisticThreadKey;l!=null&&o("MAWThreadMappingQPL").addPoint("handle_act_thread_authoritative_start",l);var m=o("WAJids").switchOnMsgrChatJidType(u,{group:function(t){return!0},user:function(t){return!1}});o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:a,description:i,instanceKey:l,jid:u,optimisticThreadKey:d});var p=(s||(s=o("I64"))).of_string(a);return o("MAWThreadLoadingState").genLoadingStateFromJid(t,u).then(function(r){return(e||(e=n("Promise"))).all([!o("MAWThreadLoadingState").isMiReady(r)&&c(t,{description:i,instanceKey:l,isGroup:m,threadKey:p}),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").attachLocalMetadata(t,p,{clientThreadKey:d,isGroup:m}),d!=null&&o("MAWBridgeOccamadilloVerifyThreadExistsHandler").ensureOptimisticThreadIsHidden(t,p,(s||(s=o("I64"))).of_string(d)),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").insertEphemeralCache(t,p,u,l),o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(t,{jid:u,threadKey:p},l)])}).then(function(){if(l!=null)return o("MAWThreadMappingQPL").addPoint("handle_act_thread_authoritative_end",l),o("MAWThreadMappingQPL").end({instanceKey:l,intJid:o("MAWJids").convertChatJidToIntJid(u),tables:t,threadKey:p})})}l.handleActThreadWhenOptimisticInMI=d,l.handleActThreadWhenAuthoritativeInMI=m}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(){return r("qex")._("327")===!0?!0:r("qex")._("121")===!0}function m(e){return d()?o("LSBitOffset").set((c||(c=o("LSIntEnum"))).ofNumber(42),e):e}function p(e){return o("LSBitOffset").set((c||(c=o("LSIntEnum"))).ofNumber(4),e)}var _=(e=o("LSBitOffset")).set((c||(c=o("LSIntEnum"))).ofNumber(18),o("LSBitOffset").set(c.ofNumber(56),o("LSBitOffset").set(c.ofNumber(14),o("LSBitOffset").set(c.ofNumber(23),o("LSBitOffset").set(c.ofNumber(8),o("LSBitOffset").set(c.ofNumber(15),o("LSBitOffset").set(c.ofNumber(2),o("LSBitOffset").empty))))))),f=m(p(o("LSBitOffset").set(c.ofNumber(7),o("LSBitOffset").set(c.ofNumber(6),o("LSBitOffset").set(c.ofNumber(9),o("LSBitOffset").set(c.ofNumber(10),o("LSBitOffset").set(c.ofNumber(19),o("LSBitOffset").set(c.ofNumber(35),o("LSBitOffset").set(c.ofNumber(3),o("LSBitOffset").set(c.ofNumber(43),_)))))))))),g=o("LSBitOffset").set(c.ofNumber(17),o("LSBitOffset").set(c.ofNumber(60),o("LSBitOffset").set(c.ofNumber(16),o("LSBitOffset").set(c.ofNumber(26),o("LSBitOffset").set(c.ofNumber(28),o("LSBitOffset").clear(c.ofNumber(27),f)))))),h=o("LSBitOffset").set((u||(u=o("I64"))).sub(c.ofNumber(103),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(85),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(109),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(74),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(65),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(64),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(106),u.of_string("64")),o("LSBitOffset").empty))))))),y=s._(/*BTDS*/"Messages are secured with end-to-end encryption.").toString(),C=o("LSBitOffset").set(u.sub(c.ofNumber(172),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(170),u.of_string("64")),o("LSBitOffset").empty));l.defaultThreadCapabilities=f,l.defaultGroupThreadCapabilities=g,l.defaultThreadCapabilities_2=h,l.nullstateDescriptionText1=y,l.defaultThreadCapabilities_3=C,l.defaultThreadCapabilities_4=o("LSBitOffset").empty,l.defaultThreadCapabilities_5=o("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["I64","LSAuthorityLevel","LSFactory","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWActThreadMapping","MAWBridgeFireAndForget","MAWJids","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActThreadLifecycleState__DO_NOT_USE","MAWThreadDefaults","MAWThreadLoadingState","MAWThreadMappingQPL","MWFBLogger","WATimeUtils","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=["cannotReplyReason","folder","lastReadTs"],s,u,c=o("MWFBLogger").MWLogger().tags(["Occam","VerifyThreadExists"]),d=r("gkx")("16094")?[105,17,25,24,61,267,27]:[105,17,25,24,61,267];function m(e,t){var n=d.filter(function(t){return o("LSThreadBitOffset").has(t,e)});return o("LSThreadBitOffset").set(n,t?o("MAWThreadDefaults").defaultGroupThreadCapabilities:o("MAWThreadDefaults").defaultThreadCapabilities,o("MAWThreadDefaults").defaultThreadCapabilities_2,o("MAWThreadDefaults").defaultThreadCapabilities_3,o("MAWThreadDefaults").defaultThreadCapabilities_4,o("MAWThreadDefaults").defaultThreadCapabilities_5)}async function p(e,t,n){var r=await e.threads.get(t);if(r==null)return c.mustfix("Thread missing in verify thread exists"),Promise.resolve();var a=n.clientThreadKey!=null?(u||(u=o("I64"))).of_string(n.clientThreadKey):r.clientThreadKey,i=m(r,n.isGroup);return e.threads.upsert([t],babelHelpers.extends({},r,{capabilities:i[0],capabilities2:i[1],capabilities3:i[2],capabilities4:i[3],capabilities5:i[4],clientThreadKey:a}))}async function _(e,t,n,r){await Promise.all([o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(e,{intJid:n,threadKey:t},r.instanceKey),g(e,t,r)])}async function f(e,t,n){(u||(u=o("I64"))).equal(t,n)||await e.threads.delete(n)}async function g(e,t,n){var r=n.clientThreadKey,a=n.instanceKey,i=n.isGroup;await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("handle_existing_thread",a,function(){return Promise.all([p(e,t,{clientThreadKey:r,isGroup:i}),r!=null&&f(e,t,(u||(u=o("I64"))).of_string(r))])})}async function h(e,t){var n=t.authoritativeThreadKey,a=t.clientThreadKey,i=t.instanceKey,l=t.intJid;i!=null&&o("MAWThreadMappingQPL").allowToSkipUpgradingOptimisticThreadInMI(i);var s=n!=null?n:a;s!=null&&(await o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(e,{intJid:l,threadKey:(u||(u=o("I64"))).of_string(s)},i),await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",i,function(){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:l})}))}async function y(e,t,n){var a=await e.threads.get(t);a!=null&&(u||(u=o("I64"))).to_int32(a.authorityLevel)===r("LSAuthorityLevel").AUTHORITATIVE?await g(e,t,n):n.instanceKey!=null&&o("MAWThreadMappingQPL").handleExistingThreadFail(n.instanceKey,a),a==null&&c.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Authoritative thread not found for clientThreadKey: ",""])),n.clientThreadKey)}async function C(e,t){var n=t.authoritativeThreadKey,r=t.clientThreadKey,a=t.description,i=t.instanceKey,l=t.isGroup,s=t.jid,u=o("MAWJids").convertChatJidToIntJid(s),d=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJidOrThreadKey(e,u,n,"MAWBridgeOccamadilloVerifyThreadExistsHandler");switch(i!=null&&o("MAWThreadMappingQPL").addAnnotations({string:{threadStateInOccamVTE:d.type.toString()}},i),d.type){case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.THREAD_KEY_ONLY:return h(e,{authoritativeThreadKey:n,clientThreadKey:r,instanceKey:i,intJid:u}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:return _(e,d.serverThreadKey,u,{clientThreadKey:r,instanceKey:i,isGroup:l}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:return y(e,d.serverThreadKey,{clientThreadKey:r,instanceKey:i,isGroup:l}).then(function(){return{previousState:d.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c.mustfixThrow("[Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",d.type,s,a);default:throw d.type,c.mustfixThrow("Unhandled VerifyThreadExists state: %s for JID: %s, from %s",d.type,s,a)}}async function b(e,t,n,r){await o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("insert_ephemeral_cache",r,async function(){var r=await e.threads.get(t);if(r!=null){var a,i,l={ephemeralExpirationInSec:(u||(u=o("I64"))).to_int32((a=r.disappearingSettingTtl)!=null?a:(u||(u=o("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:o("WATimeUtils").castMilliSecondsToUnixTime(u.to_float((i=r.disappearingSettingUpdatedTs)!=null?i:(u||(u=o("I64"))).zero))};o("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:n,settings:l})}})}async function v(t,n){var r=n.cannotReplyReason,a=n.folder,i=n.lastReadTs,l=babelHelpers.objectWithoutPropertiesLoose(n,e),s=l.authoritativeThreadKey,c=l.clientThreadKey,d=l.description,m=l.instanceKey,p=l.jid;m!=null&&o("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_start",m);var _=await C(t,l),f=_.previousState;o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:s,description:d,instanceKey:m,jid:p,optimisticThreadKey:c});var g=s!=null?s:c,h=g!=null?(u||(u=o("I64"))).of_string(g):null;if(h!=null&&f!==o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE&&await b(t,h,p,m),m!=null){o("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_end",m);var y=o("MAWJids").convertChatJidToIntJid(l.jid);o("MAWThreadMappingQPL").pendingThreadCreationOnServer.has((u||(u=o("I64"))).to_string(y))||await o("MAWThreadMappingQPL").end({instanceKey:m,intJid:y,tables:t,threadKey:h})}}l.attachLocalMetadata=p,l.ensureOptimisticThreadIsHidden=f,l.genUpdatesForAuthoritativeThread=g,l.insertEphemeralCache=b,l.call=v}),98);
__d("WMIWABridgeApi",["MAWBridgeSendAndReceive"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o("MAWBridgeSendAndReceive").sendAndReceive("backend","waapi",{args:n,type:e})}}var s={debugGetSignalDbDump:e("debugGetSignalDbDump"),getCurrentUserDeviceList:e("getCurrentUserDeviceList"),getDevices:e("getDevices"),getIdentityKeys:e("getIdentityKeys"),queryGroups:e("queryGroups"),removeCurrentDevice:e("removeCurrentDevice"),removeDevice:e("removeDevice")},u=s;l.default=u}),98);
__d("MAWCreateOneToOneThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","MAWBridgeSendAndReceive","MAWHandleActThread","MAWJids","MAWMiActMappingTableAPI","MAWThreadLoadingState","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils","QPLUserFlow","WMIWABridgeApi","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=["instanceKey"],s,u;function c(e,t,n,r){if(t!=null)return t;var a=n!=null?(s||(s=o("I64"))).of_string(n):void 0,i=o("MAWThreadMappingQPL").getInstanceKeyForThreadKey(a!=null?a:(s||(s=o("I64"))).zero);return o("MAWThreadMappingQPL").start({instanceKey:i,jid:e,threadKey:a,trigger:"MAWCreateOneToOneThread_"+r}),i}async function d(e,t,n){var a=await o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(e),{authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),threadType:u.ofNumber(15)},"MAWCreateOneToOneThread"),i=a[0];if(r("gkx")("17734")){var l=await e.threads.get(i);l==null?r("FBLogger")("maw_one_to_one_thread_creation").mustfix("No thread written to threads table"):await e.threads.upsert([i],babelHelpers.extends({},l,{clientThreadKey:i}))}var c=await y(e,t);return c===!0&&(o("MAWThreadMappingQPL").addPoint("insert_placeholder_mapping_row",n),await o("MAWThreadLoadingState").markActThreadLoadingAsInProgress(e,i,o("MAWJids").convertChatJidToIntJid(t))),(s||(s=o("I64"))).to_string(i)}async function m(e){var t=e.db,n=e.description,r=e.existingInstanceKey,a=e.jid,l=e.optimisticThreadKey,s=await f(t.tables,a);if(s!=null)return{skippedOrFailedResult:babelHelpers.extends({},s,{jid:a})};var u=c(a,r,l,n),m=t.runInTransaction(function(e){return d(e,a,u)},"readwrite",void 0,void 0,i.id+":159"),p=await(l!=null?Promise.resolve(l):o("MAWThreadMappingQPL").measurePerformance("running_verify_thread_exists",u,function(){return m}));return{instanceKey:u,passedOptimisticThreadKey:p}}function p(e){var t=e.db,n=e.description,r=e.existingInstanceKey,a=e.jid,l=e.optimisticThreadKey;return t.runInTransaction(async function(e){var t=await f(e,a);if(t!=null)return{skippedOrFailedResult:babelHelpers.extends({},t,{jid:a})};var i=c(a,r,l,n),s=await(l!=null?Promise.resolve(l):o("MAWThreadMappingQPL").measurePerformance("running_verify_thread_exists",i,function(){return d(e,a,i)}));return{instanceKey:i,passedOptimisticThreadKey:s}},"readwrite",void 0,void 0,i.id+":182").catch(function(){return{skippedOrFailedResult:{isCreated:!1,jid:a}}})}async function _(e,t,n,a,i,l){var u=o("MAWJids").convertIntJidToOneToOneChatJid(t),c={db:e,description:a,existingInstanceKey:l,jid:u,optimisticThreadKey:n},d=await(r("gkx")("17734")?p(c):m(c));if(d.skippedOrFailedResult!=null)return d.skippedOrFailedResult;var _=d.instanceKey,f=d.passedOptimisticThreadKey,g=(s||(s=o("I64"))).to_string(t),y=function(n){i!=null&&r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"verify-e2ee-metadata-thread-exists-end",{instanceKey:i});var t={contactFbid:g,description:a,instanceKey:_,s2sInstanceKey:i,threadKey:n},l=h(e,u,a,t);return Promise.all([l,r("WMIWABridgeApi").getDevices({ignoreDhash:!1,reason:"creating-1-1-thread: "+a,users:new Set().add(o("MAWJids").toUserJid(g))})]).then(function(e){var t=e[0].isCreated;return t})};return y(f).then(function(e){return{isCreated:e,jid:u}})}async function f(e,t){var n=await o("MAWThreadLoadingState").genLoadingStateFromJid(e,t);if(n.miState!==o("MAWThreadLoadingState").MiState.MISSING)return{isCreated:!1}}function g(e,t,n){return o("MAWMiActMappingTableAPI").getMappingRowForChatJid(e,n).then(function(r){return r!=null&&o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(e,{jid:n,threadKey:(s||(s=o("I64"))).of_string(t)})})}function h(t,n,r,a){var l=a.instanceKey,s=babelHelpers.objectWithoutPropertiesLoose(a,e);return o("MAWThreadMappingQPL").measurePerformance("maw_create_thread",l,function(){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","createOrUpdateThread",s)}).then(function(e){var a=e.created;return t.runInTransaction(function(e){return o("MAWHandleActThread").handleActThreadWhenOptimisticInMI(e,{description:r,instanceKey:l,jid:n,optimisticThreadKey:s.threadKey}).then(function(){return g(e,s.threadKey,n).then(function(){return{isCreated:a}})})},"readwrite",void 0,void 0,i.id+":337")})}async function y(e,t){var n=await o("MAWMiActMappingTableAPI").getMappingRowForChatJid(e,t);return n==null}l.call=_}),98);
__d("MAWUpdateSecureThreadAttributionForContact",["I64","LSContactListConversionAttributionStore","LSThreadAttributionStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){c(e,t),u(e,t)}function u(t,n){var r=o("LSContactListConversionAttributionStore").getAttribution((e||(e=o("I64"))).to_string(t));r!=null&&o("LSContactListConversionAttributionStore").setAttribution((e||(e=o("I64"))).to_string(n),r)}function c(t,n){var r=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(e||(e=o("I64"))).to_string(t));r.value!=="unknown"&&(r.type==="LSThreadAttribution"?o("LSThreadAttributionStore").setLSMessagingThreadAttribution((e||(e=o("I64"))).to_string(n),e.to_string(r.value)):o("LSThreadAttributionStore").setSource((e||(e=o("I64"))).to_string(n),r.value))}l.maybeUpdateSecureThreadAttributionForContact=s,l.maybeUpdateLSContactListConversionAttributionStoreSecureThreadAttributionForContact=u,l.maybeUpdateLSThreadAttributionStoreSecureThreadAttributionForContact=c}),98);
__d("MAWChatOpenTabForUser",["I64","LSDatabaseSingleton","LSIntEnum","MAWCreateOneToOneThread","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMiActThreadLifecycleState__DO_NOT_USE","MAWUpdateSecureThreadAttributionForContact","MWChatInteraction","MWChatStateActions","MWChatStateV2Types","dispatchOpenChatTabTraceLogging","isOfflineThreadingId"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){if(t.type===o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE||t.type===o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY){var n=t.serverThreadKey;return r("isOfflineThreadingId")(n)?{existingThreadKey:n,reason:"otid",type:"continue"}:(e||(e=o("I64"))).le(n,(e||(e=o("I64"))).zero)?{reason:"negative",type:"continue"}:{existingThreadKey:n,type:"skipped"}}return{existingThreadKey:t.serverThreadKey,type:"continue"}}async function d(t,n,r){var a=await(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r==null||r.addMarkerPoint("create_one_to_one_secure_thread_start","AppTiming");var l=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(a.tables,(e||(e=o("I64"))).of_string(t),n),u=l.type;u!=null&&(r==null||r.addAnnotation("mi_act_thread_state_type_before",u));var d=await c(l);if(d.type==="skipped")return r==null||r.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming"),{dispatchEntrypoint:"MAWChatOpenTabForUser_skipped_create_thread",threadKey:d.existingThreadKey};d.reason!=null&&(r==null||r.addAnnotation("invalid_server_thread_key_in_mawchatopentabforuser_check",d.reason));var m=await o("MAWCreateOneToOneThread").call(a,e.of_string(t),void 0,"MAWChatOpenTabForUser: "+n),p=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(a.tables,e.of_string(t),n),_=p.type;_!=null&&(r==null||r.addAnnotation("mi_act_thread_state_type_after",_)),r==null||r.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming");var f=await a.runInTransaction(function(e){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJid__DO_NOT_USE(e,m.jid,"MAWChatOpenTabForUser",function(e,t){return Promise.resolve(t)})},"readonly",void 0,void 0,i.id+":147");return{clientThreadKey:f,threadKey:f}}function m(t,n,a,i,l){var s=function(s){var i=s.clientThreadKey,c=s.dispatchEntrypoint,d=s.threadKey;o("MWChatInteraction").set((e||(e=o("I64"))).to_string(d),l.getTraceId()),o("MAWUpdateSecureThreadAttributionForContact").maybeUpdateSecureThreadAttributionForContact(e.of_string(t),d);var m={clientThreadKey:i,threadKey:d,threadType:(u||(u=o("LSIntEnum"))).ofNumber(15)};r("dispatchOpenChatTabTraceLogging")(l,m,c),a(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:!n},{threadKeyDescriptor:m,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab}))};l.addMarkerPoint("MAWChatOpenTabForUser_getThreadKeyByContactId_start","AppTiming"),d(t,i,l).then(function(e){var t=e.clientThreadKey,n=e.dispatchEntrypoint,r=e.threadKey;l.addMarkerPoint("MAWChatOpenTabForUser_getThreadKeyByContactId_end","AppTiming"),s({clientThreadKey:t,dispatchEntrypoint:n!=null?n:"MAWChatOpenTabForUser",threadKey:r})})}l.getThreadKeyByContactId=d,l.openChatTab=m}),98);
__d("MWV2OnAuthoritativeThreadInsert",["I64","LSAuthorityLevel","LSIntEnum","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){var i=t[0],l=o("ReQL").fromTableAscending(n.tables.threads.index("clientThreadKey")).getKeyRange(i).subscribe(function(t,n){if(n.operation!=="delete"){var i=n.value;if((e||(e=o("I64"))).equal(i.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return a(i),l()}})}l.onAuthoritativeThreadInsert=u}),98);/*FB_PKG_DELIM*/
__d("isStringNullOrWhitespaceOnly",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==null||e.trim()===""}i.default=e}),66);
__d("MAWMemoriesShareXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(t,n,r,o,a,i,l,s){"use strict";var e=function(){return s._(/*BTDS*/"You sent a memory")},u=function(t){return r("isStringNullOrWhitespaceOnly")(t)?s._(/*BTDS*/"This user sent a memory"):s._(/*BTDS*/"{user_name} sent a memory",[s._param("user_name",t)])};l.getCurrentUserSendMemoriesShareSnippetFbt=e,l.getParticipantSendMemoriesShareSnippetFbt=u}),226);
__d("MAWPostMentionXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(t,n,r,o,a,i,l,s){"use strict";var e=function(t){return r("isStringNullOrWhitespaceOnly")(t)?s._(/*BTDS*/"You tagged this user in your post"):s._(/*BTDS*/"You tagged {user_name} in your post",[s._param("user_name",t)])},u=function(t){return r("isStringNullOrWhitespaceOnly")(t)?s._(/*BTDS*/"This user tagged you in their post"):s._(/*BTDS*/"{user_name} tagged you in their post",[s._param("user_name",t)])};l.getCurrentUserSendPostMentionSnippetFbt=e,l.getParticipantSendPostMentionSnippetFbt=u}),226);
__d("getMAWLocalizedBumpMsgReplySnippet",["fbt","FBLogger"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t,n){switch(e){case"currentUserBumpedOwnMessage":return s._(/*BTDS*/"You bumped your message");case"currentUserBumpedMessage":return n!=null?s._(/*BTDS*/"You bumped {name}'s message",[s._param("name",n)]):s._(/*BTDS*/"You bumped a message");case"participantBumpedCurrentUserMessage":return s._(/*BTDS*/"{sender_name} bumped your message",[s._param("sender_name",t)]);case"participantBumpedOwnMessage":return s._(/*BTDS*/"{name} bumped their message",[s._param("name",t)]);case"participantBumpedParticipantMessage":return n!=null?s._(/*BTDS*/"{sender_name} bumped {reply_source_sender_name}'s message",[s._param("sender_name",t),s._param("reply_source_sender_name",n)]):s._(/*BTDS*/"{user_name} bumped a message",[s._param("user_name",t)]);default:return r("FBLogger")("messenger_web").mustfix("unexpected bump type %s",e),""}}l.default=e}),226);
__d("getMAWLocalizedFallbackMsgSnippet",["fbt","FBLogger"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){switch(e){case"userSendEncryptedMessage":return s._(/*BTDS*/"Waiting for this message. This might take a while.");case"currentUserSendUnrenderableMessage":return s._(/*BTDS*/"You sent a message but this browser can't show it.");case"participantSendUnrenderableMessage":return s._(/*BTDS*/"You received a message but this browser can't show it.");case"currentUserSendLiveLocationFallback":return s._(/*BTDS*/"You sent a live location. Use the Messenger mobile app to see it.");case"currentUserSendLocationFallback":return s._(/*BTDS*/"You sent a pinned location. Use the Messenger mobile app to see it.");case"participantSendLiveLocation":return s._(/*BTDS*/"You received a live location. Use the Messenger mobile app to see it.");case"participantSendLocation":return s._(/*BTDS*/"You received a pinned location. Use the Messenger mobile app to see it.");case"currentUserSendPollCreationFallback":return s._(/*BTDS*/"You sent a poll. Use the Messenger mobile app to see it.");case"participantSendPollCreation":return s._(/*BTDS*/"You received a poll. Use the Messenger mobile app to see it.");case"currentUserSendContactShareFallback":return s._(/*BTDS*/"You sent a contact card. Use the Messenger mobile app to see it.");case"participantSendContactShareFallback":return s._(/*BTDS*/"You received a contact card. Use the Messenger mobile app to see it.");case"currentUserSendStoryMentionFallback":return s._(/*BTDS*/"You sent a story mention. Use the Messenger mobile app to see it.");case"participantSendStoryMentionFallback":return s._(/*BTDS*/"You received a story mention. Use the Messenger mobile app to see it.");case"currentUserSendPostMentionFallback":return s._(/*BTDS*/"You sent a post mention. Use the Messenger mobile app to see it.");case"participantSendPostMentionFallback":return s._(/*BTDS*/"You received a post mention. Use the Messenger mobile app to see it.");case"currentUserSendNoteMentionFallback":return s._(/*BTDS*/"You mentioned someone in your note. Use the Messenger mobile app to see it.");case"participantSendNoteMentionFallback":return s._(/*BTDS*/"Someone mentioned you in their note. Use the Messenger mobile app to see it.");case"messengerMemoryEncryptedMessageFallback":return s._(/*BTDS*/"To see this memory, open the Messenger app on your phone.");case"metaAISendMessageFallback":return s._(/*BTDS*/"You received a message from Meta AI. Use the Messenger mobile app to see it.");case"currentUserSendBumpMessageFallback":return s._(/*BTDS*/"You sent a bumped message. Use the Messenger mobile app to see it.");case"participantSendBumpMessageFallback":return s._(/*BTDS*/"You received a bumped message. Use the Messenger mobile app to see it.");case"participantSendStickerReceiverFetchMessageFallback":return s._(/*BTDS*/"You received a sticker. Use the Messenger mobile app to see it.");case"currentUserSendStickerReceiverFetchMessageFallback":return s._(/*BTDS*/"You sent a sticker. Use the Messenger mobile app to see it.");case"userSendUnavailableMessage":return s._(/*BTDS*/"Message sent before this device was added to this conversation. This message cannot be delivered.");case"participantSendBumpMessageOriginalUnavailable":return s._(/*BTDS*/"Message unavailable.");case"unavailableStory":return s._(/*BTDS*/"Story unavailable");case"viewOncePhotoMessageFallback":return s._(/*BTDS*/"This photo can only be viewed once. Use the mobile app to view.");case"viewOnceVideoMessageFallback":return s._(/*BTDS*/"This video can only be viewed once. Use the mobile app to view.");case"rtcXMAMessageFallback":return s._(/*BTDS*/"To see this call notification message, open the Messenger app on your phone.");default:return r("FBLogger")("messenger_web").mustfix("unexpected content fallback type %s",e),""}}l.default=e}),226);
__d("MAWAdminMsg",["fbt","MAWLocalizationType","MAWMemoriesShareXMASnippetFbt","MAWPostMentionXMASnippetFbt","getMAWLocalizedBumpMsgReplySnippet","getMAWLocalizedFallbackMsgSnippet"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t,n){switch(n){case o("MAWLocalizationType").LOCALIZATION_TYPE.EMPTY_SNIPPET:return"";case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP:return s._(/*BTDS*/"You created this group").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP:return s._(/*BTDS*/"{actor} created this group",[s._param("actor",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP:return s._(/*BTDS*/"This group was created.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:return s._(/*BTDS*/"You named the group {custom group name}.",[s._param("custom group name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:return s._(/*BTDS*/"The group name was set to {custom group name}.",[s._param("custom group name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:return s._(/*BTDS*/"{actor} named the group {custom group name}.",[s._param("actor",t[0]),s._param("custom group name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:return s._(/*BTDS*/"You added a new device to this conversation.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:return s._(/*BTDS*/"{actor} added a new device to this conversation.",[s._param("actor",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:return s._(/*BTDS*/"You removed a device from this conversation.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:return s._(/*BTDS*/"{actor} removed a device from this conversation.",[s._param("actor",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:return s._(/*BTDS*/"Your key has changed.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:return s._(/*BTDS*/"{user_name}'s key has changed.",[s._param("user_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:return s._(/*BTDS*/"You added {user_name} to the group. They can only see messages sent after they were added.",[s._param("user_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:return s._(/*BTDS*/"You added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[s._param("user_name_1",t[0]),s._param("user_name_2",t[1])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:return s._(/*BTDS*/"You added {user_name} and {number of participants} others to the group. They can only see messages sent after they were added.",[s._param("user_name",t[0]),s._param("number of participants",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:return s._(/*BTDS*/"{actor} added you to the group. You can only see messages sent after you were added.",[s._param("actor",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:return s._(/*BTDS*/"{actor} added you and {user_name} to the group. You can only see messages sent after you were added.",[s._param("actor",t[0]),s._param("user_name",t[1])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:return s._(/*BTDS*/"{actor} added you and {number of participants} others to the group. You can only see messages sent after you were added.",[s._param("actor",t[0]),s._param("number of participants",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:return s._(/*BTDS*/"{actor} added {user_name} to the group. They can only see messages sent after they were added.",[s._param("actor",t[0]),s._param("user_name",t[1])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:return s._(/*BTDS*/"{actor} added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[s._param("actor",t[0]),s._param("user_name_1",t[1]),s._param("user_name_2",t[2])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:return s._(/*BTDS*/"{actor} added {user_name_1} and {number of participants} others to the group. They can only see messages sent after they were added.",[s._param("actor",t[0]),s._param("user_name_1",t[1]),s._param("number of participants",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:return s._(/*BTDS*/"You removed {user_name} from the group.",[s._param("user_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:return s._(/*BTDS*/"{user_name_1} removed you from the group.",[s._param("user_name_1",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:return s._(/*BTDS*/"{user_name_1} removed {user_name_2} from the group.",[s._param("user_name_1",t[0]),s._param("user_name_2",t[1])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:return s._(/*BTDS*/"{name} left the group.",[s._param("name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP:return s._(/*BTDS*/"You left the group.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:return s._(/*BTDS*/"{user_name} is now an admin.",[s._param("user_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:return s._(/*BTDS*/"{user_name} is no longer an admin.",[s._param("user_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED:return s._(/*BTDS*/"You are now an admin.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED:return s._(/*BTDS*/"You are no longer an admin.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:return s._(/*BTDS*/"{actor} added you as a group admin.",[s._param("actor",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:return s._(/*BTDS*/"{actor} removed you as a group admin.",[s._param("actor",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:return s._(/*BTDS*/"{actor} added {target} as a group admin.",[s._param("actor",t[0]),s._param("target",t[1])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:return s._(/*BTDS*/"{actor} removed {target} as a group admin.",[s._param("actor",t[0]),s._param("target",t[1])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:return s._(/*BTDS*/"You removed {target} as a group admin.",[s._param("target",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:return s._(/*BTDS*/"You added {target} as a group admin.",[s._param("target",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:return s._(/*BTDS*/"{actor} removed themself as a group admin.",[s._param("actor",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED:return s._(/*BTDS*/"You removed yourself as a group admin.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return s._(/*BTDS*/"You").toString()+": "+e[0];case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:return e[0];case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:return t[0]+": "+e[0];case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_IMAGE:return s._(/*BTDS*/"You sent a photo.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_VIDEO:return s._(/*BTDS*/"You sent a video.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AUDIO:return s._(/*BTDS*/"You sent a voice message.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_GIF:return s._(/*BTDS*/"You sent a GIF.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER:return s._(/*BTDS*/"You sent a sticker.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_ATTACHMENT:return s._(/*BTDS*/"You sent an attachment.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_POST:return s._(/*BTDS*/"You sent a post").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL:return s._(/*BTDS*/"You sent a reel").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY:return s._(/*BTDS*/"You sent a story.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AI_CONTACT_SHARE:return s._(/*BTDS*/"You sent a contact card.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT:return s._(/*BTDS*/"You sent an event.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT:return s._(/*BTDS*/"You sent a story highlight").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG:return s._(/*BTDS*/"You mentioned \u0040{user} in your story.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG:return s._(/*BTDS*/"Mentioned you in their story").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION:return s._(/*BTDS*/"You mentioned this user in your story").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION:return s._(/*BTDS*/"{user} mentioned you in their story",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE:return s._(/*BTDS*/"{user} sent a photo.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO:return s._(/*BTDS*/"{user} sent a video.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO:return s._(/*BTDS*/"{user} sent a voice message.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF:return s._(/*BTDS*/"{user} sent a GIF.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER:return s._(/*BTDS*/"{user} sent a sticker.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_POST:return s._(/*BTDS*/"Sent a post").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL:return s._(/*BTDS*/"Sent a reel").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT:return s._(/*BTDS*/"{user} sent an attachment.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION:return o("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(t[1]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION:return o("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(t[0]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION:return s._(/*BTDS*/"You sent a location.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION:return s._(/*BTDS*/"{user} sent a location.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY:return s._(/*BTDS*/"{user} sent a story.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AI_CONTACT_SHARE:return s._(/*BTDS*/"{user} sent a contact card.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT:return s._(/*BTDS*/"{user} sent an event.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT:return s._(/*BTDS*/"Sent a story highlight").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET:return s._(/*BTDS*/"Unavailable message").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.MESSAGE_UNAVAILABLE_SNIPPET:return s._(/*BTDS*/"Message unavailable").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED:return s._(/*BTDS*/"You can now message and call each other and see info like active status and when you have read messages.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT:return s._(/*BTDS*/"You can now message and call each other.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.REACHABILITY_ERROR:return s._(/*BTDS*/"This account can't receive your message because they don't allow new message requests from everyone.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return s._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 second after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return s._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 minute after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return s._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} hours after they're sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 hour after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return s._(/*BTDS*/"_j{\"*\":\"Disappearing messages were turned on. Messages will disappear {number} days after they're sent.\",\"_1\":\"Disappearing messages were turned on. Messages will disappear 1 day after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return s._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 second after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return s._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 minute after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return s._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} hours after they're sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 hour after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return s._(/*BTDS*/"_j{\"*\":\"You turned on disappearing messages. Messages will disappear {number} days after they're sent.\",\"_1\":\"You turned on disappearing messages. Messages will disappear 1 day after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return s._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 second after they're sent.\"}",[s._plural(parseInt(e[0],10),"number"),s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return s._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 minute after they're sent.\"}",[s._plural(parseInt(e[0],10),"number"),s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return s._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} hours after they're sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 hour after they're sent.\"}",[s._plural(parseInt(e[0],10),"number"),s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return s._(/*BTDS*/"_j{\"*\":\"{user} turned on disappearing messages. Messages will disappear {number} days after they're sent.\",\"_1\":\"{user} turned on disappearing messages. Messages will disappear 1 day after they're sent.\"}",[s._plural(parseInt(e[0],10),"number"),s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return s._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 second after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return s._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 minute after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return s._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} hours after they're sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 hour after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return s._(/*BTDS*/"_j{\"*\":\"Disappearing messages were changed. Messages will disappear {number} days after they're sent.\",\"_1\":\"Disappearing messages were changed. Messages will disappear 1 day after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:return s._(/*BTDS*/"New messages and calls are secured with end-to-end encryption. Only people in this chat can read, listen to, or share them.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return s._(/*BTDS*/"Your other chat has been archived.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return s._(/*BTDS*/"Instagram upgraded the security of this chat. Messages and calls will be secured with end-to-end encryption.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return s._(/*BTDS*/"Previous messages may be in your other chat.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return s._(/*BTDS*/"An unrecognized device was detected on your account. We recommend comparing your keys with your contacts to secure the chat.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return s._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 second after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return s._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 minute after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return s._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} hours after they're sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 hour after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return s._(/*BTDS*/"_j{\"*\":\"You changed disappearing messages. Messages will disappear {number} days after they're sent.\",\"_1\":\"You changed disappearing messages. Messages will disappear 1 day after they're sent.\"}",[s._plural(parseInt(e[0],10),"number")]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return s._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} seconds after they're sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 second after they're sent.\"}",[s._plural(parseInt(e[0],10),"number"),s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return s._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} minutes after they're sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 minute after they're sent.\"}",[s._plural(parseInt(e[0],10),"number"),s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return s._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} hours after they're sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 hour after they're sent.\"}",[s._plural(parseInt(e[0],10),"number"),s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return s._(/*BTDS*/"_j{\"*\":\"{user} changed disappearing messages. Messages will disappear {number} days after they're sent.\",\"_1\":\"{user} changed disappearing messages. Messages will disappear 1 day after they're sent.\"}",[s._plural(parseInt(e[0],10),"number"),s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:return s._(/*BTDS*/"Disappearing messages were turned off.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:return s._(/*BTDS*/"You turned off disappearing messages.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:return s._(/*BTDS*/"{user} turned off disappearing messages.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET:return s._(/*BTDS*/"Disappearing messages were turned off. Turn them back on to have messages disappear 24 hours after they're sent.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE:return s._(/*BTDS*/"You unsent a message").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE:return s._(/*BTDS*/"{first name} unsent a message",[s._param("first name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP:return s._(/*BTDS*/"{name} reacted {emoji} to your message",[s._param("name",t[0]),s._param("emoji",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE:return s._(/*BTDS*/"Reacted {emoji} to your message",[s._param("emoji",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:return s._(/*BTDS*/"A screenshot was taken.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:return s._(/*BTDS*/"Current screen was recorded.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:return s._(/*BTDS*/"You took a screenshot.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:return s._(/*BTDS*/"You recorded the screen.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:return s._(/*BTDS*/"{user} took a screenshot.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return s._(/*BTDS*/"{user} recorded the screen.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return s._(/*BTDS*/"Messages and calls are secured with end-to-end encryption.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU:return s._(/*BTDS*/"Someone added you to the group. You can only see messages sent after you were added.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:return s._(/*BTDS*/"Someone added you and {user_name} to the group. You can only see messages sent after you were added.",[s._param("user_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:return s._(/*BTDS*/"Someone added you and {number of participants} others to the group. You can only see messages sent after you were added.",[s._param("number of participants",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:return s._(/*BTDS*/"Someone added {user_name} to the group. They can only see messages sent after they were added.",[s._param("user_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:return s._(/*BTDS*/"Someone added {user_name_1} and {user_name_2} to the group. They can only see messages sent after they were added.",[s._param("user_name_1",t[0]),s._param("user_name_2",t[1])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:return s._(/*BTDS*/"Someone added {user_name_1} and {number of participants} others to the group. They can only see messages sent after they were added.",[s._param("user_name_1",t[0]),s._param("number of participants",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.DEBUG_MSG:return e[0];case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:{var a=t[0];return a!=null?s._(/*BTDS*/"You missed an audio call from {user_name}.",[s._param("user_name",a)]).toString():s._(/*BTDS*/"You missed a call from a contact.").toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:{var i=t[0];return i!=null?s._(/*BTDS*/"{user_name} missed your audio call.",[s._param("user_name",i)]).toString():s._(/*BTDS*/"A contact missed your audio call.").toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:{var l=t[0];return l!=null?s._(/*BTDS*/"You missed a video call from {user_name}.",[s._param("user_name",l)]).toString():s._(/*BTDS*/"You missed a video call from a contact.").toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:{var u=t[0];return u!=null?s._(/*BTDS*/"{user} missed your video call.",[s._param("user",u)]).toString():s._(/*BTDS*/"A contact missed your video chat.").toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED:return s._(/*BTDS*/"The audio call ended.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED:return s._(/*BTDS*/"The video call ended.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL:return s._(/*BTDS*/"You started a call.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL:{var c=t[0];return c!=null?s._(/*BTDS*/"{user} started a call.",[s._param("user",c)]).toString():s._(/*BTDS*/"A contact started a call.").toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL:return s._(/*BTDS*/"You started a video chat.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL:{var d=t[0];return d!=null?s._(/*BTDS*/"{user} started a video chat.",[s._param("user",d)]).toString():s._(/*BTDS*/"A contact started a video chat.").toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:return s._(/*BTDS*/"You set the quick reaction to {emoji}.",[s._param("emoji",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:return s._(/*BTDS*/"{participant_name} set the quick reaction to {emoji}.",[s._param("participant_name",t[0]),s._param("emoji",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:return s._(/*BTDS*/"You set the nickname for {participant_name} to {nickname}.",[s._param("participant_name",t[0]),s._param("nickname",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:return e[1]!=null?s._(/*BTDS*/"You changed the theme to {theme_name} {theme_emoji}.",[s._param("theme_name",e[0]),s._param("theme_emoji",e[1])]).toString():s._(/*BTDS*/"You changed the theme to {theme_name}.",[s._param("theme_name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:return e[1]!=null?s._(/*BTDS*/"You changed the theme using AI to \"{theme_name}\" {theme_emoji}.",[s._param("theme_name",e[0]),s._param("theme_emoji",e[1])]).toString():s._(/*BTDS*/"You changed the theme using AI to \"{theme_name}\".",[s._param("theme_name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:return s._(/*BTDS*/"You changed the group photo.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:return s._(/*BTDS*/"You pinned a message.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:return s._(/*BTDS*/"You unpinned a message.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return s._(/*BTDS*/"You're messaging {participant_name} for the first time. If you ever feel uncomfortable, there are",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:return s._(/*BTDS*/"{participant_name_1} set the nickname for {participant_name_2} to {nickname}.",[s._param("participant_name_1",t[0]),s._param("participant_name_2",t[1]),s._param("nickname",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:return s._(/*BTDS*/"{participant_name_1} cleared the nickname for {participant_name_2}.",[s._param("participant_name_1",t[0]),s._param("participant_name_2",t[1])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:return e[1]!=null?s._(/*BTDS*/"{participant_name} changed the theme to {theme_name} {theme_emoji}.",[s._param("participant_name",t[0]),s._param("theme_name",e[0]),s._param("theme_emoji",e[1])]).toString():s._(/*BTDS*/"{participant_name} changed the theme to {theme_name}.",[s._param("participant_name",t[0]),s._param("theme_name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:return e[1]!=null?s._(/*BTDS*/"{participant_name} changed the theme using AI to \"{theme_name}\" {theme_emoji}.",[s._param("participant_name",t[0]),s._param("theme_name",e[0]),s._param("theme_emoji",e[1])]).toString():s._(/*BTDS*/"{participant_name} changed the theme using AI to \"{theme_name}\".",[s._param("participant_name",t[0]),s._param("theme_name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:return s._(/*BTDS*/"You created a poll: {poll_name}.",[s._param("poll_name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:return s._(/*BTDS*/"{participant_name} created a poll: {poll_name}.",[s._param("participant_name",t[0]),s._param("poll_name",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:return s._(/*BTDS*/"{participant_name} added \"{poll_option}\" to the poll.",[s._param("participant_name",t[0]),s._param("poll_option",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:return s._(/*BTDS*/"{participant_name} voted for \"{poll_option}\" in the poll.",[s._param("participant_name",t[0]),s._param("poll_option",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:return s._(/*BTDS*/"You added \"{poll_option}\" to the poll.",[s._param("poll_option",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:return s._(/*BTDS*/"You voted for \"{poll_option}\" in the poll.",[s._param("poll_option",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:{var m=parseInt(e[1],10)-1;return s._(/*BTDS*/"_j{\"*\":\"{participant_name} added \\\"{poll_option}\\\" and {num_other_options} other options to the poll.\",\"_1\":\"{participant_name} added \\\"{poll_option}\\\" and {num_other_options} other option to the poll.\"}",[s._plural(m),s._param("participant_name",t[0]),s._param("poll_option",e[0]),s._param("num_other_options",m)]).toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:{var p=parseInt(e[1],10)-1;return s._(/*BTDS*/"_j{\"*\":\"You added \\\"{poll_option}\\\" and {num_other_options} other options to the poll.\",\"_1\":\"You added \\\"{poll_option}\\\" and {num_other_options} other option to the poll.\"}",[s._plural(p),s._param("poll_option",e[0]),s._param("num_other_options",p)]).toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:{var _=parseInt(e[1],10)-1;return s._(/*BTDS*/"_j{\"*\":\"You voted for \\\"{poll_option}\\\" and {num_other_votes} other options in the poll.\",\"_1\":\"You voted for \\\"{poll_option}\\\" and {num_other_votes} other option in the poll.\"}",[s._plural(_),s._param("poll_option",e[0]),s._param("num_other_votes",_)]).toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:{var f=parseInt(e[1],10)-1;return s._(/*BTDS*/"_j{\"*\":\"{participant_name} voted for \\\"{poll_option}\\\" and {num_other_votes} other options in the poll.\",\"_1\":\"{participant_name} voted for \\\"{poll_option}\\\" and {num_other_votes} other option in the poll.\"}",[s._plural(f),s._param("participant_name",t[0]),s._param("poll_option",e[0]),s._param("num_other_votes",f)]).toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:{var g=parseInt(e[1],10)-1;return s._(/*BTDS*/"_j{\"*\":\"You removed your vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other options in the poll.\",\"_1\":\"You removed your vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other option in the poll.\"}",[s._plural(g),s._param("poll_option",e[0]),s._param("num_other_removed_votes",g)]).toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:{var h=parseInt(e[1],10)-1;return s._(/*BTDS*/"_j{\"*\":\"{participant_name} removed their vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other options in the poll.\",\"_1\":\"{participant_name} removed their vote for \\\"{poll_option}\\\" and {num_other_removed_votes} other option in the poll.\"}",[s._plural(h),s._param("participant_name",t[0]),s._param("poll_option",e[0]),s._param("num_other_removed_votes",h)]).toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:return s._(/*BTDS*/"You removed your vote for \"{poll_option}\" in the poll.",[s._param("poll_option",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:return s._(/*BTDS*/"{participant_name} removed their vote for \"{poll_option}\" in the poll.",[s._param("participant_name",t[0]),s._param("poll_option",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:return s._(/*BTDS*/"{participant_name}'s poll has multiple updates.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:return s._(/*BTDS*/"Your poll has multiple updates.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:return s._(/*BTDS*/"You changed your vote to \"{poll_option}\" in the poll.",[s._param("poll_option",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:return s._(/*BTDS*/"{participant_name} changed their vote to \"{poll_option}\" in the poll.",[s._param("participant_name",t[0]),s._param("poll_option",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:{var y=parseInt(e[1],10)-1;return s._(/*BTDS*/"_j{\"*\":\"You changed your vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other options in the poll.\",\"_1\":\"You changed your vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other option in the poll.\"}",[s._plural(y),s._param("poll_option",e[0]),s._param("num_other_changed_votes",y)]).toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:{var C=parseInt(e[1],10)-1;return s._(/*BTDS*/"_j{\"*\":\"{participant_name} changed their vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other options in the poll.\",\"_1\":\"{participant_name} changed their vote to \\\"{poll_option}\\\" and {num_other_changed_votes} other option in the poll.\"}",[s._plural(C),s._param("participant_name",t[0]),s._param("poll_option",e[0]),s._param("num_other_changed_votes",C)]).toString()}case o("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:return s._(/*BTDS*/"A poll has been unsent.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:return s._(/*BTDS*/"{participant_name} changed the group photo.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:return s._(/*BTDS*/"{participant_name} pinned a message.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return s._(/*BTDS*/"{participant_name} unpinned a message.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:return s._(/*BTDS*/"{participant_name} set your nickname to {nickname}.",[s._param("participant_name",t[0]),s._param("nickname",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:return s._(/*BTDS*/"You set your nickname to {nickname}.",[s._param("nickname",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:return s._(/*BTDS*/"You cleared your nickname.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:return s._(/*BTDS*/"You cleared the nickname for {participant_name}.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:return s._(/*BTDS*/"{participant_name} set their own nickname to {nickname}.",[s._param("participant_name",t[0]),s._param("nickname",e[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:return s._(/*BTDS*/"{participant_name} cleared their own nickname.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:return s._(/*BTDS*/"{participant_name} cleared your nickname.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:return s._(/*BTDS*/"You changed who can add people to admins only.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:return s._(/*BTDS*/"You changed who can add people to all members.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:return s._(/*BTDS*/"{participant_name} changed who can add people to admins only.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:return s._(/*BTDS*/"{participant_name} changed who can add people to all members.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY:return s._(/*BTDS*/"A chat admin changed who can add people to all members.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS:return s._(/*BTDS*/"A chat admin changed who can add people to admins only.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:return s._(/*BTDS*/"Your other chat with {user} was archived.",[s._param("user",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:return s._(/*BTDS*/"Your other chat with yourself was archived.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:return s._(/*BTDS*/"Your other chat with this person was archived.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE:return r("getMAWLocalizedBumpMsgReplySnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE,null,null).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:return r("getMAWLocalizedBumpMsgReplySnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,null,t[0]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:return r("getMAWLocalizedBumpMsgReplySnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,t[0],null).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:return r("getMAWLocalizedBumpMsgReplySnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,t[0],null).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:return r("getMAWLocalizedBumpMsgReplySnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE,t[0],t[1]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_MEMORIES_SHARE:return o("MAWMemoriesShareXMASnippetFbt").getCurrentUserSendMemoriesShareSnippetFbt().toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_MEMORIES_SHARE:return o("MAWMemoriesShareXMASnippetFbt").getParticipantSendMemoriesShareSnippetFbt(t[0]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.RTC_XMA_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.RTC_XMA_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:return s._(/*BTDS*/"You turned on message sharing permissions for this chat. Everyone in this chat can now share messages with Meta AI or auto-save photos.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:return s._(/*BTDS*/"You turned off message sharing permissions for this chat.").toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:return s._(/*BTDS*/"{participant_name} turned on message sharing permissions for this chat. Everyone in this chat can now share messages with Meta AI or auto-save photos.",[s._param("participant_name",t[0])]).toString();case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return s._(/*BTDS*/"{participant_name} turned off message sharing permissions for this chat.",[s._param("participant_name",t[0])]).toString();default:return""}}l.buildLocalizedString=e}),226);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","Env","MAWLocalizationType","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=n("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]),c=[o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG,o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP],d=(e||(e=r("Env"))).isMessengerDotComOnComet?"Messenger":r("gkx")("22979")?"Instagram":"Facebook";function m(){return s._(/*BTDS*/"{Platform Name} User",[s._param("Platform Name",d)]).toString()}function p(e,t){var n;return(n=e.get(t))!=null?n:m()}function _(e){return c.includes(e)?u.FULL_NAME:u.FIRST_NAME}l.ContactNameMode=u,l.getUnknownUser=m,l.getContactNameFromLookup=p,l.getContactNameModeFromLocalizationType=_}),226);
__d("MAWThreadCustomizationUtils",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME||e===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME||e===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME}function s(e){return e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME}l.skipNicknameCheck=e,l.nicknameOnlyForFirstParticipantChecking=s}),98);
__d("fillArray",[],(function(t,n,r,o,a,i){function e(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}i.default=e}),66);
__d("mapPull",[],(function(t,n,r,o,a,i){function e(e,t,n){var r=new Map;for(var o of e)r.set(n(o),t(o));return r}i.default=e}),66);
__d("MAWBridgeBuildMsgMentions",["MAWSubscribeToContactNames","MAWThreadCustomizationUtils","WACommon.pb","WAJids","emptyFunction","fillArray","mapPull"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.length>0?e.join(","):void 0}function s(e,t){return e.index-t.index}function u(e,t){return e==null||e===""?e:Array.from(t).reduce(function(e,t){var n=t[0],r=t[1],o=new RegExp(n,"g");return e.replace(o,r)},e)}function c(e,t){return e==null||e===""?[]:Array.from(t.keys()).flatMap(function(t){return Array.from(e.matchAll(t))}).sort(s)}function d(t,n,a,i,l){l===void 0&&(l=[]);var s=r("mapPull")(a,function(e){var t=e[0],r=e[1];return o("MAWSubscribeToContactNames").getContactNameFromLookup(n,t)},function(e){var t=e[0],n=e[1];return n}),d=c(t,s),m=[],p=[],_=[],f=0;for(var g of d){var h=o("WAJids").unsafeCoerceToUserJid(g[0]);m.push(o("WAJids").userIdFromJid(h));var y=o("MAWSubscribeToContactNames").getContactNameFromLookup(s,h);p.push(y.length+1),_.push(Math.max(g.index-1+f,0)),f+=y.length-h.length}var C=r("fillArray")(m.length,"p");for(var b of l){var v=b.commandType,S=b.length,R=b.offset;if(!(S==null||R==null))switch(v){case o("WACommon.pb").COMMAND_COMMAND_TYPE.EVERYONE:C.push("t"),m.push("t"),_.push(R),p.push(S);break;case o("WACommon.pb").COMMAND_COMMAND_TYPE.AI:C.push("ai"),m.push("ai"),_.push(R),p.push(S);break;case o("WACommon.pb").COMMAND_COMMAND_TYPE.AI_IMAGINE:C.push("im"),m.push("im"),_.push(R),p.push(S);break;default:break}}var L=c(i,s);for(var E of L){var k=o("WAJids").unsafeCoerceToUserJid(E[0]);m.push(o("WAJids").userIdFromJid(k))}return{mentionIds:e(m),mentionLengths:e(p),mentionOffsets:e(_),mentionTypes:e(C),replyMessageText:u(i,s),text:u(t,s)}}function m(e,t,n,r){var a=d(e,n,r),i=a.text,l=t.map(function(e){return o("MAWSubscribeToContactNames").getContactNameFromLookup(n,e)});return[i,l]}function p(e,t,n,a){var i=r("mapPull")(t,r("emptyFunction").thatReturnsArgument,o("WAJids").userIdFromJid);return d(e,i,i,n,a)}function _(e,t,n,r,a){return t&&n>0||r?a===o("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+e+")":"$CONTACT_FULL_NAME("+e+")":a===o("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+e+")":"$PARTICIPANT_FULL_NAME("+e+")"}function f(e,t,n,a){var i=r("mapPull")(t!=null?t:[],r("emptyFunction").thatReturnsArgument,o("WAJids").userIdFromJid);if(i.size===0||e==null||e===""){var l=o("MAWSubscribeToContactNames").getContactNameModeFromLocalizationType(a),s=o("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(a),u=o("MAWThreadCustomizationUtils").skipNicknameCheck(a),c=n.map(function(e,t){return _(e,s,t,u,l)});return[e,c]}var d=new Map([].concat(Array.from(i.keys()),n).map(function(e){return[e,"$PARTICIPANT_FULL_NAME("+e+")"]}));return m(e,n,d,i)}l.buildMsgTextWithMentions=p,l.buildThreadSnippetWithMentions=f}),98);
__d("MAWBridgeBuildThreadSnippet",["MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWLocalizationType","MAWVault","first"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e!=null?o("MAWVault").unvault(e):void 0}function s(e,t,n){if(e==null)return t;var r=[].concat(t);switch(n){case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:{r[0]=e;break}}return r}function u(e){return e.replace(/\$/g,"$$$$")}function c(t,n){var a=t.snippetContactIDs,i=t.snippetMentionJIDs,l=t.snippetParams,c=t.snippetSenderContactId,d=t.snippetType;if(l==null||d==null||a==null)return n;c!=null&&!a.includes(c)&&a.push(c);var m=e(r("first")(l)),p=o("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(m==null?null:u(m),i,a,d),_=p[0],f=p[1];return o("MAWAdminMsg").buildLocalizedString(s(_,l,d),f,d)}l.buildBridgeThreadSnippet=c}),98);
__d("ReplayLastSubject",["relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=Object.freeze({}),s=(function(){function t(t){var n=this;t===void 0&&(t=e),this.$1=!1,this.$5=new Set,this.$3=t,this.$4=o("relay-runtime").Observable.create(function(t){if(n.$1){n.$2!=null?t.error(n.$2):t.complete();return}return n.$5.add(t),n.$3!==e&&t.next(n.$3),function(){n.$5.delete(t)}})}var n=t.prototype;return n.next=function(t){this.$1||this.$3!==t&&(this.$3=t,this.$5.forEach(function(e){return e.next(t)}))},n.error=function(t){this.$1||(this.$1=!0,this.$2=t,this.$5.forEach(function(e){return e.error(t)}))},n.complete=function(){this.$1||(this.$1=!0,this.$5.forEach(function(e){return e.complete()}))},n.subscribe=function(t){return this.$4.subscribe(t)},n.getObserverCount=function(){return this.$5.size},t})();l.ReplayLastSubject=s}),98);
__d("MAWUISnippetsMessagesMetadataMapObservable",["I64","ReplayLastSubject"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.value=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.next=function(n){this.value=n,e.prototype.next.call(this,n)},t})(o("ReplayLastSubject").ReplayLastSubject),u=(function(){function t(){this.$1=new Map}var n=t.prototype;return n.get=function(n){var t=(e||(e=o("I64"))).to_string(n),r=this.$1.get(t);if(r==null){var a=new s([]);return this.$1.set(t,a),a}return r},n.set=function(t,n){var e=this.get(t),r=e.value;if(r.length!==n.length){e.next(n);return}var o=r.every(function(e,t){var r=n[t];return e.externalId===r.externalId&&e.sortOrderMs===r.sortOrderMs});o||e.next(n)},t})();l.Subject=s,l.MAWUISnippetsMessagesMetadataMapObservable=u}),98);
__d("getMAWLastMessageCtaType",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:return"xma_rtc_missed_audio";case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:return"xma_rtc_missed_group_audio";case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:return"xma_rtc_missed_video";case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:return"xma_rtc_missed_group_video";case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return"messenger_reply_reminder"}}l.default=e}),98);
__d("updateMWLSThreadSnippet",["FBLogger","I64","MAWBridgeBuildThreadSnippet","getMAWLastMessageCtaType"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t){var n,a=t.thread,i=t.threadSnippet,l=t.txn,s=i.snippetParams,u=o("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet({snippetContactIDs:s.contactIDs,snippetMentionJIDs:(n=s.mentionJIDs)!=null?n:[],snippetParams:s.strings,snippetSenderContactId:i.snippetSenderContactId,snippetType:i.snippetType});u==null&&r("FBLogger")("messenger_web").warn("[updateMWLSThreadSnippet] null snippet is calculated for a thread, snippetType: %s, contactsIDs is null: %s, snippetParams is null: %s",i.snippetType,s.contactIDs==null,s.strings==null);var c=i.snippetSenderContactId!=null?(e||(e=o("I64"))).of_string(i.snippetSenderContactId):(e||(e=o("I64"))).zero,d=r("getMAWLastMessageCtaType")(i.snippetType);await l.threads.put(babelHelpers.extends({},a,{lastMessageCtaType:d,snippet:u,snippetSenderContactId:c}))}l.updateMWLSThreadSnippet=s}),98);
__d("MAWUISnippetsCacheService",["FBLogger","I64","LSDatabaseSingleton","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWUISnippetsMessagesMetadataMapObservable","ReStoreVaulting","WAJids","promiseDone","updateMWLSThreadSnippet"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(){this.namespace="snippets",this.$1=new(o("MAWUISnippetsMessagesMetadataMapObservable")).MAWUISnippetsMessagesMetadataMapObservable}var n=t.prototype;return n.onCacheChange=function(n,a){r("promiseDone")((e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return e.runInTransaction(function(e){return Promise.all(n.map(async function(t){var n=t[0],r=t[1],i=o("WAJids").unsafeCoerceToChatJid(n),l=await o("MAWChatJid").toThreadMaybe(e,i);if(l==null){await d(e,i);return}var s=r.value.snippet,u=babelHelpers.extends({},s.snippetParams,{strings:s.snippetParams.strings.map(function(e){return o("ReStoreVaulting").maybeVault(e)})});return o("updateMWLSThreadSnippet").updateMWLSThreadSnippet({thread:l,threadSnippet:babelHelpers.extends({},s,{snippetParams:u}),txn:e}).then(function(){m(l.threadKey,a,r)})}))},"readwrite",void 0,void 0,i.id+":47")}))},n.getNewestIncomingMessagesMetadata=function(t){return this.$1.get(t)},t})(),c="[SnippetsCacheService][UI]";async function d(e,t){var n=await o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(e,o("MAWJids").convertChatJidToIntJid(t),"MAWUISnippetsCacheService");r("FBLogger")("MAWCacheService").mustfix(c+" Missing LSDBThread when updating snippet. jid: %s, thread state: %s",t,n.type)}function m(e,t,n){r("FBLogger")("MAWCacheService").info(c+" Updated thread snippet. threadKey: %s, source: %s, msgId: %s, reactionId: %s, ack level %s",(s||(s=o("I64"))).to_string(e),t,n.value.snippetMsgId,n.value.snippetReactionId,n.value.snippetMsgAckLevel)}var p=new u;function _(){return p}l.getMAWUISnippetsCacheService=_}),98);
__d("MAWUICacheServiceRegistry",["MAWUISnippetsCacheService"],(function(t,n,r,o,a,i,l){"use strict";var e={snippets:o("MAWUISnippetsCacheService").getMAWUISnippetsCacheService()};function s(){return e}l.getUICacheServiceRegistry=s}),98);
__d("isNullish",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==null}i.default=e}),66);
__d("shallowArrayEqual",["isNullish"],(function(t,n,r,o,a,i,l){function e(e,t){if(e===t)return!0;if(r("isNullish")(e)||r("isNullish")(t)||e.length!==t.length)return!1;for(var n=0,o=e.length;n<o;n++)if(e[n]!==t[n])return!1;return!0}l.default=e}),98);
__d("MAWUICacheServices",["BroadcastChannelFallback","FBLogger","MAWBridgeSendAndReceive","MAWCacheServiceQPL","MAWCacheServiceUtils","MAWLoggerUtils","MAWUICacheServiceRegistry","MAWUICacheServicesBase","promiseDone","shallowArrayEqual"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new(o("MAWUICacheServicesBase")).MAWUICacheServicesBase(o("MAWUICacheServiceRegistry").getUICacheServiceRegistry()),this.$2=o("MAWCacheServiceUtils").getMAWCacheServiceBroadcastChannel(),this.$3()}var t=e.prototype;return t.$3=function(){var e=this,t=function(n){var t,o,a,i;if(typeof n=="object"&&n!=null&&typeof n.data=="object"&&n.data!==null&&typeof((t=n.data)==null?void 0:t.namespace)=="string"&&typeof((o=n.data)==null?void 0:o.source)=="string"&&typeof((a=n.data)==null?void 0:a.cache)=="object"&&((i=n.data)==null?void 0:i.cache)!==null&&Array.isArray(n.data.cache)){var l,s=n.data.namespace,u=n.data.cache,c=n.data.source,d;typeof((l=n.data)==null?void 0:l.instanceKey)=="number"?(d=n.data.instanceKey,c==="realtime-update"&&r("MAWCacheServiceQPL").registerInstanceKeyInUI(d),r("MAWCacheServiceQPL").addPointQPL(d,"broadcasting_to_ui_end",c)):r("FBLogger")("MAWCacheService").info("Invalid instance key received via broadcast channel."),e.$1.updateInMemoryCacheAndTriggerCallback(s,u,c,d)}else throw r("FBLogger")("messenger_web").mustfixThrow("Invalid payload received via broadcast channel.")};this.$2==null?o("BroadcastChannelFallback").registerBroadcastChannelFallbackListener(o("MAWCacheServiceUtils").MAW_CACHE_SERVICE_BROADCAST_CHANNEL,t):this.$2.onmessage=t},t.resetInMemoryCache=function(t,n){this.$1.resetInMemoryCache(t,n)},t.checkExistingCacheOrGetFromScratchAndNotifyListenersFor=async function(t,n){var e=this,a=Array.from(new Set(n)),i=o("MAWLoggerUtils").getInstanceKey();r("MAWCacheServiceQPL").startQPL(i,t),r("MAWCacheServiceQPL").addAnnotationsQPL(i,{string:{instanceKey:i.toString()},string_array:{allKeys:r("MAWCacheServiceQPL").redactKeysForNonEmployee(a)}});var l=this.$1.checkInMemoryCacheAndTriggerCallback(t,a,i);if(l.length===0){r("FBLogger")("MAWUICacheServices").info("All keys are in memory cache. Namespace: %s",t);return}var s=await this.$1.checkPersistedCacheAndTriggerCallback(t,l,i).catch(function(e){return r("FBLogger")("MAWCacheService").catching(e).mustfix("Failed to read from persisted cache in UI.",t),r("MAWCacheServiceQPL").addPointQPL(i,"read_from_persisted_cache_failed"),l});if(r("shallowArrayEqual")(l,s)?this.$1.QPLMetadata.set(i,"all-from-scratch"):(r("FBLogger")("MAWUICacheServices").info("Sending low priority bridge call to invalidate cache for keys: %s",l.join(", ")),r("MAWCacheServiceQPL").addPointQPL(i,"invalidating_cache"),r("MAWCacheServiceQPL").addAnnotationsQPL(i,{string_array:{keysToInvalidateCacheFor:r("MAWCacheServiceQPL").redactKeysForNonEmployee(l)}}),r("promiseDone")(o("MAWBridgeSendAndReceive").sendAndReceive("backend","computeCachePayloadFromScratch",{instanceKey:i,isLowPriority:!0,keys:l,namespace:t}).catch(function(e){r("MAWCacheServiceQPL").addPointQPL(i,"invalidating_cache_failed"),r("FBLogger")("MAWCacheService").catching(e).mustfix("Failed to invalidate potential outdated persisted cache.",t)}))),r("MAWCacheServiceQPL").addAnnotationsQPL(i,{int:{memoryHitRate:Math.floor((a.length-l.length)/a.length*100),persistedHitRate:Math.floor((l.length-s.length)/l.length*100)}}),s.length===0){r("FBLogger")("MAWUICacheServices").info("All keys are in persisted cache. Namespace: %s",t);return}r("FBLogger")("MAWUICacheServices").info("Sending bridge call to calculate cache from scratch for keys: %s",s.join(", ")),r("MAWCacheServiceQPL").addPointQPL(i,"sending_bridge_call_to_compute_from_scratch"),r("MAWCacheServiceQPL").addAnnotationsQPL(i,{string_array:{keysToBeCalculatedFromScratch:r("MAWCacheServiceQPL").redactKeysForNonEmployee(s)}}),await o("MAWBridgeSendAndReceive").sendAndReceive("backend","computeCachePayloadFromScratch",{instanceKey:i,isLowPriority:!1,keys:s,namespace:t}).catch(function(n){r("MAWCacheServiceQPL").endFailureQPL(i,"sending_bridge_call_to_compute_from_scratch_failed"),r("MAWCacheServiceQPL").addAnnotationsQPL(i,{string:{error:n.message}}),e.$1.QPLMetadata.delete(i),r("FBLogger")("MAWCacheService").catching(n).mustfix("Failed to compute cache from scratch for",t)})},t.getFromScratchSkippingCacheAndNotifyListenersFor=async function(t,n){var e=this,a,i=Array.from(new Set(n)),l=o("MAWLoggerUtils").getInstanceKey();(a=r("MAWCacheServiceQPL")).startQPL(l,t),a.addAnnotationsQPL(l,{string:{instanceKey:l.toString()},string_array:{allKeys:a.redactKeysForNonEmployee(i)}}),this.$1.QPLMetadata.set(l,"all-from-scratch"),a.addPointQPL(l,"sending_bridge_call_to_compute_from_scratch_skipping_cache"),await o("MAWBridgeSendAndReceive").sendAndReceive("backend","computeCachePayloadFromScratch",{instanceKey:l,isLowPriority:!1,keys:i,namespace:t}).catch(function(n){r("MAWCacheServiceQPL").endFailureQPL(l,"sending_bridge_call_to_compute_from_scratch_failed"),r("MAWCacheServiceQPL").addAnnotationsQPL(l,{string:{error:n.message}}),e.$1.QPLMetadata.delete(l),r("FBLogger")("MAWCacheService").catching(n).mustfix("Failed to compute cache from scratch for",t)})},e})(),s=null,u=function(){return s==null&&(s=new e),s};l.getMAWUICacheServices=u}),98);/*FB_PKG_DELIM*/
__d("LSBeginHandlingSyncForSyncGroup",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(o){return t.sequence([function(r){return t.db.table(1).fetch([[[e[0]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[0]=void 0:(r=a.item,n[9]=new t.Map,n[9].set("group_id",r.groupId),n[9].set("current_cursor",r.currentCursor),n[9].set("sync_status",r.syncStatus),n[9].set("sync_params",r.syncParams),n[9].set("send_sync_params",r.sendSyncParams),n[9].set("min_time_to_sync_timestamp_ms",r.minTimeToSyncTimestampMs),n[9].set("can_ignore_timestamp",r.canIgnoreTimestamp),n[9].set("sync_channel",r.syncChannel),n[9].set("last_sync_request_timestamp_ms",r.lastSyncRequestTimestampMs),n[0]=n[9])})},function(r){var o;return n[0]?n[2]=!1:n[2]=!0,n[2]?t.resolve((o=[e[0],void 0,t.i64.cast([0,4]),void 0,!1],n[3]=o[0],n[4]=o[1],n[5]=o[2],n[6]=o[3],n[7]=o[4],o)):t.sequence([function(e){return n[9]=n[0].get("group_id"),t.filter(t.db.table(3).fetch(),function(e){return t.i64.neq(e.epochId,void 0)&&t.i64.eq(e.syncDatabaseId,n[9])}).next().then(function(e,t){var r=e.done,o=e.value;return r?n[10]=!1:(t=o.item,n[10]=!0)})},function(r){var o;return n[10]?t.resolve((n[17]=n[0].get("group_id"),o=[n[17],void 0,t.i64.cast([0,4]),void 0,!1],n[12]=o[0],n[13]=o[1],n[14]=o[2],n[15]=o[3],n[16]=o[4])):t.sequence([function(r){return n[17]=t.i64.of_float(Date.now()),n[18]=n[0].get("min_time_to_sync_timestamp_ms"),n[19]=n[0].get("last_sync_request_timestamp_ms"),n[20]=n[0].get("can_ignore_timestamp"),n[20]&&e[1]||t.i64.ge(n[17],n[18])?t.sequence([function(r){return e[1]?t.resolve(n[28]=t.i64.cast([0,0])):t.sequence([function(e){return n[29]=n[0].get("group_id"),t.db.table(3).fetch([[["",n[29]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[30]=t.i64.cast([0,0]):(r=a.item,n[30]=r.failureCount)})},function(e){return n[32]=t.i64.mul(t.i64.sub(t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.lt(t.i64.cast([0,15]),n[30])?t.i64.cast([0,15]):n[30])),t.i64.cast([0,1])),t.i64.cast([0,500])),n[33]=t.i64.sub(t.i64.add(n[19]==null?t.i64.cast([0,0]):n[19],t.i64.lt(n[32],t.i64.cast([0,3e4]))?n[32]:t.i64.cast([0,3e4])),n[17]),n[28]=t.i64.gt(n[33],t.i64.cast([0,0]))?n[33]:t.i64.cast([0,0])}])},function(e){return n[21]=n[28]}]):t.resolve(n[21]=t.i64.sub(n[18],n[17]))},function(e){return n[22]=n[0].get("group_id"),t.i64.gt(n[21],t.i64.cast([0,0]))?t.sequence([function(e){return n[28]=t.i64.of_float(Date.now()),t.forEach(t.filter(t.db.table(3).fetch(),function(e){return t.i64.eq(e.syncDatabaseId,n[22])}),function(e){var t=e.update,r=e.item;return t({lastDelayedRequestTimestampMs:n[28]})})},function(e){var r;return r=[n[22],n[21],t.i64.cast([0,3]),void 0,!1],n[23]=r[0],n[24]=r[1],n[25]=r[2],n[26]=r[3],n[27]=r[4],r}]):t.sequence([function(e){return n[28]=t.i64.of_float(Date.now()),t.forEach(t.db.table(1).fetch([[[n[22]]]]),function(e){var t=e.update,r=e.item;return t({lastSyncRequestTimestampMs:n[28]})})},function(e){return n[29]=t.i64.of_float(Date.now()),t.forEach(t.filter(t.db.table(3).fetch(),function(e){return t.i64.eq(e.syncDatabaseId,n[22])}),function(e){var t=e.update,r=e.item;return t({lastSyncRequestTimestampMs:n[29]})})},function(e){return n[30]=n[0].get("group_id"),n[31]=t.i64.of_float(Date.now()),n[32]=t.i64.random(),n[45]=t.i64.and_(t.i64.or_(t.i64.lsl_(n[31],t.i64.to_int32(t.i64.cast([0,22]))),t.i64.and_(n[32],t.i64.cast([0,4194303]))),t.i64.cast([2147483647,4294967295])),t.db.table(3).fetch([[["",n[30]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?t.db.table(3).add({syncDatabaseId:n[30],taskQueueName:"",failureCount:t.i64.cast([0,0]),lastSentTimestampMs:t.i64.cast([0,0]),lastSyncRequestTimestampMs:t.i64.cast([0,0]),epochId:n[45]}):(r=a.item,t.forEach(t.db.table(3).fetch([[["",n[30]]]]),function(e){var t=e.update,r=e.item;return t({epochId:n[45]})}))})},function(e){return n[34]=n[0].get("group_id"),t.db.table(3).fetch([[["",n[34]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[35]=t.i64.cast([0,0]):(r=a.item,n[35]=r.failureCount)})},function(e){var r;return n[37]=n[0].get("send_sync_params"),n[38]=n[0].get("sync_params"),n[39]=n[0].get("current_cursor"),n[40]=new t.Map,n[40].set("database",n[34]),n[40].set("version",t.i64.cast([-1,4294967295])),n[40].set("epoch_id",n[45]),n[40].set("last_applied_cursor",n[39]),n[40].set("sync_params",n[37]?n[38]:void 0),n[40].set("failure_count",t.i64.gt(n[35],t.i64.cast([0,0]))?n[35]:void 0),n[41]=n[0].get("current_cursor"),n[41]===void 0?n[42]=t.i64.cast([0,1]):n[42]=t.i64.cast([0,2]),n[43]=new t.Map,n[43].set("type",n[42]),n[43].set("request_payload",n[40]),n[44]=n[0].get("sync_channel"),r=[n[30],void 0,t.i64.cast([0,1]),n[43],t.i64.eq(n[44],t.i64.cast([0,2]))],n[23]=r[0],n[24]=r[1],n[25]=r[2],n[26]=r[3],n[27]=r[4]}])},function(e){var t;return t=[n[23],n[24],n[25],n[26],n[27]],n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=t[3],n[16]=t[4],t}])},function(e){var t;return t=[n[12],n[13],n[14],n[15],n[16]],n[3]=t[0],n[4]=t[1],n[5]=t[2],n[6]=t[3],n[7]=t[4],t}])},function(e){return n[8]=new t.Map,n[8].set("sync_group_id",n[3]),n[8].set("next_sync_ms",n[4]),n[8].set("work_item_type",n[5]),n[8].set("network_payload",n[6]),n[8].set("skip_realtime_gateway",n[7]),r[0]=n[8]}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure",e.__tables__=["sync_groups","network_requests"],a.exports=e}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(o){return r[0]=t.createArray(),t.forEach(t.db.table(1).fetch(),function(o){var a=o.item;return t.sequence([function(o){return t.storedProcedure(n("LSBeginHandlingSyncForSyncGroup"),a.groupId,e[0]).then(function(e){var t;return t=e,r[1]=t[0],t})},function(e){return r[2]=(r[0].push(r[1]),r[0])}])})},function(e){return o[0]=r[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure",e.__tables__=["sync_groups"],a.exports=e}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSBeginHandlingSyncForSyncGroup"),a.syncGroupId,a.ignoreSoftDelay);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSBeginHandlingSync"),a.ignoreSoftDelay);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSPlatformSyncSystemMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemMaybeEagerly");function s(){return o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(e).load()}l.default=s}),98);
__d("LSPlatformClientInit",["FBLogger","LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDatabaseAfterInitSyncSingleton","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformSyncSystemMaybeEagerly","MessengerLogHistory","cr:3411","cr:5083","cr:6044","cr:7528","cr:8131","emptyFunction","getErrorSafe","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MessengerLogHistory").getInstance("client_init");function u(e){var t=r("emptyFunction");return n("cr:8131")!=null&&r("gkx")("23914")&&(t=n("cr:8131").listenForChangesToBackupState(e)),function(){t&&t()}}function c(t,n){var a=n==="Connected"?(e||(e=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").CONNECTED):(e||(e=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").NOT_CONNECTED);s.debug("Platform client sync connection status: ",n),r("promiseDone")(t.runInTransaction(function(e){return r("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(r("LSFactory")(e),{internetConnectionState:a})},"readwrite",void 0,void 0,i.id+":77"),function(){s.debug("Platform client sync connection status set successfully")},function(e){throw s.error("Platform client sync connection status set failed: "+(e==null?void 0:e.message)),e})}async function d(e,t,a,i,l,d){var m;s.debug("Platform client sync starting..."),(m=o("LSPlatformLsInitLog")).addPoint("onstart_callback"),i(),m.addPoint("onstart_callback_end"),s.debug("Getting datascript evaluator..."),m.addPoint("ds_eval_registration");var p=await t.getEval();s.debug("Getting datascript evaluator success");var _;try{_=n("cr:3411")!=null?n("cr:3411").registerEval(p)()(e):p()(e)}catch(t){r("FBLogger")("ls_web_init").catching(r("getErrorSafe")(t)).mustfix("fail to register datascriptEvaluator"),_=p()(e)}o("LSPlatformLsInitLog").addPoint("ds_eval_registration_end"),s.debug("Clearing epoch before resume sync..."),d.didEvaluateInitSyncEagerly||(o("LSPlatformLsInitLog").addPoint("ls_clear_epoch"),await o("LSClearEpochBeforeResumeSync").call(e),o("LSPlatformLsInitLog").addPoint("ls_clear_epoch_end"),s.debug("Clearing epoch before resume sync success"),o("LSPlatformLsInitLog").addPoint("create_client_end"),t.sendHardcodedInitSync&&(s.debug("Starting hard-coded init sync..."),await o("LSPlatformHardcodedInitSync").sendHardcodedInitSync(t,_,e,a),s.debug("Starting hard-coded init sync success"))),o("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(e)),s.debug("Starting realtime transport"),o("LSPlatformLsInitLog").addPoint("realtime_underlying_transport_start");var f=await t.realtimeUnderylingTransport();o("LSPlatformLsInitLog").addPoint("realtime_underlying_transport_end");var g=await Promise.all([n("cr:5083").load().then(function(e){return e.LSPlatformRealtimeTransport}),n("cr:7528").load(),n("cr:6044").load()]).catch(function(e){throw r("FBLogger")("ls_web_init").catching(e).mustfix("Error loading transport modules"),e}),h=g[0],y=g[1],C=g[2],b=h(f,t.appId,a);o("LSPlatformLsInitLog").addPoint("platform_realtime_transport_end"),s.debug("Starting task system");var v=new y(e,new C(e,b,_,t.schemaVersion));o("LSPlatformLsInitLog").addPoint("platform_task_system_end"),s.debug("Starting sync system");var S=null;r("promiseDone")(r("LSPlatformSyncSystemMaybeEagerly")(),function(n){S=n(e,b,_,t.schemaVersion,a,t.executeGraphQLLightSpeedRequest)}),s.debug("Starting backup state listeners");var R=u(e);o("LSPlatformLsInitLog").addPoint("init_listeners_backup_state_end");var L;return s.debug("Watching for expired traces"),r("promiseDone")(o("LSDataTraceFlushDeferred").watchForExpiredTraces(e).then(function(e){L=e})),s.debug("Subscribing to mqtt sync status change events"),b.onConnectionStatusChange(function(t){c(e,t)}),s.debug("Platform client sync starting sucess"),o("LSPlatformLsInitLog").endSuccess(),{cleanup:function(){var t;s.debug("Platform client sync cleaning up"),l(e),v==null||v.cleanup(),(t=S)==null||t.cleanup(),b.cleanup(),R(),L==null||L()},db:e}}l.init=d}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","cr:10018","cr:7305","emptyFunction","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("emptyFunction").thatReturns(Promise.resolve());function u(e,t,n){var a,i=async function(){var i=o("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");a=await o("LSPlatformClientInit").init(e,t,i,r("emptyFunction"),r("emptyFunction"),n)};return{cleanup:function(){var e;(e=a)==null||e.cleanup()},db:e,start:i}}async function c(e,t,a){if(n("cr:10018")==null)throw r("FBLogger")("messenger_web").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");var i=await n("cr:10018").make(e,t,a);return i.isTabWithoutClient()===!0&&(o("MAWMIC").addPoint("ls_init_end"),o("MAWMIC").addPoint(o("MAWMICSchema").POINTS.thread_mapping_end),o("MAWMIC").addBoolAnnotation("LsInitSkipped",!0),o("LSPlatformLsInitLog").addPoint("no_ls_sync"),o("LSPlatformLsInitLog").endSuccess()),{cleanup:r("emptyFunction"),db:e,start:s}}async function d(t,a){if(o("LSPlatformLsInitLog").addPoint("make_client"),(e||(e=r("ExecutionEnvironment"))).canUseDOM){o("LSPlatformLsInitLog").addPoint("create_client_get_db");var i=await t.getDb();if(o("LSPlatformLsInitLog").addPoint("create_client_start"),o("LSDatabaseProviderType").isProviderPersisted(i)&&n("cr:10018")!==null)try{return c(i,t,a)}catch(e){throw o("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:r("getErrorSafe")(e).message}}),o("LSPlatformLsInitLog").fail("client_for_pdb_error"),e}return u(i,t,a)}if(o("LSPlatformLsInitLog").addPoint("make_client_ssr_mode"),n("cr:7305")==null)throw r("err")("LSCometSSRDatabase null, unexpected");return{cleanup:r("emptyFunction"),db:n("cr:7305"),start:s}}l.make=d}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","ReQL","gkx","promiseDone","qex","throttle"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,l,u,c){var d=o("MessengerLogHistory").getInstance("client_sync"),m=new(r("LSPlatformServerResponseHandler"))(a),p=o("LSDatabaseProviderType").isProviderPersisted(t),_=function(r){return t.runInTransaction(async function(t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.network_requests).getKeyRange("",r));n!=null&&await t.network_requests.put({epochId:void 0,failureCount:(e||(e=o("I64"))).add(n.failureCount,e.one),lastDelayedRequestTimestampMs:n.lastDelayedRequestTimestampMs,lastSentTimestampMs:n.lastSentTimestampMs,lastSyncRequestTimestampMs:n.lastSyncRequestTimestampMs,networkTaskIdentifier:n.networkTaskIdentifier,syncDatabaseId:n.syncDatabaseId,taskQueueName:n.taskQueueName})},"readwrite",void 0,void 0,i.id+":77")},f=new(r("LSPlatformRequestScheduler")),g=async function(d,_){var i=o("LSShape").toRecord(_),f=o("LSShape").toRecord(i.request_payload),g=i.type,h=r("LSPlatformRequestId").generate(),y=o("LSJson").stringify(o("LSShape").ofRecord({database:f.database,epoch_id:f.epoch_id,failure_count:f.failure_count,last_applied_cursor:f.last_applied_cursor,sync_params:f.sync_params,version:(e||(e=o("I64"))).of_string(l)})),C=(e||(e=o("I64"))).equal(d.sync_group_id,(s||(s=o("LSIntEnum"))).ofNumber(1))&&r("gkx")("26386")===!0;if(!C&&d.skip_realtime_gateway){var b=await o("LSPlatformGraphQLTransport").publish(u,h,g,y,c),v=b[0],S=b[1],R=b[2],L=b[3],E={experiments:R,syncScript:S,target:L};return p?m.maybeEvalInOrderReceived(v,E):a(E)}else{var k=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.sync_groups).getKeyRange(d.sync_group_id)),I=(s||(s=o("LSIntEnum"))).ofNumber(2),T=(e||(e=o("I64"))).to_int32(f.database),D=o("LSMailboxInitialSyncCursor").dgwDisabledSyncGroups.split(",").includes(String(T)),x;return k!=null&&(e||(e=o("I64"))).equal(k.syncChannel,I)?x=I:x=D?(s||(s=o("LSIntEnum"))).ofNumber(1):o("LSMailboxInitialSyncCursor").syncChannel,n.publish({databaseType:T,payload:y,queueName:void 0,requestId:h,syncChannel:x,type_:g}).then(function(){return Promise.resolve()})}},h=function(a){var n=function(n){return t.runInTransaction(function(e){return r("LSBeginHandlingSyncForSyncGroupStoredProcedure")(r("LSFactory")(e),{ignoreSoftDelay:!1,syncGroupId:n})},"readwrite",void 0,void 0,i.id+":192").then(function(e){return h(e[0])})},l=function(a,i){f.schedule(function(){r("promiseDone")(n(a))},(e||(e=o("I64"))).to_string(a),e.to_float(i))},u=o("LSShape").toRecord(a),c=u.work_item_type;if((e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(1))||(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(5))){var m=u.network_payload;return m!=null?g(u,m).catch(function(e){if(e.message===o("LSPlatformGraphQLTransport").ServerError)o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(e.RE_EXN_ID===o("LSPlatformRealtimeTransport").Timeout||e.RE_EXN_ID===o("LSPlatformRealtimeTransport").NotConnected)o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),d.debug("Publish timed out");else if(o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error"),e instanceof Error)r("FBLogger")("messenger_web").catching(e).mustfix("Encountered an JS error while publishing a LS sync request");else{var t="";try{t=JSON.stringify(e)}catch(e){}r("FBLogger")("messenger_web").mustfix("Encountered an JS error while publishing a LS sync request %s",t)}return o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(s||(s=o("LSIntEnum"))).toNumber(o("LSShape").toRecord(m).type)+"."+s.toNumber(u.sync_group_id)),_(u.sync_group_id).then(function(){return n(u.sync_group_id)})}):(r("FBLogger")("ls_web_init").mustfix("Expected networkpayload for sync request but didn't get any"),Promise.resolve())}if(!(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(3)))return(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(4))||!(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(2))||r("FBLogger")("ls_web_init").mustfix("Native handling for sync group not implemented yet"),Promise.resolve();var p=u.next_sync_ms;return p!=null?(l(u.sync_group_id,p),Promise.resolve()):(r("FBLogger")("ls_web_init").mustfix("Expected delay for delayed sync request but didn't get any"),Promise.resolve())},y=function(t){return Promise.all(r("LSVec").toArray(t[0]).map(function(e){return h(e)}))},C=function(){r("promiseDone")(t.runInTransaction(function(e){return r("LSBeginHandlingSyncStoredProcedure")(r("LSFactory")(e),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,i.id+":338").then(y))},b=r("throttle")(C,500),v=function(){return o("ReQL").fromTableAscending(t.tables.sync_groups).subscribe(function(){return b()})},S=function(){return n.subscribeToNonTaskResponses(function(e,t){var n=t.ex,a=t.payload,i={experiments:n,sp:t.sp,syncScript:a,target:t.target};r("promiseDone")(m.maybeEvalInOrderReceived(e,i),function(){return b()},function(e){if(o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure"),e instanceof Error)r("FBLogger")("messenger_web").catching(e).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,e.message);else{var t="";try{t=JSON.stringify(e)}catch(e){}r("FBLogger")("messenger_web").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",p,t)}})})},R=function(){return n.onReconnect(function(e){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect"),!(o("LSMailboxInitialSyncCursor").isWebApp&&e===1&&r("qex")._("2072")===!0&&r("qex")._("2080")===!0)&&(d.debug("Sync System reconnecting"),r("promiseDone")(t.runInTransaction(async function(e){var n,a=await(n=o("ReQL")).toArrayAsync(n.mergeJoin(n.fromTableAscending(t.tables.sync_groups),n.fromTableAscending(t.tables.network_requests).getKeyRange("")));return await Promise.all(a.map(function(t){var n=t[1];return e.network_requests.put({epochId:void 0,failureCount:n.failureCount,lastDelayedRequestTimestampMs:n.lastDelayedRequestTimestampMs,lastSentTimestampMs:n.lastSentTimestampMs,lastSyncRequestTimestampMs:n.lastSyncRequestTimestampMs,networkTaskIdentifier:n.networkTaskIdentifier,syncDatabaseId:n.syncDatabaseId,taskQueueName:n.taskQueueName})})),r("LSBeginHandlingSyncStoredProcedure")(r("LSFactory")(e),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,i.id+":432").then(y)))})},L=v(),E=S(),k=R();return b(),{cleanup:function(){L(),k(),E()}}}l.default=u}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJID",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("wa_jid",e[0]),r[0].set("tam_thread_subtype",t.i64.cast([0,0])),r[1]=r[0].get("wa_jid"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[1]),t.i64.cast([0,1021]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithGroupJID","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadPointQueryAndRestoreMessagesWithGroupJID"),a.waJid);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWFTSMergeCutoverSearchResults",["fbt","I64"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t,n){var r,a,i,l,u=(e||(e=o("I64"))).add((r=t.matchCount)!=null?r:(e||(e=o("I64"))).of_string("1"),(a=n.matchCount)!=null?a:(e||(e=o("I64"))).of_string("1")),c=e.max((i=t.messageTimestampMs)!=null?i:(e||(e=o("I64"))).minus_one,(l=n.messageTimestampMs)!=null?l:(e||(e=o("I64"))).minus_one);return babelHelpers.extends({},t,{contextLine:s._(/*BTDS*/"_j{\"*\":\"{number} matched messages\",\"_1\":\"1 matched message\"}",[s._plural(e.to_int32(u),"number")]).toString(),matchCount:u,matchLengths:void 0,matchOffsets:void 0,messageId:void 0,messageTimestampMs:(e||(e=o("I64"))).equal(c,(e||(e=o("I64"))).minus_one)?void 0:c})}l.mergeCutoverSearchResults=u}),226);
__d("MAWFTSUniversalSearchQPLLogger",["QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e={currentResultCount:0,hasStarted:!1,instanceKey:5e3},s=r("qpl")._(25301522,"2409");function u(){return e.hasStarted&&c(),e.instanceKey++,e.hasStarted=!0,r("QPLUserFlow").start(s,{annotations:{bool:{isInThread:!1}},instanceKey:e.instanceKey}),e.instanceKey}function c(t){!e.hasStarted||t!=null&&e.instanceKey!==t||(e.hasStarted=!1,r("QPLUserFlow").endCancel(s,{instanceKey:e.instanceKey}))}function d(t){var n=t.annotations,o=t.instanceKey,a=t.point;!e.hasStarted||o!=null&&e.instanceKey!==o||(r("QPLUserFlow").addPoint(s,a,{instanceKey:e.instanceKey}),n!=null&&m({annotations:n,instanceKey:e.instanceKey}))}function m(t){var n=t.annotations,o=t.instanceKey;!e.hasStarted||o!=null&&e.instanceKey!==o||r("QPLUserFlow").addAnnotations(s,n,{instanceKey:e.instanceKey})}function p(t){e.currentResultCount=t}function _(t){!e.hasStarted||t!=null&&e.instanceKey!==t||(e.hasStarted=!1,r("QPLUserFlow").endSuccess(s,{annotations:{int:{result_count:e.currentResultCount}},instanceKey:e.instanceKey}))}var f={getCurrentInstanceKey:function(){return e.instanceKey},qplAddAnnotations:m,qplAddPoint:d,qplCancel:c,qplMarkFirstResultShowUp:function(){},qplStart:u,qplSuccess:_,updateCurrentResultCount:p},g=f;l.default=g}),98);
__d("escapeRegExp",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}i.default=e}),66);
__d("MWContentSearchUtils",["fbt","I64","LSIntEnum","LSMessageSearchType","MAWVault","escapeRegExp","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=r("gkx")("1798");function d(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function m(e,t){var n=d(e).split(" "),o=d(t),a=[],i=[];return n.forEach(function(e){var t=new RegExp(r("escapeRegExp")(e),"gi"),n=o.matchAll(t),l=Array.from(n),s=l.map(function(e){return e.index}),u=s.map(function(t){return e.length});i.push.apply(i,s),a.push.apply(a,u)}),{matchLengths:a.join(","),matchOffsets:i.join(",")}}function p(t,n,a,i){if(a!=null&&(n===1||(e||(e=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE)))){var l=o("MAWVault").isVaulted(a)?o("MAWVault").unvault(a):a,c=m(t,l);return babelHelpers.extends({contextLine:l},c)}else return{contextLine:s._(/*BTDS*/"_j{\"*\":\"{number} matched messages\",\"_1\":\"1 matched message\"}",[s._plural(n,"number")]).toString(),matchLengths:void 0,matchOffsets:void 0}}function _(e,t){return e===1&&t!=null?t:void 0}function f(e,t){return e===1&&t!=null?t:void 0}function g(t){return t!=null?(e||(e=o("I64"))).of_float(t):void 0}function h(t,n){var r=(e||(e=o("I64"))).of_float(-t);return n==null?r:e.min(r,n)}function y(t,n){return!c||t.messageTimestampMs==null||n.messageTimestampMs==null?(e||(e=o("I64"))).gt(t.globalIndex,n.globalIndex)?1:(e||(e=o("I64"))).lt(t.globalIndex,n.globalIndex)?-1:0:(e||(e=o("I64"))).lt(t.messageTimestampMs,n.messageTimestampMs)?1:(e||(e=o("I64"))).gt(t.messageTimestampMs,n.messageTimestampMs)?-1:0}l.getContextLineAndMatches=p,l.getMessageOtid=_,l.getMessageId=f,l.getMessageTimestamp=g,l.getGlobalIndex=h,l.searchResultsCompareFn=y}),226);
__d("waitForMiActMappingForUniversalSearch",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCurrentUser","MAWJids","ReQL","WAJids","emptyFunction","err","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=3e4,u=3e4;async function c(t){var n=await o("ReQL").toArrayAsync(t);return n.some(function(t){return t==null||(e||(e=o("I64"))).lt(t.authorityLevel,(e||(e=o("I64"))).of_int32(r("LSAuthorityLevel").AUTHORITATIVE))})===!1}async function d(t,n,a,i){a===void 0&&(a=r("emptyFunction")),i===void 0&&(i=r("emptyFunction"));var l=(e||(e=o("I64"))).of_string(o("MAWCurrentUser").getID()),s=o("ReQL").leftJoin(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(n.serverThreadKey).filter(function(t){return!(e||(e=o("I64"))).equal(t.contactId,l)}),o("ReQL").fromTableAscending(t.tables.contacts)).map(function(e){var t=e[0],n=e[1];return n}),d=null,m={contents:function(){}};function p(){a(n),m.contents()}if(await c(s))return p();m.contents=s.subscribe(async function(e,t){if(t.operation!=="delete"&&(d!=null&&window.clearTimeout(d),await c(s)))return p()}),d=window.setTimeout(function(){m.contents(),i(r("err")("Contacts timed out"))},u)}async function m(e,t){var n=o("MAWJids").convertChatJidToIntJid(t),a=o("WAJids").interpretAsGroupJid(t)!=null,l=o("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(n),u=await o("ReQL").firstAsync(l);if(u!=null)return await d(e,u),Promise.resolve(u);var c=null,m=new Promise(function(t,n){var o={contents:function(){}};function a(e){o.contents(),t(e)}function i(e){o.contents(),n(e)}o.contents=l.subscribe(async function(t,n){n.operation!=="delete"&&(c!=null&&window.clearTimeout(c),await d(e,n.value,a,i))}),c=window.setTimeout(function(){i(r("err")("MiActMapping timed out"))},s)});r("promiseDone")(e.runInTransaction(function(e){return a?r("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure")(r("LSFactory")(e),{waJid:n}):r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:n})},"readwrite",void 0,void 0,i.id+":150"));try{u=await m}catch(e){r("FBLogger")("messenger_web").warn("[FTS] Issue waiting for mi_act_mapping to be ready",r("getErrorSafe")(e).message)}return u}l.default=m}),98);
__d("MAWUniversalMessageSearch",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","LSMessagingThreadTypeUtil","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWFTSMergeCutoverSearchResults","MAWFTSUniversalSearchQPLLogger","MWContentSearchUtils","MWSearchThreadUtils","ReQL","groupBy","promiseDone","vulture","waitForMiActMappingForUniversalSearch"],(function(t,n,r,o,a,i,l){"use strict";var e=["matchedTerms","recordType"],s,u,c=(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD),d=new Map,m=r("JSResourceForInteraction")("MAWAsyncEBIssueBulkMessagesPointQuery").__setRef("MAWUniversalMessageSearch");async function p(e,t,n){await e.message_search_queries.put(babelHelpers.extends({hasNextPage:!1,query:t,threadKeyV2:(u||(u=o("I64"))).one,type_:c},n))}async function _(e,t){var n=(u||(u=o("I64"))).to_string(t.threadKey);t.matchCount!=null&&d.set(n,(u||(u=o("I64"))).to_float(t.matchCount));var r=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.message_search_results).getKeyRange(c,t.query,t.threadKey));if(r==null)await e.message_search_results.put(babelHelpers.extends({},t));else{var a=o("MAWFTSMergeCutoverSearchResults").mergeCutoverSearchResults(r,t);await e.message_search_results.upsert([c,r.query,r.threadKey,r.globalIndex],babelHelpers.extends({},a,{globalIndex:t.globalIndex}))}}function f(e,t){var n,r=(n=d.get((u||(u=o("I64"))).to_string(e)))!=null?n:0;r+=t,d.set((u||(u=o("I64"))).to_string(e),r)}function g(){d.clear()}function h(e,t){var n;return o("LSMessagingThreadTypeUtil").isArmadilloSecure(t)&&(n=d.get((u||(u=o("I64"))).to_string(e)))!=null?n:null}async function y(t,n,a){r("vulture")("dUWMD7M1UP3WOew6sGAtcsB6lhg="),d.clear(),await t.runInTransaction(async function(e){await p(e,a,{resultCount:(u||(u=o("I64"))).zero,status:(s||(s=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING)})},"readwrite",void 0,void 0,i.id+":144"),r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"search_local_result_start"});var l=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:a,searchMode:o("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH}),f=l.map(function(t){if(t.recordType==="msg"){var n=t.matchedTerms,r=t.recordType,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return babelHelpers.extends({},o)}}).filter(Boolean),g=r("groupBy")(f,function(e){return e.chatJid}),h=Object.values(g);r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{int:{numResult:h.length}},point:"search_local_result_end"}),r("promiseDone")(Promise.all(h.map(async function(e,l){var s=e[0].chatJid;await r("waitForMiActMappingForUniversalSearch")(t,s);var d=await o("MWSearchThreadUtils").getThreadDataForSearchResult(t,s,n,c);if(d!=null){var p=d.profilePicUrl,f=d.secondaryProfilePicUrl,g=d.threadDisplayName,h=d.threadKey,y=d.threadType,C=e.sort(function(e,t){return t.sortOrderMs-e.sortOrderMs})[0],b=e.length===1&&C.msg==null?{id:C.externalId,sortOrderMs:C.sortOrderMs}:null,v={displayName:g,globalIndex:o("MWContentSearchUtils").getGlobalIndex(C.sortOrderMs),matchCount:(u||(u=o("I64"))).of_int32(e.length),profilePicUrl:p,query:a,secondaryProfilePicUrl:f,threadKey:h,threadType:y,type_:c};if(b==null)await t.runInTransaction(async function(t){var n,r;await _(t,babelHelpers.extends({},v,o("MWContentSearchUtils").getContextLineAndMatches(a,e.length,C==null||(n=C.msg)==null?void 0:n.content,c),{messageId:o("MWContentSearchUtils").getMessageId(e.length,C==null||(r=C.msg)==null?void 0:r.msgId),messageOtid:o("MWContentSearchUtils").getMessageOtid(e.length,C==null?void 0:C.externalId),messageTimestampMs:o("MWContentSearchUtils").getMessageTimestamp(C==null?void 0:C.sortOrderMs)}))},"readwrite",void 0,void 0,i.id+":245");else{r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"fetch_missing_message_"+l+"_start"});var S=await m.load().then(function(e){var t=e.issueQueryAsPromiseForSearchResult;return t(s,[b])});if(S!=null&&S.length!==0){var R=S[0];r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"fetch_missing_message_"+l+"_end"}),await t.runInTransaction(async function(t){var n;await _(t,babelHelpers.extends({},v,o("MWContentSearchUtils").getContextLineAndMatches(a,e.length,C==null||(n=C.msg)==null?void 0:n.content,c),{messageOtid:R.externalId,messageTimestampMs:R.sortOrderMs!=null?(u||(u=o("I64"))).of_float(R.sortOrderMs):void 0}))},"readwrite",void 0,void 0,i.id+":284")}else r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{bool:{failedFetchingMissingMessage:!0}},point:"fetch_missing_message_"+l+"_end"})}}})),function(){r("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{int:{numResult:h.length}},point:"issue_secure_search_query_end"}),r("promiseDone")(t.runInTransaction(async function(e){await p(e,a,{hasNextPage:!1,resultCount:(u||(u=o("I64"))).of_int32(h.length),status:(s||(s=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").COMPLETE)})},"readwrite",void 0,void 0,i.id+":324"))},function(e){r("FBLogger")("maw_fts_search").mustfix("Error while searching in secure threads. Err: %s",e==null?void 0:e.message)})}l.updateSecureMsgMatchCountForThread=f,l.clearSecureMsgMatchCountForThread=g,l.getSecureMsgsMatchCountForThread=h,l.search=y}),98);
__d("MWEncryptedBackupsListenForChangesToBackupStateInitPathGated",["cr:8129","cr:8784"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=n("cr:8784"))!=null?e:n("cr:8129"),u=s;l.default=u}),98);
__d("isEBSearchEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("4741")}l.default=e}),98);
__d("MWInboxSecureContentSearch",["I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MAWFTSMergeCutoverSearchResults","MAWMiActOnActThreadReadyDeferred","MAWUniversalMessageSearch","MWContentSearchUtils","MWSearchThreadUtils","ODS","ReQL","emptyFunction","groupBy","isEBSearchEnabled","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=["matchedTerms","recordType"],s,u,c,d=r("JSResourceForInteraction")("MAWAsyncEBIssueBulkMessagesPointQuery").__setRef("MWInboxSecureContentSearch"),m=r("justknobx")._("2605");function p(e,t,n){var r;return Promise.all([(r=o("ReQL")).mergeJoin(r.fromTableAscending(n.tables.participants,[]).getKeyRange(e),r.fromTableAscending(n.tables.contacts)),r.firstAsync(r.fromTableAscending(n.tables.threads).getKeyRange(e))]).then(function(e){var n=e[0],r=e[1],a=n.filter(function(e){var n=e[0],r=e[1],a=(s||(s=o("I64"))).equal(r.id,t);return!a}).map(function(e){var t=e[0],n=e[1];return n});return o("ReQL").firstAsync(a)})}function _(e,t){return o("MAWChatJid").toThreadKeyMaybe(t,e.chatJid).then(function(n){return n==null?Promise.resolve([null,e]):Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads).getKeyRange(n)),Promise.resolve(e)])})}async function f(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange((s||(s=o("I64"))).of_string(t)));return n}function g(e,t){var n=t.query,a=t.threadKey;return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.message_search_results).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD),n,a))}function h(e,t,n,a,l,c,d,m){m===void 0&&(m=r("LSSearchRequestStatusType").COMPLETE);var p=function(d){return _(e,d).then(function(e){var i=e[0];if(i!=null){var p=e[1],_=p.msg;if(_!=null&&p!=null)return Promise.all([o("MWSearchThreadUtils").getThreadPics(i,l,c),o("MWSearchThreadUtils").getThreadParticipants(i,c),(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))?f(c,_.sender):Promise.resolve(null),(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD))?g(d,{query:n,threadKey:i.threadKey}):Promise.resolve(null)]).then(function(e){var c=e[0],f=c[0],g=c[1],h=e[1],y=e[2],C=e[3];(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD))&&o("MAWUniversalMessageSearch").updateSecureMsgMatchCountForThread(i.threadKey,t);var b=babelHelpers.extends({},o("MWContentSearchUtils").getContextLineAndMatches(n,t,_.content,a),{displayName:o("MWSearchThreadUtils").getThreadDisplayName(l,i,h,y,a),globalIndex:(s||(s=o("I64"))).of_float(-p.sortOrderMs),matchCount:s.of_int32(t),messageId:_.msgId,messageOtid:p.externalId,messageTimestampMs:(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD))&&t>1?void 0:(s||(s=o("I64"))).of_string(""+p.sortOrderMs),profilePicUrl:(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))&&y!=null?y.profilePictureUrl:f,query:n,secondaryProfilePicUrl:(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))&&y!=null?y.profilePictureFallbackUrl:g,threadKey:i.threadKey,threadType:i.threadType,type_:a}),v;if((s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD))||C==null)v=d.message_search_results.put(b);else{var S=o("MAWFTSMergeCutoverSearchResults").mergeCutoverSearchResults(C,b);v=d.message_search_results.upsert([a,C.query,C.threadKey,C.globalIndex],babelHelpers.extends({},S,{globalIndex:b.globalIndex}))}return Promise.all([d.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:n,resultCount:s.of_int32(t),status:(u||(u=o("LSIntEnum"))).ofNumber(m),threadKeyV2:i.threadKey,type_:a}),v]).then(r("emptyFunction"))})}})};return d!=null?p(d):c.runInTransaction(function(e){return p(e)},"readwrite",void 0,void 0,i.id+":286")}async function y(t,n,r,a){a!=null&&a.flow.qplAddPoint({instanceKey:a.instanceKey,point:"search_local_result_start"});var i=await o("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:n,searchMode:o("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH});return Promise.all(i.map(function(n){if(n.recordType==="msg"){var r=n.matchedTerms,a=n.recordType,i=babelHelpers.objectWithoutPropertiesLoose(n,e);return o("MAWChatJid").toThreadKeyMaybe(t.tables,i.chatJid).then(function(e){return[i,e]})}}).filter(Boolean)).then(function(e){var t=r!=null?e.filter(function(e){var t=e[0],n=e[1];return n!=null&&(s||(s=o("I64"))).equal(n,r)}):e.filter(function(e){var t=e[0],n=e[1];return n!=null}),n=null;return r!=null&&(n={int:{numResult:t.length}}),a!=null&&a.flow.qplAddPoint({annotations:babelHelpers.extends({},n),instanceKey:a.instanceKey,point:"search_local_result_end"}),t})}function C(e,t,n,a){return(c||(c=o("ODS"))).bumpEntityKey(3303,"function_calls","MWInboxSecureContentSearch.searchSecureDatabaseThreads"),o("MAWUniversalMessageSearch").clearSecureMsgMatchCountForThread(),y(n,e,void 0,a).then(function(i){var l=Object.values(r("groupBy")(i,function(e){var t=e[0],n=e[1];return n==null?"":(s||(s=o("I64"))).to_string(n)}));return a!=null&&a.flow.qplAddAnnotations({annotations:{int:{numResult:l.length}}}),l.map(function(a){var i=a[0];if(i!=null){var l=i[0];return h(l,a.length,e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").THREAD),t,n)}}).reduce(function(e,t){return Promise.all([e,t]).then(r("emptyFunction"))},Promise.resolve())})}function b(e,t,n,a,i,l){return Promise.all(a.map(function(a){return h(a,i,n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE),l,e,t)})).then(r("emptyFunction"))}function v(e,t,n,a,i){return Promise.all(n.map(function(n){return h(n,a,t,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE),i,e)})).then(r("emptyFunction"))}function S(e,t,n,a,l){return a.runInTransaction(function(n){return n.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:e,resultCount:(s||(s=o("I64"))).of_int32(0),status:(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING),threadKeyV2:t,type_:u.ofNumber(r("LSMessageSearchType").MESSAGE)})},"readwrite",void 0,void 0,i.id+":474").then(function(n){return y(a,e,t,l)}).then(function(c){var p=c.length,_=c.filter(function(e){var t=e[0],n=e[1];return t.msg!=null}).length,f=_,g=function(){var o=c.map(function(e){var t=e[0];return t}).filter(function(e){return e.msg==null});return o.length===0?Promise.resolve():(o=o.slice(0,m),l.flow.qplAddPoint({annotations:{int:{numRequestedMessages:o.length}},instanceKey:l.instanceKey,point:"fetch_missing_messages_start"}),r("MAWMiActOnActThreadReadyDeferred")(a,t,"MWMessageSearchInput.react",function(t,r){var i=o.map(function(e){return{id:e.externalId,sortOrderMs:e.sortOrderMs}});return d.load().then(function(t){var o=t.issueQueryAsPromiseForSearchResult,s=o(r,i);return s==null?Promise.resolve():s.then(async function(t){var s=t;if(t.length!==i.length){l.flow.qplAddPoint({annotations:{int:{numRemainingMessages:i.length-t.length}},instanceKey:l.instanceKey,point:"fetch_missing_messages_partial"});var u=i.filter(function(e){return!s.some(function(t){return t.externalId===e.id})});if(u.length>0){var c=await o(r,u);c!=null&&(s=[].concat(t,c))}}return f=_+s.length,l.flow.qplAddPoint({annotations:{int:{numRespondedMessages:s.length}},instanceKey:l.instanceKey,point:"fetch_missing_messages_end"}),v(a,e,s,f,n)})})}))};return Promise.all([c.map(function(t){var i=t[0];return h(i,p,e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE),n,a,void 0,r("LSSearchRequestStatusType").PENDING)}).reduce(function(e,t){return Promise.all([e,t]).then(r("emptyFunction"))},Promise.resolve()),r("isEBSearchEnabled")()?g():Promise.resolve()]).then(function(n){return a.runInTransaction(function(n){return n.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:e,resultCount:(s||(s=o("I64"))).of_int32(f),status:(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").COMPLETE),threadKeyV2:t,type_:u.ofNumber(r("LSMessageSearchType").MESSAGE)})},"readwrite",void 0,void 0,i.id+":624")}).then(function(e){return Promise.resolve()})})}l.getThreadOtherParticipantContact=p,l.searchSecureDatabaseThreads=C,l.addBridgeSearchMsgsToSearchResult=b,l.addMessagesToSearchResult=v,l.searchSecureDatabaseMessages=S}),98);/*FB_PKG_DELIM*/
__d("LsMessageSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4190"),s=o("FalcoLoggerInternal").create("ls_message_search_end",e),u=s;l.default=u}),98);
__d("LsMessageSearchMsgImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4191"),s=o("FalcoLoggerInternal").create("ls_message_search_msg_impression",e),u=s;l.default=u}),98);
__d("LsMessageSearchMsgResultChosenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4231"),s=o("FalcoLoggerInternal").create("ls_message_search_msg_result_chosen",e),u=s;l.default=u}),98);
__d("LsMessageSearchSearchClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4464"),s=o("FalcoLoggerInternal").create("ls_message_search_search_clicked",e),u=s;l.default=u}),98);
__d("LsMessageSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4683"),s=o("FalcoLoggerInternal").create("ls_message_search_start",e),u=s;l.default=u}),98);
__d("LsMessageSearchThreadImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6727"),s=o("FalcoLoggerInternal").create("ls_message_search_thread_impression",e),u=s;l.default=u}),98);
__d("LsMessageSearchThreadListClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6293"),s=o("FalcoLoggerInternal").create("ls_message_search_thread_list_click",e),u=s;l.default=u}),98);
__d("MAWEditMessageContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useMemo,m=u.useState;function p(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=m(null),a=r[0],i=r[1],l;t[0]!==a?(l={editMessageData:a,setEditMessageData:i},t[0]=a,t[1]=l):l=t[1];var u=l,c;return t[2]!==n||t[3]!==u?(c=s.jsx(_.Provider,{value:u,children:n}),t[2]=n,t[3]=u,t[4]=c):c=t[4],c}var _=c({editMessageData:null,setEditMessageData:r("emptyFunction")});l.MAWEditMessageContext=p,l.Context=_}),98);
__d("MDBCClientEvent",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({THREAD_OPEN:1,CHAT_JOIN_SHEET_RENDERED:2,THREAD_JOIN:3,BROADCAST_BUTTON_RENDERED:4,RENDER_PUBLIC_BROADCAST_CHAT_NUX_QP:5,RENDER_PUBLIC_BROADCAST_CHAT_CREATION_SHEET:6,PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED:7,THREAD_CREATE:8,SHARE_SHEET_RENDERED:9,COPY_LINK:10,EDIT_CHAT:11,SHARE_LINK:12,RENDER_THREAD_DETAIL:13,MUTE_CHAT:14,RENDER_CHAT_MEMBERS:15,SEEN_COUNT_RENDERED:16,SHARE_LINK_SENT:17,THREAD_SETTINGS_RENDERED:18,REPORT_MESSAGE_TO_META:19,REMOVE_MESSAGE:20,ADMIN_REMOVE_MESSAGE:21,CHAT_RENDERED_IN_MIB_INBOX:22,BLOCK_FROM_CHAT:23,DEMOTE_ADMIN_BUTTON_TAPPED:24,PROMOTE_ADMIN_FAIL_IMPRESSION:25,REMOVE_FROM_CHAT:26,MESSAGE_USER:27,VIEW_USER_PROFILE:28,ADMIN_LIMIT_REACHED_IMPRESSION:29,PROMOTE_ADMIN_BUTTON_TAPPED:30,USER_PROFILE_BOTTOMSHEET:31,BAN_FROM_CHAT_SUCCESS:32,BAN_FROM_CHAT_FAILURE:33,BAN_FROM_CHAT_INITIATION:34,NOTIFICATION_CONTROL_MUTE_SELECTED:35,NOTIFICATION_CONTROL_UNMUTE_SELECTED:36,JOIN_CHAT_CONFIRM:37,SHOW_ON_PROFILE_TOGGLE:38,SHOW_ON_PROFILE_TAPPED:39,LEAVE_CHAT:40,DELETE_CHAT:41,UNMUTE_CHAT:42,REPORTED_CONTENTS_RENDERED:43,INVITE_BUTTON_TAPPED:44,VIEW_ALL_MEMBERS:45,OPEN_INVITE_LINK_VIEW:46,REPORT_CHAT_TO_FACEBOOK:47,DISMISS_BUTTON_TAPPED:48,JOIN_CHAT_SHEET_RENDERED:49,MESSAGE_SEND:50,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:51,CREATE_CHANNEL_SCREEN_RENDERED:52,CHANGE_IMAGE_TAPPED:53,JOIN_APPROVAL_TOGGLE:54,COPY_LINK_TAPPED:55,SEARCH_BAR_INPUT_FOCUS:56,INVITE_SCREEN_RENDERED:57,DONE_BUTTON_TAPPED:58,SEND_BUTTON_TAPPED:59,SHARE_TO_FEED_SKIPPED:60,SHARE_TO_FEED_SCREEN_RENDERED:61,POST_TEXT_INPUT:62,SHARE_TO_FEED_BUTTON_TAPPED:63,NAME_TEXT_INPUT:64,EDIT_CHAT_SUCCESS:65,EDIT_CHAT_FAILURE:66,REQUIRE_APPROVAL_TO_JOIN_DISABLED:67,REQUIRE_APPROVAL_TO_JOIN_ENABLED:68,MEMBER_REQUEST_JOIN_APPROVED:69,MEMBER_REQUEST_JOIN_DENIED:70,VIEW_MEMBER_REQUESTS:71,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:72,CHAT_SHARED_TO_FACEBOOK:73,EDIT_CHAT_DESCRIPTION:74,CHANGE_THREAD_PHOTO:75,INSTALL_MESSENGER_UPSELL_VIEWED:76,DOWNLOAD_MESSENGER_BUTTON_CLICKED:77,BLOCKED_USER_WARNING_RENDERED:78,BLOCKED_USER_WARNING_CONFIRM:79,NOTIF_IMPRESSION:80,NOTIF_CLICKED:81,FIRST_CREATE_BOTTOMSHEET_RENDERED:82,THREAD_CREATE_ATTEMPT:83,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:84,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:85,NOTIFICATION_CONTROL_ALL_SELECTED:86,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:87,NOTIFICATION_CONTROL_NONE_SELECTED:88,NOTIFICATION_CONTROL_RENDERED:89,UNDO_BUTTON_TAPPED:90,INVITE_SENT_SUCCESS:91,INVITE_SENT_FAILED:92,PRIMARY_PROFILE_QP_RENDERED:93,NOT_NOW_TAPPED:94,CREATE_CHANNEL_TAPPED:95,VIEW_PINNED_CHANNELS:96,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:97,DIRECT_INVITE_SENT_SUCCESS:98,DIRECT_INVITE_SENT_FAIL:99,DIRECT_INVITE_BULK_SENT_SUCCESS:100,DIRECT_INVITE_BULK_SENT_FAIL:101,DIRECT_INVITE_NOTIFICATION_RENDERED:102,DIRECT_INVITE_SHEET_RENDERED:103,INVITE_ACCEPT:104,INVITE_DECLINE:105,CHAT_INVITE_SHEET_RENDERED:106,PAUSE_CHANNEL:107,RESUME_CHANNEL:108,THREAD_CREATE_SUCCESS:109,THREAD_CREATE_ERROR:110,NOTIFICATION_RENDERING_REQUEST_SUCCESS:111,NOTIFICATION_RECALLED:112,NOTIFICATION_DISMISS:113,NOTIFICATION_CLICK:114,FEATURED_UNIT_PROFILE_QP_RENDERED:115,PIN_CARD_TAPPED:116,PIN_FEATURED_CARD_SUCCESS:117,PIN_FEATURED_CARD_FAILURE:118,CHANNELS_FEATURED_UNIT_RENDERED:119,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:120,RENDER_CHAT_INVITE_SHEET:121,RENDER_INVITE_PRESET_LIST:122,INVITE_PRESET_LIST_RENDERED:123,CREATE_POST_BUTTON_TAPPED:124,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:125,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:126,DISMISS_PAUSE_CHANNEL_DIALOG:127,DISMISS_RESUME_CHANNEL_DIALOG:128,CANCEL_RESUME_CHANNEL:129,CANCEL_PAUSE_CHANNEL:130,DEEPLINK_LANDING_PAGE_RENDERED:131,DIRECT_INVITE_SHEET_SKIPPED:132,CREATE_POST_BUTTON:133,CYSC_QP_CARD_IMPRESSION:134,SHOW_ON_PROFILE_RENDERED:135,THREAD_PREVIEW_OPEN:136,NON_MEMBER_COMPOSER_SHOWN:137,REACTIONS_UNEXPECTED_DROP:138,REACTIONS_MUTATION_SUCCESS:139,REACTIONS_MUTATION_FAILURE:140,REACTIONS_TRAY_EMPTY_ERROR:141,SET_CHAT_CREATION_PHOTO:142,SHARE_LINK_TO_FB_CONFIRM:143,BIIM_INBOX_BROADCAST_CREATE_BUTTON_RENDERED:144,BIIM_INBOX_BROADCAST_CREATE_BUTTON_TAPPED:145,PUBLIC_BROADCAST_CHAT_NUX_QP_RENDERED:146,PUBLIC_BROADCAST_CHAT_NUX_QP_TAPPED:147,PIN_FEATURED_CARD_TOGGLE:148,PIN_TO_INBOX_SUCCESS:149,PIN_TO_INBOX_FAILURE:150,UNPIN_FROM_INBOX_SUCCESS:151,UNPIN_FROM_INBOX_FAILURE:152,PINNED_THREAD_RENDERED:153,CHANNELS_TAB_ITEM_RENDERED:154,CHANNELS_TAB_ITEM_TAPPED:155,PROFILE_CHANNELS_TAB_RENDERED:156,PROMPT_ACCOUNT_SWITCH_QP_RENDERED:157,PROMPT_ACCOUNT_SWITCH_QP_CREATE_CHANNEL_TAPPED:158,PROMPT_ACCOUNT_SWITCH_QP_DISMISSED:159,CYSC_NEWSFEED_QP_RENDERED:160,CREATE_CHANNEL_OPTION_RENDERED:161,CHANNELS_LIST_RENDERED:162,CHANNELS_LIST_NULL_STATE_RENDERED:163,PUBLIC_BROADCAST_CHANNEL_APPLUS_QP:164,BROADCAST_CHANNEL_TAPPED:165,MESSENGER_SEARCH_PUBLIC_CHANNEL_RENDERED:166,PROFILE_INTRO_CARD_CHANNEL_RENDERED:167,DIRECT_INVITE_JEWEL_NOTIFICATION_CHANNEL_RENDERED:168,PERSISTENT_INVITE_CHANNEL_RENDERED:169,KEEP_EDITING_BUTTON_TAPPED:170,THREAD_TOMBSTONE_IMPRESSION:171,VIEW_PAGE_STATUS_PRESSED:172,FIRST_CREATE_FULLSCREEN_NUX_RENDERED:173,FIRST_CREATE_FULLSCREEN_NUX_TAPPED:174,DIRECTORY_SEARCH_NULLSTATE_IMPRESSION:175,DIRECTORY_PEOPLE_TAB_IMPRESSION:176,DIRECTORY_OPEN:177,DIRECTORY_FEED_QP_IMPRESSION:178,DIRECTORY_RECOMMENDATION_LIST_IMPRESSION:179,SHARE_BUTTON_ON_THREAD_HEADER:180,DIRECTORY_FEED_SEE_ALL_TAPPED:181,CHANNELS_WAITLIST_RENDERED:182,REQUEST_ACCESS_ATTEMPT:183,LEARN_MORE_TAPPED:184,REQUEST_ACCESS_SUCCESS:185,CHANNELS_SURVERY_RENDERED:186,SUBMIT_SURVEY_ATTEMPT:187,SUBMIT_SURVEY_SUCCESS:188,ALREADY_REGISTERED_VIEW_RENDERED:189,NOT_ELIGIBLE_VIEW_RENDERED:190,LOGGED_OUT_VIEW_RENDERED:191,DISCOVER_CHANNELS_TAPPED:192,CHANNELS_WAITLIST_ACCOUNT_SWITCH_RENDERED:193,WAITLIST_ACCOUNT_SWITCH_ATTEMPT:194,ALREADY_HAS_ACCESS_VIEW_RENDERED:195,MBS_CHANNELS_TAB_IMPRESSION:196,MBS_CHANNELS_TAB_TAPPED:197,MBS_CHANNELS_ENTRYPOINT_BUTTON_IMPRESSION:198,MBS_CHANNELS_ENTRYPOINT_BUTTON_TAPPED:199,WEB_SUBSCRIBE_TO_THREAD_CREATION_STATUS_TABLE:200,WEB_THREAD_CREATION_STATUS_PENDING:201,WEB_SUBSCRIBE_TO_THREADS_TABLE_DURING_CREATE:202,WEB_THREAD_CREATED_WAITING_FOR_THREAD_LINK:203,JOIN_CHAT_NUX_CONFIRM:204,JOIN_CHAT_NUX_CANCEL:205,JOIN_CHAT_NUX_RENDERED:206,MUTE_ON_LEAVE_DIALOG_RENDERED:207,DIRECTORY_FEED_QP_PREVIEW_TAPPED:208,INVITED_AND_DIRECTORY_SCREEN_IMPRESSION:209,INVITED_CHANNELS_SCREEN_IMPRESSION:210,INVITED_AND_DIRECTORY_SCREEN_TAP_SEE_ALL:211,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_STARTED:212,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_COMPLETED:213,PROMPT_ACCOUNT_SWITCH_QP_CREATION_FLOW_STARTED:214,SHARE_TO_STORY_TAPPED:215,CHANNEL_STICKER_RENDERED:216,BUMP_THREAD_TO_INBOX_TAPPED:217,UNBUMP_THREAD_FROM_INBOX_TAPPED:218,DIRECTORY_FEED_QP_DISMISS_BUTTON_TAPPED:219,MBS_CHANNELS_TAB_WITH_BADGE_IMPRESSION:220,MBS_CHANNELS_TAB_WITH_BADGE_TAPPED:221,EARLY_ACCESS_AWARENESS_SCREEN_IMPRESSION:222,EARLY_ACCESS_AWARENESS_BUTTON_CLICK:223,SHARE_MESSAGE_TO_STORY_TAPPED:224,CHANNEL_MESSAGE_STICKER_RENDERED:225,SHARE_CHANNEL_TO_STORY_BOTTOMSHEET_RENDERED:226,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_RENDERED:227,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_CLICKED:228,EARLY_ACCESS_BROADCAST_CHANNEL_TIME_SETTING_CLICKED:229,EARLY_ACCESS_BROADCAST_CHANNEL_MESSAGE_EDITED:230,EARLY_ACCESS_BROADCAST_CHANNEL_LEARN_MORE_CLICKED:231,FORWARDED_MESSAGE_CHANNEL_CLICK:232,MESSAGE_FORWARD_CLICK:233,VIEW_PINNED_MESSAGES:234,PIN_MESSAGE:235,UNPIN_MESSAGE:236,HIGHLIGHTS_TAB_REACTION_CONTAINER:237,HIGHLIGHTS_TAB_REACTION_PILL:238,SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED:239,SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED:240,SHARE_TO_CHANNELS_PAGE_IMPRESSION:241,SHARE_TO_CHANNELS_CHANNEL_TAPPTED:242,SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED:243,SHARE_TO_CHANNELS_SHARING_UNAVAILABLE:244,JOIN_TOAST_UNDO_TAPPED:245,MEMBERSHIP_MILESTONE_SCREEN_IMPRESSION:246,MEMBERSHIP_MILESTONE_IMAGE_CARD_TAPPED:247,MEMBERSHIP_MILESTONE_SEND_BUTTON_TAPPED:248,DM_VIEW_CHANNEL_BUTTON:249,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_TAPPED:250,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_IMPRESSION:251,MBS_CONTENT_CHANNELS_LIST_CHANNEL_TAPPED:252,CHANNELS_GUTTER_UNIT_RENDERED:253,SHARE_POST_TO_BC_EDUCATION_BOTTOMSHEET_IMPRESSION:254,TURN_ON_TAPPED:255,SHARE_POST_TO_BC_SCREEN_IMPRESSION:256,MBS_CONTENT_CHANNELS_NULL_STATE_COMPONENT_IMPRESSION:257,ENGAGEMENT_REMINDER_SCREEN_IMPRESSION:258,ENGAGEMENT_REMINDER_ADD_ATTACHMENT_TAPPED:259,ENGAGEMENT_REMINDER_SEND_BUTTON_TAPPED:260,PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED:261,ABOUT_CHANNEL_TAP:262,ABOUT_CHANNEL_VIEW_PAGE_TAP:263,ABOUT_CHANNEL_CLOSE:264,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_IMPRESSION:265,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_BUTTON_CLICK:266,BROADCAST_CHANNELS_LEARN_MORE_IMPRESSION:267,BROADCAST_CHANNELS_LEARN_MORE_CONFIRM_BUTTON_CLICK:268,SHARE_TO_STORY_MSGR_TO_FB_DEEPLINK_HANDLED:269,UNJOINED_THREAD_ITEM_TAPPED:270,CONTENT_CHAINING_BUTTON_IMPRESSION:271,CONTENT_CHAINING_BUTTON_CLICKED:272,PIN_POST_TOGGLED_ON:273,PIN_POST_TOGGLED_OFF:274,CREATE_OR_MESSAGE_BOTTOMSHEET_IMPRESSION:275,BIIM_PERSONAL_INBOX_TOGGLE:276,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DIALOG_IMPRESSION:277,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DECLINED:278,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ALWAYS:279,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ONCE:280,UNJOINED_THREAD_HEADER_TAP:281,CONTENT_CHAINING_SCREEN_IMPRESSION:282,CONTENT_CHAINING_POST_CELL_IMPRESSION:283,CONTENT_CHAINING_POST_CELL_CLICKED:284,CONTENT_CHAINING_BUTTON_CELL_IMPRESSION:285,CONTENT_CHAINING_BUTTON_CELL_CLICKED:286,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_IMPRESSION:287,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_TAPPED:288,SHARE_TO_CHANNELS_SHARESHEET_CHANNEL_TAPPED:289,SHARE_TO_CHANNELS_SHARESHEET_SEND_BUTTON_TAPPED:290,CREATE_OR_MESSAGE_BOTTOMSHEET_LOADING_SCREEN_IMPRESSION:291,PIN_CHANNEL_TO_MESSENGER_TOGGLE_TAPPED:292,SHARE_TO_CHANNELS_SHARESHEET_SEND_SUCCESS:293,SHARE_TO_CHANNELS_SHARESHEET_SEND_FAILURE:294,SHARE_TO_CHANNELS_SHARESHEET_CONFIRMATION_TOAST_IMPRESSION:295,CONTENT_CHAINING_LAUNCH_FAILURE:296,RENDER_PROMPT_CREATION_PILL:297,RENDER_DAILY_PROMPT_CREATOR_NUX_SHEET:298,DAILY_PROMPT_CREATOR_NUX_SHEET_RENDERED:299,DISMISS_DAILY_PROMPT_CREATOR_NUX_SHEET:300,DAILY_PROMPT_CREATION_SHEET_RENDERED:301,RENDER_DAILY_PROMPT_CREATION_SHEET:302,CANCEL_DAILY_PROMPT_CREATION_SHEET:303,START_DAILY_PROMPT:304,RENDER_DAILY_PROMPT_RESPONSES_SHEET:305,DAILY_PROMPT_RESPONSES_SHEET_RENDERED:306,RENDER_DAILY_PROMPT_RESPONSE_REPLY_SHEET:307,REPLY_DAILY_PROMPT_RESPONSE:308,RENDER_DELETE_DAILY_PROMPT_RESPONSE_DIALOG:309,DELETE_DAILY_PROMPT_RESPONSE:310,DISMISS_DELETE_DAILY_PROMPT_RESPONSE:311,REPORT_DAILY_PROMPT_RESPONSE:312,DAILY_PROMPT_RESPONSE_REACT:313,DAILY_PROMPT_RESPONSE_CREATION_SHEET_RENDERED:314,CREATE_DAILY_PROMPT_RESPONSE:315,DELETE_DAILY_PROMPT_DIALOG_RENDERED:316,DELETE_DAILY_PROMPT:317,CANCEL_DELETE_DAILY_PROMPT:318,DAILY_PROMPT_SHARE_SHEET_RENDERED:319,COLLECT_FEEDBACK_SCREEN_IMPRESSION:320,COLLECT_FEEDBACK_POST_CARD_TAPPED:321,COLLECT_FEEDBACK_NEW_QUESTION_BUTTON_TAPPED:322,COLLECT_FEEDBACK_SEND_BUTTON_TAPPED:323,REPORT_DAILY_PROMPT_DIALOG_RENDERED:324,SHARE_TO_CHANNELS_PAGE_SAVE_TAPPED:325,COLLECT_FEEDBACK_SECTION_TOGGLED:326,SEND_A_MESSAGE_SECTION_TOGGLED:327,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_RENDERED:328,PERSONAL_INBOX_OPT_IN:329,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_DISMISSED:330,PERSONAL_INBOX_OPT_OUT_AND_VIEW_AS_MEMBER:331,CHANNEL_INSIGHTS:332,FIRST_MESSAGE_SCREEN_IMPRESSION:333,FIRST_MESSAGE_SCREEN_SKIP_BUTTON_TAPPED:334,FIRST_MESSAGE_SCREEN_SEND_BUTTON_TAPPED:335,FIRST_MESSAGE_SCREEN_SUGGESTION_HSCROLL:336,FIRST_MESSAGE_SCREEN_SUGGESTION_TAPPED:337,FIRST_MESSAGE_SCREEN_MESSAGE_EDITED:338,CHANNEL_INSIGHTS_HOME_IMPRESSION:339,CHANNEL_INSIGHTS_INTERACTION_HEADER:340,CHANNEL_INSIGHTS_INTERACTION_BREAKDOWN:341,PROMPT_CREATION_COMPOSER_TOOLTIP_IMPRESSION:342,MILESTONE_NOTIFICATION_BOTTOMSHEET_RENDERED:343,MILESTONE_NOTIFICATION_BOTTOMSHEET_BUTTON_TAPPED:344,INBOX_SNIPPET_RENDERED:345,INBOX_SNIPPET_ROW_TAPPED:346,NOTIFICATION_SETTING_BOTTOM_SHEET_SHOWN:347,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_SETTING_TAPPED:348,NOTIFICATION_SETTING_BOTTOM_SHEET_DISMISSED:349,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_TOGGLE_CHANGED:350,BEST_PRACTICES_PAGE_ACTION_TAPPED:351,BEST_PRACTICES_PAGE_RENDERED:352,PAID_PARTNERHIP_DRAWER_OPTION_TAPPED:353,PAID_PARTNERHIP_TOGGLE_UPDATED:354,FANDOM_CHANNEL_ENTRYPOINT_CLICKED:355,PRODASH_NEXT_STEP_TIP_TAPPED:356,FANDOM_INTEGRATION_PILLS_RENDERED:357,FANDOM_INTEGRATION_PILLS_CLICKED:358,CONVERSATION_STARTER_PILLS_CLICKED:359,CONVERSATION_STARTER_PILLS_RENDERED:362,CHANNEL_POLLS_RENDERED:363,CHANNEL_POLLS_OPTION_SELECTED:365,DAILY_PROMPT_CREATION_SUGGESTION_TAPPED:366,FANDOM_CHANNEL_ENTRYPOINT_IMPRESSION:367,ATS_SHORTCUT_ICON_RENDERED:368,NEW_CHANNEL_NOTIFICATION_TOAST_IMPRESSION:369,NEW_CHANNEL_NOTIFICATION_TOAST_VIEW_CTA_TAPPED:370}),l=e;i.default=l}),66);
__d("MDSScrollableAreaStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={themed:{scrollbarColor:"x16o0dkt",$$css:!0},unthemed:{scrollbarColor:"xgjnz6y",$$css:!0}},s=e;l.default=s}),98);
__d("MWBroadcastChannelLoggingShapes",[],(function(t,n,r,o,a,i){"use strict";var e={action:2,event:191,parentSurface:11,source:105,surface:73},l={action:1,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:95,parentSurface:7,source:8,surface:4},s={action:2,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:161,parentSurface:7,source:8,surface:4},u={action:1,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:95,parentSurface:11,source:8,surface:58},c=babelHelpers.extends({},u,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),d=babelHelpers.extends({},u,{clientExtras:{entry_point:"public_chats:profile_from_mbs"}}),m=babelHelpers.extends({},u,{clientExtras:{entry_point:"public_chats:fandom_create_channel_email"}}),p={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:162,parentSurface:21,source:90,surface:59},_={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"},event:163,parentSurface:21,source:90,surface:59},f={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:161,parentSurface:21,source:90,surface:59},g=babelHelpers.extends({},f,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),h={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:164,parentSurface:11,source:92,surface:65},y={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:164,parentSurface:21,source:92,surface:66},C={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:161,parentSurface:11,source:92,surface:65},b={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:161,parentSurface:21,source:92,surface:66},v={action:1,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:95,parentSurface:11,source:8,surface:65},S={action:1,clientExtras:{entry_point:"public_chats:profile_qp"},event:95,parentSurface:21,source:8,surface:66},R={action:1,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:95,parentSurface:11,source:88,surface:64},L={action:1,clientExtras:{entry_point:"public_chats:channel_creation_qp"},event:95,parentSurface:11,source:67,surface:27},E={action:1,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:95,parentSurface:11,source:88,surface:69},k={action:1,clientExtras:{entry_point:"public_chats:channels_gutter"},event:95,parentSurface:11,source:8,surface:91},I={action:2,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:161,parentSurface:11,source:88,surface:64},T={action:2,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:161,parentSurface:11,source:88,surface:69},D={action:1,event:147,parentSurface:4,source:81,surface:51},x={action:1,event:165,parentSurface:21,source:93,surface:58},$={action:1,event:148,parentSurface:11,source:89,surface:21},P={action:2,event:7,parentSurface:17,source:82,surface:41},N={action:2,event:146,parentSurface:4,source:81,surface:51},M={action:2,event:261,parentSurface:4,source:81,surface:51},w={action:1,event:53,parentSurface:4,source:81,surface:51},A={action:1,event:8,parentSurface:17,source:8,surface:41},F={action:1,event:234,parentSurface:8,source:27,surface:16},O={action:1,event:234,parentSurface:7,source:62,surface:7},B={action:1,event:235,parentSurface:7,source:62,surface:7},W={action:1,event:236,parentSurface:7,source:62,surface:7},q={action:2,event:239,parentSurface:11,source:147,surface:87},U={action:1,event:240,parentSurface:11,source:147,surface:87},V={action:2,event:241,parentSurface:11,source:147,surface:87},H={action:1,event:242,parentSurface:11,source:147,surface:87},G={action:1,event:243,parentSurface:11,source:147,surface:87};i.CREATOR_WAITLIST_LOGGED_OUT_VIEW_RENDERED=e,i.CREATE_CHANNEL_TAPPED_FULL_PAGE_SHAPE=l,i.CREATE_CHANNEL_OPTION_RENDERED_FULL_PAGE_SHAPE=s,i.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_SHAPE=u,i.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_NULL_STATE_SHAPE=c,i.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_MBS_SHAPE=d,i.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_FCC_EMAIL_SHAPE=m,i.CHANNELS_LIST_RENDERED_SHAPE=p,i.CHANNELS_LIST_NULL_STATE_RENDERED_SHAPE=_,i.CREATE_CHANNEL_OPTION_CHANNELS_TAB_RENDERED_SHAPE=f,i.CREATE_CHANNEL_OPTION_CHANNELS_TAB_NULL_STATE_RENDERED_SHAPE=g,i.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_RENDERED_SHAPE=h,i.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_RENDERED_SHAPE=y,i.CREATE_CHANNEL_OPTION_NEWSFEED_QP_RENDERED_SHAPE=C,i.CREATE_CHANNEL_OPTION_PROFILE_PAGE_QP_RENDERED_SHAPE=b,i.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_TAP_SHAPE=v,i.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_TAP_SHAPE=S,i.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_TAP_SHAPE=R,i.CREATE_BROADCAST_CHANNEL_JEWEL_QP_TAP_SHAPE=L,i.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_TAP_SHAPE=E,i.CREATE_BROADCAST_CHANNEL_FROM_GUTTER_TAP_SHAPE=k,i.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_RENDERED_SHAPE=I,i.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_RENDERED_SHAPE=T,i.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_BUTTON_TAP_SHAPE=D,i.APPLUS_TAP_BROADCAST_CHANNEL_IN_CHANNELS_TAB_SHAPE=x,i.APPLUS_TAP_PIN_TO_FEATURE_IN_CREATION_FORM=$,i.PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED_SHAPE=P,i.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_RENDERED_SHAPE=N,i.PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED=M,i.BROADCAST_CHANNEL_CHANGE_IMAGE_TAP_SHAPE=w,i.THREAD_CREATE_TAP_SHAPE=A,i.VIEW_PINNED_MESSAGES_FROM_THREAD_DETAIL=F,i.VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER=O,i.PIN_MESSAGE=B,i.UNPIN_MESSAGE=W,i.SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED=q,i.SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED=U,i.SHARE_TO_CHANNELS_PAGE_IMPRESSION=V,i.SHARE_TO_CHANNELS_CHANNEL_TAPPED=H,i.SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED=G}),66);
__d("MWChatSettingsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9672376216183311"}),null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:e},params:{id:n("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){var e=o("CometRelay").fetchQuery(r("CometRelayEnvironment"),u,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(e){var n,r,o=e==null||(n=e.viewer)==null?void 0:n.chat_tabs_turned_off,a=e==null||(r=e.viewer)==null?void 0:r.chat_sounds_on;t(o,a)});r("promiseDone")(e)},u=e!==void 0?e:e=n("MWChatSettingsQuery.graphql"),c=function(t){s(function(e,n){return t(e)})},d=function(t){s(function(e,n){return t(n!=null&&n)})};l.areChatTabsTurnedOff=c,l.areChatTabsSoundsOn=d}),98);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","getErrorSafe","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useRef,m=u.useSyncExternalStore,p=new Map,_=new Map;function f(e){var t;(t=p.get(e))==null||t.forEach(function(e){return e()})}function g(t,n){var o=d(t).current,a=d({parsed:o,stringified:void 0}),i=c(function(e){var t=p.get(n),r=t!=null?t:new Set;return r.add(e),p.set(n,r),function(){r.delete(e)}},[n]),l=c(function(){var t=(e||(e=r("WebStorage"))).getLocalStorageForRead(),i=t==null?_.get(n):t.getItem(n);if(i==null)return o;if(i===a.current.stringified)return a.current.parsed;try{var l=JSON.parse(i);return a.current={parsed:l,stringified:i},l}catch(e){return o}},[o,n]),s=m(i,l),u=c(function(t){var o=t instanceof Function?t(a.current.parsed):t,i=(e||(e=r("WebStorage"))).getLocalStorage(),l=JSON.stringify(o);if(i!=null)if(l==null)i.removeItem(n);else try{i.setItem(n,l)}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(s).mustfix("Failed to setItem")}else _.set(n,l);f(n)},[n]);return[s,u]}l.usePersistedUIState=g}),98);
__d("MWLogBroadcastChannelFalcoEvent",["I64","emptyFunction","requireDeferred","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWLogBroadcastChannelFalcoEvent"),u=new Set([161,119]),c=300*1e3,d=null,m=null;function p(e){return e.current?r("emptyFunction"):(e.current=!0,function(e){return _(e)})}function _(t){var n=t.action,a=n===void 0?1:n,i=t.clientExtras,l=t.event,p=t.parentSurface,_=p===void 0?3:p,f=t.source,g=t.surface,h=t.threadFbid,y=t.recipientId;s.onReady(function(t){var n=Date.now();(d==null||m!=null&&n-m>c||u.has(l))&&(d=r("uuidv4")()),m=n,t.log(function(){return{action:a,action_name:a,event:l,event_name:l,extra:i,parent_surface:_,parent_surface_name:_,recipient_id:y,session_id:d,source:f,source_name:f,surface:g,surface_name:g,thread_id:h!=null?(e||(e=o("I64"))).to_string(h):void 0}})})}l.useLogBroadcastChannelFalcoEventWithRef=p,l.logBroadcastChannelFalcoEvent=_}),98);
__d("coerceMessagingThreadTypeToLSThreadType",["LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return(e||(e=o("LSIntEnum"))).unwrapIntEnum(t)}l.default=s}),98);
__d("MWPConversationSearchLogger",["I64","LSMessagingThreadTypeUtil","LsMessageSearchEndFalcoEvent","LsMessageSearchMsgImpressionFalcoEvent","LsMessageSearchMsgResultChosenFalcoEvent","LsMessageSearchSearchClickedFalcoEvent","LsMessageSearchStartFalcoEvent","LsMessageSearchThreadImpressionFalcoEvent","LsMessageSearchThreadListClickFalcoEvent","coerceMessagingThreadTypeToLSThreadType","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=void 0;function c(e,t,n){var o=e?u!=null?u:d():r("uuidv4")(),a={instanceId:o,threadKey:t,threadType:n,universalSearchInstanceId:e?o:void 0};return s=a,a}function d(){var e=r("uuidv4")();return u=e,e}function m(){var e=d();r("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:2,message_search:{instance_id:e,surface_name:0,universal_search_instance_id:e}}})}function p(t,n){var a=u;if(a!=null){var i=t.threadKey,l=t.threadType;c(!0,i,l),r("LsMessageSearchThreadListClickFalcoEvent").log(function(){var i;return{message_search:{instance_id:a,msg_match_cnt:(e||(e=o("I64"))).to_string((i=t.matchCount)!=null?i:(e||(e=o("I64"))).zero),secure_msg_match_cnt:n!=null?n.toString():null,universal_search_instance_id:a},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(l)}}})}}function _(t,n){var a=u;if(a!=null){var i=t.threadType;r("LsMessageSearchThreadImpressionFalcoEvent").log(function(){var l;return{message_search:{instance_id:a,msg_match_cnt:(e||(e=o("I64"))).to_string((l=t.matchCount)!=null?l:(e||(e=o("I64"))).zero),secure_msg_match_cnt:n!=null?n.toString():null,surface_name:0,universal_search_instance_id:a},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(i)}}})}}function f(){var e=s;e!=null&&(r("LsMessageSearchEndFalcoEvent").log(function(){return{end_action:0,message_search:{instance_id:e.instanceId,universal_search_instance_id:e.universalSearchInstanceId}}}),s=void 0)}function g(e,t){f();var n=c(!1,e,t),a=o("LSMessagingThreadTypeUtil").isArmadilloSecure(t);r("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:0,is_fts:a,message_search:{instance_id:n.instanceId,surface_name:1},thread:{type:r("coerceMessagingThreadTypeToLSThreadType")(t)}}})}function h(){var e=s;e!=null&&r("LsMessageSearchSearchClickedFalcoEvent").log(function(){return{message_search:{instance_id:e.instanceId,universal_search_instance_id:e.universalSearchInstanceId},thread:{type:e.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(e.threadType):void 0}}})}function y(e){if((e==null?void 0:e.threadType)!=null)return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)?1:0}function C(t,n,a){var i=s;i!=null&&r("LsMessageSearchMsgResultChosenFalcoEvent").log(function(){return{click_surface_name:1,message:{message_type:y(a),sent_time:(a==null?void 0:a.messageTimestampMs)!=null?(e||(e=o("I64"))).to_float(a.messageTimestampMs):void 0},message_search:{instance_id:i.instanceId,universal_search_instance_id:i.universalSearchInstanceId},position:n.toString(),prev_or_next:t,thread:{type:i.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(i.threadType):void 0}}})}function b(t){var n=s;n!=null&&r("LsMessageSearchMsgImpressionFalcoEvent").log(function(){return{message:{message_type:y(t),sent_time:(t==null?void 0:t.messageTimestampMs)!=null?(e||(e=o("I64"))).to_float(t.messageTimestampMs):void 0},message_search:{instance_id:n.instanceId,surface_name:5,universal_search_instance_id:n.universalSearchInstanceId},thread:{type:n.threadType!=null?r("coerceMessagingThreadTypeToLSThreadType")(n.threadType):void 0}}})}var v={logMessageSearchEnd:f,logMessageSearchMsgImpression:b,logMessageSearchMsgResultChosen:C,logMessageSearchSearchClicked:h,logMessageSearchStart:g,logUniversalMessageSearch:m,logUniversalMessageSearchThreadClicked:p,logUniversalMessageSearchThreadImpression:_};l.default=v}),98);
__d("MWPReplyContext.react",["I64","emptyFunction","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useCallback,p=c.useMemo,_=c.useState,f=r("requireDeferred")("MWPReplyLogging").__setRef("MWPReplyContext.react"),g=d({clearReply:r("emptyFunction"),reply:void 0,setReply:r("emptyFunction")});function h(e){try{return JSON.parse(e)}catch(e){return}}function y(e){var t=o("react-compiler-runtime").c(17),n=e.children,r=e.clearThreadReply,a=e.getRepliesState,i=e.persistRepliesState,l=e.senderId,c=e.threadKey,d;t[0]!==a||t[1]!==c?(d=a!=null&&c!=null?h(a((s||(s=o("I64"))).to_string(c))):void 0,t[0]=a,t[1]=c,t[2]=d):d=t[2];var m=d,p=_(m),y=p[0],C=p[1],b;t[3]!==r||t[4]!==y?(b=function(t,n){if(f.onReady(function(e){e.logClearReply(n,t,y!=null)}),C(),r!=null)return r((s||(s=o("I64"))).to_string(t))},t[3]=r,t[4]=y,t[5]=b):b=t[5];var v=b,S;t[6]!==i||t[7]!==y||t[8]!==l?(S=function(t,n){if(f.onReady(function(e){e.logSetReply(y,t,n)}),C(t),i!=null)return i({messageId:t.messageId,offlineThreadingId:t.offlineThreadingId,senderId:l,sendStatusV2:t.sendStatusV2,threadKey:(s||(s=o("I64"))).to_string(n),timestampMs:t.timestampMs})},t[6]=i,t[7]=y,t[8]=l,t[9]=S):S=t[9];var R=S,L;t[10]!==v||t[11]!==y||t[12]!==R?(L={clearReply:v,reply:y,setReply:R},t[10]=v,t[11]=y,t[12]=R,t[13]=L):L=t[13];var E=L,k;return t[14]!==n||t[15]!==E?(k=u.jsx(g.Provider,{value:E,children:n}),t[14]=n,t[15]=E,t[16]=k):k=t[16],k}l.MWPReplyContext=g,l.MWPReplyContextProvider=y}),98);
__d("MWPThreadIsPageContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("MWPThreadIsPage.react",["FBLogger","I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useContext;function p(t){var n=o("react-compiler-runtime").c(11),a=t.children,l=t.threadKey,c=(e||(e=r("useReStore")))(),m=o("MWPActor.react").useActor(),p;n[0]!==m||n[1]!==c||n[2]!==l?(p=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(c.tables.participants,["contactId"]).getKeyRange(l).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,m)}),o("ReQL").fromTableAscending(c.tables.contacts))},n[0]=m,n[1]=c,n[2]=l,n[3]=p):p=n[3];var _;n[4]!==l?(_=[l],n[4]=l,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":29"),g=f!=null?f[1]:null,h;n[6]!==g?(h=g!=null?(s||(s=o("I64"))).equal(g.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE)):!1,n[6]=g,n[7]=h):h=n[7];var y=h,C;return n[8]!==a||n[9]!==y?(C=d.jsx(r("MWPThreadIsPageContext").Provider,{value:y,children:a}),n[8]=a,n[9]=y,n[10]=C):C=n[10],C}function _(){var e=m(r("MWPThreadIsPageContext"));return e!=null?e:(r("FBLogger")("messenger_web_ia").mustfix("Using hook useIsPage in a place where we didn't include the context"),!1)}l.Provider=p,l.useIsPage=_}),98);
__d("MWPVisibleMessageContext.react",["ReQL","ReQLSuspense","emptyFunction","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.createContext,m=c.useContext,p=c.useEffect,_=c.useMemo,f=c.useState,g={setVisibleMessage:r("emptyFunction"),visibleMessage:void 0},h=d(g);function y(t){var n,a=o("react-compiler-runtime").c(9),l=t.children,s=f(),c=s[0],d=s[1],m=(e||(e=r("useReStore")))(),_=c==null?void 0:c.messageOtid,g=c==null?void 0:c.messageId,y=(n=o("ReQLSuspense").useFirst(function(){return _!=null?o("ReQL").fromTableAscending(m.tables.messages.index("optimistic")).getKeyRange(_):o("ReQL").empty()},[m,_],i.id+":65"))==null?void 0:n.messageId,C,b;a[0]!==g||a[1]!==y?(C=function(){y!=null&&g==null&&d(function(e){return e==null?null:babelHelpers.extends({},e,{messageId:y})})},b=[d,g,y],a[0]=g,a[1]=y,a[2]=C,a[3]=b):(C=a[2],b=a[3]),p(C,b);var v;a[4]!==c?(v={setVisibleMessage:d,visibleMessage:c},a[4]=c,a[5]=v):v=a[5];var S=v,R;return a[6]!==l||a[7]!==S?(R=u.jsx(h.Provider,{value:S,children:l}),a[6]=l,a[7]=S,a[8]=R):R=a[8],R}function C(){return m(h)}l.MWPVisibleMessageContext=h,l.MWPVisibleMessageContextProvider=y,l.useMWPVisibleMessageContext=C}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2}),l=[e.MESSAGE_LIST_PANEL,e.INFO_PANEL],s=375,u=320,c=e.THREAD_LIST_PANEL,d=e.MESSAGE_LIST_PANEL,m=3;i.MWLayoutPanel=e,i.MWInboxMainContentPanels=l,i.DENSE_LAYOUT_BREAKPOINT_WIDTH=s,i.DENSE_LAYOUT_BREAKPOINT_HEIGHT=u,i.DEFAULT_ONE_CARD_INDEX=c,i.DEFAULT_TWO_CARDS_INDEX=d,i.DEFAULT_MAX_CARDS_VISIBLE=m}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({_mountCard:r("emptyFunction"),_unmountCard:r("emptyFunction"),cardsVisible:o("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:o("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:r("emptyFunction"),primaryCardIndex:o("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:r("emptyFunction"),secondaryCardIndex:null}),c=u;l.default=c}),98);
__d("MWResponsiveLayoutShowState",[],(function(t,n,r,o,a,i){"use strict";var e={1:["fill"],2:["fixed","fill"],3:["fill-limit","fill","fill-limit"]};function l(e,t){var n=t.maxCardsVisible-1;return e>n&&s(e,t)!=="hidden"}function s(t,n){var r=n.maxCardsVisible,o=n.primaryCardIndex,a=n.secondaryCardIndex,i=r-1,l=Math.min(i,t),s=e[r][l];if(o>=i)return t<i||t===o?s:"hidden";var u=a!=null?a:-1;return u>=i?t<i||t===u?s:"hidden":t<=i?s:"hidden"}i.isCardStackedAboveOthers=l,i.getCardShowState=s}),66);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=["hasMissingMessage"],s;function u(t,n,a,i){var l=t.threadKey,u=t.threadType;if(a!=null){var c=o("LSMessagingThreadTypeUtil").isArmadilloSecure(u),d=o("LSMessagingThreadTypeUtil").isGroup(u),m=(s||(s=o("I64"))).to_string(l),p=i!=null?i:{},_=p.hasMissingMessage,f=babelHelpers.objectWithoutPropertiesLoose(p,e),g=i!=null?i:{},h=g.MAW_vs_EB_numOfMissingInReference,y=g.MAW_vs_EB_numOfMissingInTarget,C=g.UI_vs_EB_numOfMissingInReference,b=g.UI_vs_EB_numOfMissingInTarget,v=g.UI_vs_MAW_numOfMissingInReference,S=g.UI_vs_MAW_numOfMissingInTarget,R=g.pageSize;r("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:a,event_name:n,extra_data:f,has_message_missing:_,is_secured:c,missing_messages_maw_vs_eb_missing_in_reference_count:h,missing_messages_maw_vs_eb_missing_in_target_count:y,missing_messages_page_size:R,missing_messages_ui_vs_eb_missing_in_reference_count:C,missing_messages_ui_vs_eb_missing_in_target_count:b,missing_messages_ui_vs_maw_missing_in_reference_count:v,missing_messages_ui_vs_maw_missing_in_target_count:S,other_user_fbid:d||c?void 0:m,thread_fbid:m}})}}l.default=u}),98);/*FB_PKG_DELIM*/
__d("LSMaxInt32",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("I64"))).of_int32(2147483647);l.default=s}),98);
__d("CreateDerivedKeys",["CryptoLogger","I64","LSMaxInt32","LSVec","Promise","RetUtil","XPlatReactCrypto"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a,i,l){var u=o("CryptoLogger").CryptoLogger("create_derived_keys");if(l.length<1||l.some(function(e){return(s||(s=o("I64"))).gt(e,r("LSMaxInt32"))}))return u.mustfix("Invalid key lengths for derive keys"),(e||(e=n("Promise"))).resolve(o("RetUtil").getNullableRetResult(void 0));var c=l.map((s||(s=o("I64"))).to_int32),d=l.map(s.to_int32).reduce(function(e,t){return e+t},0),m=function(t){for(var e=[],n=0,a=0,i=c.length;a<i;++a){var l=n+c[a];e.push(t.slice(n,l).buffer),n=l}return o("RetUtil").getNullableRetResult(r("LSVec").ofArray(e))};return o("XPlatReactCrypto").subtleImportKey("raw",i,"HKDF",!1,["deriveBits"]).then(function(e){return o("XPlatReactCrypto").subtleDeriveBits({hash:"SHA-256",info:t,name:"HKDF",salt:a!=null?a:new Uint8Array(10).buffer},e,d*8)}).then(function(e){var t=new Uint8Array(e);return m(t)}).catch(function(e){return u.catching(e).mustfix("Failed to create derived keys"),o("RetUtil").getNullableRetResult()})}l.CreateDerivedKeys=u}),98);
__d("EBDBMetricsConsistencyOperationEnum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Upload:0});i.EBConsistencyOperation=e}),66);
__d("EBMinosCheckWasmFeatureSupport",["gkx","wasm-feature-detect"],(function(t,n,r,o,a,i,l){"use strict";var e=null;async function s(){if(e!=null)return e;var t=await o("wasm-feature-detect").bulkMemory(),n=await o("wasm-feature-detect").bigInt(),r=await o("wasm-feature-detect").referenceTypes();return e=t&&n&&r,e}async function u(){var e=await s();if(!e)return!1;var t=r("gkx")("20911");return t}l.checkWasmFeatureSupport=s,l.checkWasmFeatureSupportAndGK=u}),98);
__d("EBReenrollmentTriggerHandler",["EBLogger","LSIntEnum","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("EBLogger").EBLogger().tags(["DefaultEBReenrollmentTriggerHandler"]),u=(function(){function t(){}var n=t.prototype;return n.handle=function(n){s.debug("Running default reenrollment trigger handler for reason: "+(e||(e=o("LSIntEnum"))).toNumber(n.deviceReenrollmentReason));for(var t of r("MWEncryptedBackupsLocalStorageEntryEnum").members())s.debug("Clearing local storage key: "+t),t!==r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE&&o("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry(t)},t})();l.DefaultEBReenrollmentTriggerHandler=u}),98);
__d("EBReenrollmentTriggerListener",["EBReenrollmentTriggerHandler","LSIntEnum","MWEBODSCategory","MWEBODSEntityName.enum","ODS","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e){this.$1=new Map,this.$4=new(o("EBReenrollmentTriggerHandler")).DefaultEBReenrollmentTriggerHandler,this.$2=e,this.$5()}var n=t.prototype;return n.$5=function(){var t=this;return this.$3==null&&(this.$3=o("ReQL").fromTableAscending(this.$2.tables.encrypted_backups_reenrollment_trigger).take(1).subscribe(function(n,a){if(a.operation==="add"||a.operation==="put"){(e||(e=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_COUNTERS,"reenrollment_trigger");var l=t.getDefaultHandler();if(a.value.deviceReenrollmentReason!=null){var u;l=(u=t.$1.get((s||(s=o("LSIntEnum"))).unwrapIntEnum(a.value.deviceReenrollmentReason)))!=null?u:l}l.handle(a.value),r("promiseDone")(t.$2.runInTransaction(function(e){return e.encrypted_backups_reenrollment_trigger.delete(a.value.pk)},"readwrite",void 0,void 0,i.id+":77"))}})),this.$3},n.attachHandler=function(t,n){this.$1.set(t,n)},n.getDefaultHandler=function(){return this.$4},t})(),c;function d(e){return c!=null||(c=new u(e)),c}function m(e){return c==null&&d(e),c}l.initEBReenrollmentTriggerListener=d,l.getEBReenrollmentTriggerListener_TESTING_ONLY=m}),98);
__d("EBSMAPI",["EBDeps"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return e!=null||(e=o("EBDeps").getDeps().getEBSMAPI()),e}var u={addDeviceWithEBKeys:async function(){var e;return(e=await s()).addDeviceWithEBKeys.apply(e,arguments)},addDeviceWithRecoveryCode:async function(){var e;return(e=await s()).addDeviceWithRecoveryCode.apply(e,arguments)},addVirtualDevice:async function(){var e;return(e=await s()).addVirtualDevice.apply(e,arguments)},deleteBackupsOnClient:async function(){var e;return(e=await s()).deleteBackupsOnClient.apply(e,arguments)},deleteEncryptedBackup:async function(){var e;return(e=await s()).deleteEncryptedBackup.apply(e,arguments)},ebOptOut:async function(){var e;return(e=await s()).ebOptOut.apply(e,arguments)},fetchBackupIds:async function(){var e;return(e=await s()).fetchBackupIds.apply(e,arguments)},generateRecoveryCode:async function(){var e;return(e=await s()).generateRecoveryCode.apply(e,arguments)},getEBState:async function(){return(await s()).getEBState()},getLSVirtualDevices:async function(t){return(await s()).getLSVirtualDevices(t)},initializeBackup:async function(){var e;return(e=await s()).initializeBackup.apply(e,arguments)},isEbEnabled:async function(){var e;return(e=await s()).isEbEnabled.apply(e,arguments)},optOutOfBackup:function(){return Promise.resolve()},otcAddDevice:async function(){var e;return(e=await s()).otcAddDevice.apply(e,arguments)},repairEpochs:async function(){return(await s()).repairEpochs()},revokeVirtualDevice:async function(){var e;return(e=await s()).revokeVirtualDevice.apply(e,arguments)},syncEpochs:async function(){return(await s()).syncEpochs()}},c=u;l.default=c}),98);
__d("EncryptedBackupsSymmetricEncryptionUtils",[],(function(t,n,r,o,a,i){"use strict";var e=16,l=28,s=16,u=128;i.hChaCha20SubKeyNonceLengthInBytes=e,i.totalNonceLengthInBytes=l,i.aesGcmTagLengthInBytes=s,i.aesGcmTagLength=u}),66);
__d("HChaCha20",["err"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}e.fromHexString=function(t){var e=t.match(/[A-Fa-f0-9]{1,2}/g);if(t.length===0||t.length%2!==0||e==null)throw r("err")('The string "'+t+'" is not valid hex.');return new Uint8Array(e.map(function(e){return parseInt(e,16)}))},e.bufferToUint32Array=function(t){for(var e=new DataView(t),n=[],r=t.byteLength/4,o=0;o<r;o++)n.push(new DataView(e.buffer.slice(o*4,o*4+4)).getInt32(0));return Uint32Array.from(n)},e.rotate=function(t,n){var e=t&4294967295,r=n&31;return(e<<r|e>>>32-r)>>>0},e.quarterRound=function(n,r,o,a){var t=n,i=r,l=o,s=a;return t=t+i&4294967295,s=e.rotate(s^t,16),l=l+s&4294967295,i=e.rotate(i^l,12),t=t+i&4294967295,s=e.rotate(s^t,8),l=l+s&4294967295,i=e.rotate(i^l,7),[t>>>0,i>>>0,l>>>0,s>>>0]};var t=e.prototype;return t.createHCtx=function(n,o){var t=new Uint32Array(16),a=e.fromHexString("657870616e642033322d62797465206b");if(a.byteLength!==16)throw r("err")("Could not create context. Invalid constant buffer length of "+a.byteLength+". Expected a length of 16");if(n.byteLength!==32)throw r("err")("Could not create context. Invalid key buffer length of "+n.byteLength+". Expected a length of 32");if(o.byteLength!==16)throw r("err")("Could not create context. Invalid nonce buffer length of "+o.byteLength+". Expected a length of 16");var i=e.bufferToUint32Array(a.buffer),l=e.bufferToUint32Array(n),s=e.bufferToUint32Array(o);return t.set(i),t.set(l,i.length),t.set(s,i.length+l.length),t.buffer},t.hChaCha20Bytes=function(n,r){for(var t=new DataView(this.createHCtx(r,n)),o=t.getInt32(0),a=t.getInt32(4),i=t.getInt32(8),l=t.getInt32(12),s=t.getInt32(16),u=t.getInt32(20),c=t.getInt32(24),d=t.getInt32(28),m=t.getInt32(32),p=t.getInt32(36),_=t.getInt32(40),f=t.getInt32(44),g=t.getInt32(48),h=t.getInt32(52),y=t.getInt32(56),C=t.getInt32(60),b=0;b<10;b++){var v=e.quarterRound(o,s,m,g);o=v[0],s=v[1],m=v[2],g=v[3];var S=e.quarterRound(a,u,p,h);a=S[0],u=S[1],p=S[2],h=S[3];var R=e.quarterRound(i,c,_,y);i=R[0],c=R[1],_=R[2],y=R[3];var L=e.quarterRound(l,d,f,C);l=L[0],d=L[1],f=L[2],C=L[3];var E=e.quarterRound(o,u,_,C);o=E[0],u=E[1],_=E[2],C=E[3];var k=e.quarterRound(a,c,f,g);a=k[0],c=k[1],f=k[2],g=k[3];var I=e.quarterRound(i,d,m,h);i=I[0],d=I[1],m=I[2],h=I[3];var T=e.quarterRound(l,s,p,y);l=T[0],s=T[1],p=T[2],y=T[3]}return Uint32Array.from([o,a,i,l,g,h,y,C]).buffer},e})();l.HChaCha20=e}),98);
__d("PakeCpaceUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)}function l(e,t){var n=new e.VectorInt;return t.forEach(function(e){n.push_back(e)}),n}i.typedArrayToBuffer=e,i.uint8ArrayToVectorInt=l}),66);
__d("Hmac_v2",["CryptoLogger","LSResult","PakeCpaceUtils","Promise","WACryptoSha256HmacBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(a,i){try{var t=new(o("WACryptoSha256HmacBuilder")).Sha256HMacBuilder(new Uint8Array(a)).update(new Uint8Array(i)).finish();return(e||(e=n("Promise"))).resolve(r("LSResult")(o("PakeCpaceUtils").typedArrayToBuffer(t)))}catch(e){throw o("CryptoLogger").captureError(o("CryptoLogger").CryptoLogger("hmac_v2"),e).mustfix("Crypto signing failed: data length: %s, was_timeout: %s",i==null?void 0:i.byteLength,!1),e}};l.default=s}),98);
__d("LSBinaryToHex.nop",["LSResult","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(o,a,i){var t=Array.from(new Uint8Array(i)),l=t.map(function(e){return e.toString(16).padStart(2,"0")}),s=l.join("").toUpperCase();return(e||(e=n("Promise"))).resolve(r("LSResult")(s))};s.__nop_name__="LSBinaryToHex",l.default=s}),98);
__d("LSCookie",["$InternalEnum","Cookie","CookieCore","CurrentEnvironment","CurrentMessengerUser","FBLogger","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","MessengerLogHistory","MqttWebDeviceID","ReQL","SortedAsyncIterable","getErrorSafe","isPromise","isStringNullOrEmpty","pageID","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=n("$InternalEnum")({SYNCING:"1",NOT_SYNCING:"0"}),d=o("MessengerLogHistory").getInstance("client_init"),m=r("CurrentEnvironment").instagramdotcom?"igd_ls":"m_ls",p={c:{},d:r("MqttWebDeviceID").clientID,s:c.NOT_SYNCING,u:r("pageID")};function _(e){function t(e){o("CookieCore").setWithDomain_FOR_MESSENGER_LS_ONLY(m,JSON.stringify(e),window.location.hostname)}var n=r("Cookie").get(m);if(n==null){var a;t((a={},a[o("CurrentMessengerUser").getIDorEIMU()]=e,a));return}var i=JSON.parse(n);if(i.u==null){var l;t(babelHelpers.extends({},i,(l={},l[o("CurrentMessengerUser").getIDorEIMU()]=e,l)))}else{var s;t((s={},s[o("CurrentMessengerUser").getIDorEIMU()]=e,s))}}function f(){r("Cookie").clear(m)}function g(e){if(typeof e!="object"||e==null)return null;var t=e.c,n=e.d,r=e.s,o=e.u,a=typeof r=="string"?c.cast(r):null,i=typeof t=="object"&&t!=null?Object.entries(t).reduce(function(e,t){var n=t[0],r=t[1];return e==null||typeof r!="string"?null:(e[n]=r,e)},{}):null;return typeof n!="string"||a==null||i==null||typeof o!="string"?null:{c:i,d:n,s:a,u:o}}function h(){var e,t=r("Cookie").get(m);if(r("isStringNullOrEmpty")(t))return p;var n=JSON.parse(t),a=o("CurrentMessengerUser").getIDorEIMU(),i=g(n),l=typeof n=="object"&&n!=null?g(n[a]):null;return(e=l!=null?l:i)!=null?e:p}function y(e){var t=h();if(t.u===r("pageID")){var n={};e.forEach(function(e){var t=e[0],r=e[1],a=r.currentCursor,i=r.groupId;a!=null&&(n[(s||(s=o("I64"))).to_string(i)]=a)}),d.debug("Updated sync cookie to set syncing=false, saving latest cursors"),_(babelHelpers.extends({},t,{c:n,s:c.NOT_SYNCING}))}}var C=[1,2,o("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()?null:95];function b(t){var n=o("SortedAsyncIterable").toArray(o("ReQL").union.apply(void 0,C.map(function(e){return e==null?o("ReQL").empty():o("ReQL").fromTableAscending(t.tables.sync_groups).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(e))})));if((e||(e=r("isPromise")))(n)){r("promiseDone")(n.then(function(e){y(e)}));return}y(n)}function v(){try{var e=h();d.debug("Updated sync cookie to set syncing=true"),_(babelHelpers.extends({},e,{s:c.SYNCING,u:r("pageID")}))}catch(e){r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).warn("[LS] Failed to sync cookie")}}l.Status=c,l.DEFAULT_COOKIE=p,l.clear=f,l.get=h,l.syncBeforeUnload=b,l.setSyncing=v}),98);
__d("LSCreateDerivedKeys.nop",["CreateDerivedKeys","LSVec"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n,a,i,l,s){return o("CreateDerivedKeys").CreateDerivedKeys(a,i,l,r("LSVec").toArray(s))};e.__nop_name__="LSCreateDerivedKeys",l.default=e}),98);
__d("LSCryptoUtils",["FBLogger","XPlatReactTextDecoder","XPlatReactTextEncoder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return new Uint8Array(e)}function s(e){var t=new(o("XPlatReactTextEncoder")).TextEncoder;return t.encode(e)}function u(e){var t=new(o("XPlatReactTextDecoder")).TextDecoder;return t.decode(e)}function c(e){return u(new Uint8Array(e))}function d(e){return s(e).buffer}function m(e,t){var n=e.byteLength,o=t.byteLength;if(n!==o)throw r("FBLogger")("messenger_web").mustfixThrow("[LS] Mismatched lengths for modAdd, %d != %d",n,o);var a=new Uint8Array(n);return new Uint8Array(n).reduceRight(function(n,r,o){var i=e[o],l=t[o],s=i+l+n,u=s>255?[s-256,1]:[s,0];return a[o]=u[0],u[1]},0),a}l.bufToUint8=e,l.strToUint8=s,l.uint8ToStr=u,l.bufToStr=c,l.strToBuf=d,l.modAddBytes=m}),98);
__d("LSDataTraceFlushDeferred",["MetaConfig","Promise","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("LSDataTraceFlush").__setRef("LSDataTraceFlushDeferred");function u(t){return r("MetaConfig")._("62")?s.load().then(function(e){return e.flushExpiredDataTraces(t)}):(e||(e=n("Promise"))).resolve(function(){})}l.watchForExpiredTraces=u}),98);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:6542"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:6542")}),98);
__d("LSDedicatedMqttChannel",["FBMqttChannel","cr:1232"],(function(t,n,r,o,a,i,l){"use strict";function e(){n("cr:1232")!=null&&n("cr:1232").shutdownAndClear()}function s(e,t,o,a,i,l){return function(s){return n("cr:1232")!=null?n("cr:1232").getInstance(s,e,t,o,a,i,l):r("FBMqttChannel")}}l.shutdownAndClear=e,l.getInstance=s}),98);
__d("LSTruncateTableAndSetShowError",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(e){return t.forEach(t.db.table(115).fetch(),function(e){return e.delete()})},function(r){return n[0]=t.i64.of_float(Date.now()),t.db.table(115).add({statusId:t.i64.cast([0,0]),timestampMs:n[0],errorShouldBeShown:e[0]})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSConnectivityTruncateTableAndSetShowErrorStoredProcedure",e.__tables__=["user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSDeleteAllAndInsertConnectivityStatus",["LSTruncateTableAndSetShowError"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.forEach(t.db.table(114).fetch(),function(e){return e.delete()})},function(n){return r[0]=t.i64.of_float(Date.now()),t.db.table(114).add({statusId:void 0,timestampMs:r[0],internetConnectionState:e[0]})},function(r){return t.storedProcedure(n("LSTruncateTableAndSetShowError"),t.i64.neq(e[0],t.i64.cast([0,1])))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSConnectivityDeleteAllAndInsertConnectivityStatusStoredProcedure",e.__tables__=["connectivity_status"],a.exports=e}),null);
__d("LSDeleteAllAndInsertConnectivityStatusStoredProcedure",["LSDeleteAllAndInsertConnectivityStatus","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSDeleteAllAndInsertConnectivityStatus"),a.internetConnectionState);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSEagerlyLoadOnMessenger",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}i.eagerlyLoadOnMessenger=e}),66);
__d("LSGetBlobFromString.nop",["CryptoLogger","LSResult","LSSynchronousPromise","XPlatReactTextEncoder","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n,a){var e=new(o("XPlatReactTextEncoder")).TextEncoder;try{var i=e.encode(a).buffer;return o("LSSynchronousPromise").makeSynchronousPromise(r("LSResult")(i))}catch(e){var l=r("getErrorSafe")(e),s=o("CryptoLogger").CryptoLogger("get_blob_from_string");throw s.catching(l).mustfix(l.message),l}};e.__nop_name__="LSGetBlobFromString",l.default=e}),98);
__d("LSHmac_v2.nop",["Hmac_v2"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n,o,a){return r("Hmac_v2")(o,a)};e.__nop_name__="LSHmac_v2",l.default=e}),98);
__d("LSLogWebQpl.nop",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LogWebQplNOP").__setRef("LSLogWebQpl.nop"),s=function(n,r,o,a,i,l,s,u){return e.load().then(function(e){return e.call(o,a,i,l,s,u)})};s.__nop_name__="LSLogWebQpl",l.default=s}),98);
__d("LSPlatformDefaultUnderlyingApi",["Promise","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return r("emptyFunction")}function u(){return(e||(e=n("Promise"))).resolve()}var c={cleanup:r("emptyFunction"),logEvent:function(t){},onConnectionStatusChange:s,onReconnect:s,publish:u,subscribe:s};l.default=c}),98);
__d("LSPlatformDeviceId",["ChannelClientID","FBLogger","LSCookie","MqttWebDeviceID","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("21118")?r("MqttWebDeviceID").clientID:r("ChannelClientID").getID()}var s=e();function u(t){return t==null&&r("FBLogger")("messenger_web").info("Missed provider type for deviceId"),t==="persisted"?o("LSCookie").get().d:e()}l.deviceId=s,l.getDeviceIdForProviderType=u}),98);
__d("MessengerPWAVersionForUserAgent",["isMessengerPWA"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e,t=r("isMessengerPWA")();if(t){var n=(e=new URL(window.location.href).searchParams.get("__pwa"))!=null?e:"1.0.0";return n}}l.default=e}),98);
__d("LSPlatformRealtimeTransport",["I64","LSDynamicDependencies","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSShape","LSStreamGroupRef","MessengerPWAVersionForUserAgent","NetworkStatus","Promise","QuickPerformanceLogger","Random","clearTimeout","promiseDone","qpl","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=r("qpl")._(701246226,"1285"),m="LSPlatformRealtimeTransport.NotConnected",p="LSPlatformRealtimeTransport.Timeout";function _(e){var t=new Map;return{getAll:function(){return Array.from(t.values())},getOrStart:function(r){var n=r.toString(),o=t.get(n);return o==null&&(o=e(r),t.set(n,o)),o}}}function f(e){}function g(t,a,i){var l=new Map,m={contents:f},g=new Set,h=new Map,y=[],C=_(function(e){var n=t(e,i);return y.push(n.subscribe(function(e){var t=JSON.parse(e),n=o("LSDynamicDependencies").downloadBootloaderDependencies(t.sp,t.nop,t.ntop),a=t.request_id,i;if(a!=null){var s=l.get(a);if(s==null)i=!1;else{r("clearTimeout")(s.timeoutId),s.resolve({downloadTask:n,payload:t,type:"taskresponse"}),l.delete(a);var u=s.instanceKey;(c||(c=r("QuickPerformanceLogger"))).markerPoint(d,"response",{instanceKey:u}),c.markerEnd(d,2,u),i=!0}}else i=!1;if(!i){Array.from(h.entries()).forEach(function(e){return e[1](n,t)});return}})),y.push(n.onReconnect(function(e){return m.contents(e)})),y.push(n.onConnectionStatusChange(function(e){g.forEach(function(t){return t(e)})})),n});return C.getOrStart((u||(u=o("LSIntEnum"))).unwrapIntEnum(o("LSMailboxInitialSyncCursor").syncChannel)),{cleanup:function(){y.forEach(function(e){return e()}),C.getAll().forEach(function(e){return e.cleanup()})},logEvent:function(t){C.getAll().forEach(function(e){return e.logEvent(t)})},onConnectionStatusChange:function(t){return g.add(t),function(){g.delete(t)}},onReconnect:function(t){return m.contents=t,function(){m.contents=f}},publish:function(i){var t=i.databaseType,m=i.payload,_=i.queueName,f=i.requestId,g=i.syncChannel,h=i.type_;return new(e||(e=n("Promise")))(function(e,n){var i=C.getOrStart((u||(u=o("LSIntEnum"))).unwrapIntEnum(g)),y=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);if((s||(s=o("I64"))).equal(h,(u||(u=o("LSIntEnum"))).ofNumber(3))){var b=r("setTimeout")(function(){i.logEvent("Timeout");var e=l.get(f);return(c||(c=r("QuickPerformanceLogger"))).markerPoint(d,"timeout",{instanceKey:y}),c.markerEnd(d,3,y),e!=null&&(l.delete(f),e.reject({RE_EXN_ID:p})),n({RE_EXN_ID:p})},3e4);l.set(f,{instanceKey:y,queueName:_,reject:n,resolve:e,timeoutId:b,timestamp:Date.now()})}(c||(c=r("QuickPerformanceLogger"))).markerStart(d,y),c.markerPoint(d,"publish",{instanceKey:y}),c.markerAnnotate(d,{string:{networkStatus:String(r("NetworkStatus").isOnline()),streamGroupId:o("LSStreamGroupRef").getTransportId(),streamGroupStatus:o("LSStreamGroupRef").getTransportStatus()}},{instanceKey:y}),c.markerAnnotate(d,{int:{databaseType:t,requestType:u.toNumber(h)}},{instanceKey:y});var v=r("MessengerPWAVersionForUserAgent")();r("promiseDone")(i.publish(o("LSJson").stringify(o("LSShape").ofRecord(babelHelpers.extends({app_id:a,payload:m},v!=null?{pwa_version:v}:{},{request_id:f,type:h}))),h,t),function(){if(!(s||(s=o("I64"))).equal(h,(u||(u=o("LSIntEnum"))).ofNumber(3)))return(c||(c=r("QuickPerformanceLogger"))).markerPoint(d,"response",{instanceKey:y}),c.markerEnd(d,2,y),e({type:"noresponseexpected"})},function(e){(c||(c=r("QuickPerformanceLogger"))).markerPoint(d,"fail",{instanceKey:y}),c.markerEnd(d,3,y),n(e)})})},subscribeToNonTaskResponses:function(t){var e={};return h.set(e,t),function(){h.delete(e)}}}}l.NotConnected=m,l.Timeout=p,l.LSPlatformRealtimeTransport=g}),98);
__d("shouldStubUnderlyingTransport",["ExecutionEnvironment"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return!(e||(e=r("ExecutionEnvironment"))).canUseDOM&&!(e||(e=r("ExecutionEnvironment"))).isInWorker}l.default=s}),98);
__d("LSPlatformMqttRealtimeTransport",["I64","LSIntEnum","LSPlatformDefaultUnderlyingApi","LSPlatformRealtimeTransport","Promise","promiseDone","shouldStubUnderlyingTransport","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return[{payload:JSON.stringify({ls_fdid:"",ls_sv:e}),qos:1,topic:"/ls_app_settings"}]}function d(t){var a={contents:t.getConnectionState()},i={contents:function(){}},l={contents:new(u||(u=n("Promise")))(function(e,t){i.contents=e})},c={onMQTTStateChanged:function(t){t==="Connected"?i.contents():t==="Disconnected"&&a.contents==="Connected"&&(l.contents=new(u||(u=n("Promise")))(function(e,t){r("vulture")("aQm6XqzTdNWrEDUK2BHR5ruJoR8="),i.contents=e})),a.contents=t}};return a.contents==="Connected"&&i.contents(),t.subscribeChannelEvents(c),[function(){t.unsubscribeChannelEvents(c)},function(a,i,c){return l.contents.then(function(){return new(u||(u=n("Promise")))(function(n,l){r("promiseDone")(t.publish("/ls_req",a,{listener:{onEvent:function(t){if(t==="NOT_CONNECTED")return l({RE_EXN_ID:o("LSPlatformRealtimeTransport").NotConnected})}},qos:(e||(e=o("I64"))).equal(i,(s||(s=o("LSIntEnum"))).ofNumber(4))?0:1,skipBuffer:!1}),function(){return n()},function(e){return e.message==="Publish Timed Out"?l({RE_EXN_ID:o("LSPlatformRealtimeTransport").Timeout}):l(e)})})})}]}var m={contents:void 0};function p(e,t,n){if(r("shouldStubUnderlyingTransport")())return r("LSPlatformDefaultUnderlyingApi");var o=n.getInstance(t),a={getPublishMessages:function(){return c(e)}};o.registerExtraConnectPayloadProvider(a);var i={onMQTTStateChanged:function(t){var e=m.contents;if(e!=null)return e(t)}};o.subscribeChannelEvents(i);var l=o.subscribe("/ls_foreground_state",function(){}),s=d(o),u=s[0],p=s[1];return{cleanup:function(){o.unregisterExtraConnectPayloadProvider(a),n.shutdownAndClear(),o.unsubscribeChannelEvents(i),l(),u()},logEvent:function(t){},onConnectionStatusChange:function(t){return m.contents=t,function(){m.contents=void 0}},onReconnect:function(t){var e={contents:o.getConnectionState()},n={contents:e.contents==="Connected"},r={onMQTTStateChanged:function(o){o==="Connected"&&(n.contents&&e.contents!=="Connected"&&t(1),n.contents=!0),e.contents=o}};return o.subscribeChannelEvents(r),function(){o.unsubscribeChannelEvents(r)}},publish:p,subscribe:function(t){return o.subscribe("/ls_resp",function(e){return t(e)})}}}l.default=p}),98);
__d("LSPlatformRequestId",[],(function(t,n,r,o,a,i){"use strict";var e=4;function l(){var t=e;return e+=1,t}var s={generate:l};i.default=s}),66);
__d("LSPlatformRequestScheduler",["clearTimeout","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=Math.pow(2,31)-1,s=(function(){function t(){this.requests=new Map}var n=t.prototype;return n.schedule=function(n,o,a){var t=this.requests.get(o);t!=null&&r("clearTimeout")(t);var i=Math.min(a,e);this.requests.set(o,r("setTimeout")(n,i))},n.cleanup=function(){this.requests.forEach(function(e){return r("clearTimeout")(e)})},t})();l.default=s}),98);
__d("LSPlatformServerResponseHandler",["FBLogger","clearTimeout","nullthrows","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e="executeFirstBlockForSyncTransaction",s=(function(){function t(e){this.eval=e,this.currentlyRunning=new Map}var n=t.prototype;return n.evalWhenReady=async function(t,n){var e;try{await t,e=r("setTimeout")(function(){r("FBLogger")("messenger_web").mustfix("waited longer than 30 seconds to eval sync script")},3e4),await this.eval(n)}finally{r("clearTimeout")(e)}},n.$1=function(t){var e=this.currentlyRunning.get(t);return e==null&&(e=Promise.resolve(),this.currentlyRunning.set(t,e)),e},t.getSyncScriptType=function(n){var t;if(!((t=n.sp)!=null&&t.includes(e)))return{status:"non-transactional"};var o=(function(){try{var e;return(e=JSON.parse(n.syncScript))==null?void 0:e.step}catch(e){return null}})();if(!Array.isArray(o))return r("FBLogger")("messenger_web").warn("Sync payload appears invalid."),{status:"non-transactional"};for(var a=[o];a.length;){var i=r("nullthrows")(a.shift());for(var l of i)if(Array.isArray(l)){if(l[0]===5&&l[1]===e&&Array.isArray(l[2]))return{status:"transactional",syncGroup:parseInt(l[2][1],10)};a.push(l)}}return{status:"err"}},n.maybeEvalInOrderReceived=function(n,o){var e,a=this,i=t.getSyncScriptType(o),l=0;switch(i.status){case"err":r("FBLogger")("messenger_web").warn("Sync script sync group parsing failed: employed sprocs were %s",JSON.stringify((e=o.sp)!=null?e:void 0));break;case"non-transactional":return this.evalWhenReady(n,o);case"transactional":l=i.syncGroup;break}var s=this.$1(l),u=s.then(function(){return a.evalWhenReady(n,babelHelpers.extends({},o,{priority:"sync_script"}))}).catch(function(e){throw a.currentlyRunning.delete(l),e});return this.currentlyRunning.set(l,u),u},t})();l.default=s}),98);
__d("LSQplAnnotateBool.nop",["EBMarkerIdToQPLEvent","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(a,i,l,s,u,c){try{var t,d=r("nullthrows")(o("EBMarkerIdToQPLEvent").markerIdToQPLEvent(l)),m=o("WAHashStringToNumber").hashStringToNumber(s);return r("QPLUserFlow").addAnnotations(d,{bool:(t={},t[u]=c,t)},{instanceKey:m}),(e||(e=n("Promise"))).resolve()}catch(t){return(e||(e=n("Promise"))).resolve()}};s.__nop_name__="LSQplAnnotateBool",l.default=s}),98);
__d("SymmetricEncryptionPaddingUtils",["XPlatReactTextEncoder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e<10)return 10-e;var t=Math.floor(Math.log2(e)),n=Math.floor(Math.log2(t))+1,r=t-n,o=(1<<r)-1,a=e+o&(o^-1);return a-e}function s(t){var n=Uint32Array.BYTES_PER_ELEMENT,r=t.byteLength,o=e(r),a=n+r+o,i=new DataView(new ArrayBuffer(a));i.setUint32(0,r);var l=new Uint8Array(i.buffer);return l.set(new Uint8Array(t),n),l.buffer}function u(e){var t=new(o("XPlatReactTextEncoder")).TextEncoder,n=t.encode(e).buffer;return s(n)}function c(e){var t=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(e);if(!(n.byteLength<t)){var r=e.byteLength,o=n.getUint32(0),a=r-t;if(o>=0&&o<=a)return e.slice(t,t+o)}}l.getPaddingLength=e,l.padData=s,l.pad=u,l.stripPadding=c}),98);
__d("SymmetricEncryptionCreateEncryptedData",["CryptoLogger","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","Promise","RetUtil","SymmetricEncryptionPaddingUtils","XPlatReactCrypto"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(r,a,i){var t=o("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_data"),l=o("SymmetricEncryptionPaddingUtils").padData(i),s=o("XPlatReactCrypto").getRandomValues(new Uint8Array(o("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes)),u=new(o("HChaCha20")).HChaCha20,c=u.hChaCha20Bytes(s.slice(0,o("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,r);return o("XPlatReactCrypto").subtleImportKey("raw",c,"AES-GCM",!1,["encrypt"]).then(function(e){return o("XPlatReactCrypto").subtleEncrypt({additionalData:a,iv:new Uint8Array(s.slice(o("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:o("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},e,l)}).then(function(t){var r=s.byteLength+t.byteLength,a=new Uint8Array(r);return a.set(s),a.set(new Uint8Array(t),o("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes),(e||(e=n("Promise"))).resolve(o("RetUtil").getNullableRetResult(a.buffer))}).catch(function(r){return o("CryptoLogger").captureError(t,r).mustfix("symmetric data encryption failed"),(e||(e=n("Promise"))).resolve(o("RetUtil").getNullableRetResult())})};l.default=s}),98);
__d("LSSymmetricEncryptionCreateEncryptedData.nop",["SymmetricEncryptionCreateEncryptedData"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n,o,a,i){return r("SymmetricEncryptionCreateEncryptedData")(o,a,i)};e.__nop_name__="LSSymmetricEncryptionCreateEncryptedData",l.default=e}),98);
__d("LSSymmetricEncryptionCreateEncryptedString.nop",["Base64Utils","CryptoLogger","LSCryptoUtils","LSSymmetricEncryptionCreateEncryptedData.nop","Promise","RetUtil"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(a,i,l,s,u){var t=o("CryptoLogger").CryptoLogger("symmetric_encryption_create_encrypted_string");return r("LSSymmetricEncryptionCreateEncryptedData.nop")(a,i,l,s,o("LSCryptoUtils").strToBuf(u)).then(function(e){return e[0]}).then(function(t){return(e||(e=n("Promise"))).resolve(o("RetUtil").getNullableRetResult(t?o("Base64Utils").fromArrayBuffer(t):void 0))}).catch(function(r){return o("CryptoLogger").captureError(t,r).mustfix("symmetric string encryption failed"),(e||(e=n("Promise"))).resolve(o("RetUtil").getNullableRetResult())})};s.__nop_name__="LSSymmetricEncryptionCreateEncryptedString",l.default=s}),98);
__d("LSVersion",[],(function(t,n,r,o,a,i){a.exports="25540300112336938"}),null);
__d("MWChatEncryptedBackupsLogging",["MWEBODSCategory","MWEBODSEntityKey.enum","ODS","QPLUserFlow"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=e.cancelEndPoint,n=e.event,o=e.instanceKey,a=e.source;a!=null&&r("QPLUserFlow").addAnnotations(n,{string:{source:a}},{instanceKey:o}),r("QPLUserFlow").addPoint(n,"cancel",{instanceKey:o}),r("QPLUserFlow").addAnnotations(n,{string:{cancel_end_point:t}},{instanceKey:o}),r("QPLUserFlow").endCancel(n,{instanceKey:o})}function u(e){var t=e.event,n=e.instanceKey,o=e.onClose,a=e.source;a!=null&&r("QPLUserFlow").addAnnotations(t,{string:{source:a}},{instanceKey:n}),s({cancelEndPoint:"dialog_x_button",event:t,instanceKey:n}),o()}function c(t){var n=t.annotations,a=t.event,i=t.instanceKey,l=t.odsEntityName;r("QPLUserFlow").addPoint(a,"success",{instanceKey:i}),r("QPLUserFlow").endSuccess(a,{annotations:n,instanceKey:i}),l&&(e||(e=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),l,r("MWEBODSEntityKey.enum").SUCCESS)}function d(t){var n=t.annotations,a=t.errorName,i=t.event,l=t.instanceKey,s=t.odsEntityKey,u=t.odsEntityName;r("QPLUserFlow").addPoint(i,"failure",{instanceKey:l}),r("QPLUserFlow").endFailure(i,a,{annotations:n,instanceKey:l}),u&&(e||(e=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),u,s!=null?s:r("MWEBODSEntityKey.enum").FAIL)}l.cancelFlow=s,l.closeDialogCancelFlow=u,l.endSuccess=c,l.endFailure=d}),98);
__d("UInt8Array",["XPlatReactCrypto"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.length;if(t>0&&t%2===0&&/^[\da-f]+$/gi.test(e)){for(var n=[],r=0,o=t/2|0;r<o;++r){var a=parseInt(e.substring(r<<1,(r<<1)+2|0),16);n.push(a)}return new Uint8Array(n)}}function s(e){return o("XPlatReactCrypto").getRandomValues(new Uint8Array(e)).buffer}function u(e){var t=e.filter(function(e){return e.byteLength!==0}),n=t.reduce(function(e,t){return e+t.byteLength|0},0),r=new Uint8Array(n);return t.reduce(function(e,t){return r.set(t,e),e+t.byteLength|0},0),r}l.fromHexString=e,l.getBufferWithRandomValuesFromLength=s,l.concatBytes=u}),98);
__d("WAOfflineUtils",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]),l=n("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});i.ServerRPCMode=e,i.WAClientInfraOfflineProgress=l}),66);
__d("getMWLSRegion",["MessengerWebRegion"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("MessengerWebRegion").regionNullable;return e==null?"":e}l.default=e}),98);/*FB_PKG_DELIM*/
__d("CometFullScreen",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t){var r=t,o=t.requestFullscreen||r.mozRequestFullScreen||r.msRequestFullscreen||r.webkitRequestFullscreen;return typeof o=="function"?o.call(t):(e||(e=n("Promise"))).reject()}function s(){var t=document,r=document.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen;return typeof r=="function"?r.call(document):(e||(e=n("Promise"))).reject()}function u(){var e=document;return(e.webkitFullscreenEnabled===!0||e.mozFullScreenEnabled===!0||e.msFullscreenEnabled===!0||document.fullscreenEnabled===!0)&&(typeof e.webkitExitFullscreen=="function"||typeof e.mozCancelFullScreen=="function"||typeof e.msExitFullscreen=="function"||typeof document.exitFullscreen=="function")}function c(){var e=document;return document.fullscreenElement||e.webkitFullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||null}function d(){return c()!=null}function m(){return["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"]}function p(e){var t=window.document,n=!1,r=!0;return m().forEach(function(o){t.addEventListener(o,e,{capture:n,passive:r})}),function(){m().forEach(function(r){t.removeEventListener(r,e,n)})}}i.requestFullScreen=l,i.exitFullScreen=s,i.isSupported=u,i.getFullScreenElement=c,i.isFullScreen=d,i.getFullScreenChangeEventNames=m,i.subscribeToFullScreenChangeEvent=p}),66);
__d("CometLightweightVideoAttachmentContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isLightweightVideoAttachment:!1});l.default=u}),98);
__d("CometObjectFitContainer.react",["FBLogger","cr:964538","isStringNullOrEmpty","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={inner:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},innerWithAspectRatio:{bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},outer:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},outerWithAspectRatio:{height:"xt7dq6l",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(21),a=t.children,i=t.debugRole,l=t.innerInlineStyle,s=t.innerXStyle,d=t.outerInlineStyle,m=t.outerRef,p=t.outerXStyle,_=t.testid,f=r("isStringNullOrEmpty")(_)?void 0:_+"-outer",g=r("isStringNullOrEmpty")(_)?void 0:_+"-inner",h;n[0]!==i?(h={},n[0]=i,n[1]=h):h=n[1];var y;n[2]!==p?(y=(e||(e=r("stylex")))(c.outer,p),n[2]=p,n[3]=y):y=n[3];var C;n[4]!==i?(C={},n[4]=i,n[5]=C):C=n[5];var b;n[6]!==s?(b=(e||(e=r("stylex")))(c.inner,s),n[6]=s,n[7]=b):b=n[7];var v;n[8]!==a||n[9]!==l||n[10]!==C||n[11]!==b||n[12]!==g?(v=u.jsx("div",babelHelpers.extends({},C,{className:b,"data-testid":void 0,style:l,children:a})),n[8]=a,n[9]=l,n[10]=C,n[11]=b,n[12]=g,n[13]=v):v=n[13];var S;return n[14]!==d||n[15]!==m||n[16]!==h||n[17]!==y||n[18]!==v||n[19]!==f?(S=u.jsx("div",babelHelpers.extends({},h,{className:y,"data-testid":void 0,ref:m,style:d,children:v})),n[14]=d,n[15]=m,n[16]=h,n[17]=y,n[18]=v,n[19]=f,n[20]=S):S=n[20],S}function m(e){var t=o("react-compiler-runtime").c(15),n=e.children,a=e.contentAspectRatio,i=e.debugRole,l=e.objectFitMode,s=e.ref,m=e.testid,p=l===void 0?"CONTAINER_SIZE":l,_=a!=null&&isFinite(a)&&a>0?a:1.7777777777777777;if(p==="CONTAINER_WIDTH_BASED_ASPECT_RATIO"){var f=isFinite(_)&&_>0?100/_:100,g;t[0]!==f?(g=f.toFixed(5),t[0]=f,t[1]=g):g=t[1];var h=g+"%",y;t[2]!==h?(y={paddingBottom:h},t[2]=h,t[3]=y):y=t[3];var C=y,b;return t[4]!==n||t[5]!==i||t[6]!==C||t[7]!==s||t[8]!==m?(b=u.jsx(d,{children:n,debugRole:i,innerXStyle:c.innerWithAspectRatio,outerInlineStyle:C,outerRef:s,outerXStyle:c.outerWithAspectRatio,testid:void 0}),t[4]=n,t[5]=i,t[6]=C,t[7]=s,t[8]=m,t[9]=b):b=t[9],b}else if(p==="CONTAINER_SIZE"){var v;return t[10]!==n||t[11]!==i||t[12]!==s||t[13]!==m?(v=u.jsx(d,{children:n,debugRole:i,outerRef:s,testid:void 0}),t[10]=n,t[11]=i,t[12]=s,t[13]=m,t[14]=v):v=t[14],v}else throw r("FBLogger")("comet_ui").mustfixThrow("Unsupported objectFitMode %s",p)}l.default=m}),98);
__d("VideoPlayerOnViewability.react",["DOMRectIsEqual","DOMRectReadOnly","VideoPlayerViewabilityConstants","emptyFunction","react","useIntersectionObserver","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo,p=c.useRef,_=10,f=[.25,.75,.99,1].concat(new Array(10).fill().map(function(e,t){return t/10}));function g(t){var n=t.viewportMargins,o=p(-1),a=p(-1),i=p(r("DOMRectReadOnly").fromRect({height:0,width:0,x:0,y:0})),l=p(null),s=p(null),c=-n.top+"px "+-n.right+"px "+-n.bottom+"px "+-n.left+"px",g=t.onVideoPlayerViewabilityInfoChange||r("emptyFunction"),h=_,y=d(function(e){if(e.time>a.current&&!r("DOMRectIsEqual")(e.boundingClientRect,i.current)){var t=e.boundingClientRect,n=t.height,o=t.width,s=t.x,u=t.y,c=l.current,d=r("DOMRectReadOnly").fromRect({height:n,width:o,x:s,y:u});if(i.current=d,a.current=e.time,c===null||c<=0||c<=r("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE)return;g({positionToViewport:d,visiblePercentage:c})}},[i,l,g]),C=d(function(e){if(e.time>o.current&&(e.intersectionRatio!==l.current||!r("DOMRectIsEqual")(e.boundingClientRect,i.current))){var t=e.boundingClientRect,n=t.height,u=t.width,c=t.x,d=t.y,m=e.intersectionRatio,p=r("DOMRectReadOnly").fromRect({height:n,width:u,x:c,y:d}),_=s.current,f=_,h=!1,y=Math.abs((_||0)*100-(m||0)*100);(y>=1||y>0&&m<(_||0))&&(f=m,s.current=m,h=!0),l.current=m,o.current=e.time;var C=i.current;if(i.current=p,a.current=e.time,!h&&r("DOMRectIsEqual")(C,p))return;f!==null&&g({positionToViewport:p,visiblePercentage:f})}},[a,i,l,g,o]),b=m(function(){for(var e=[],t=1;t<=h;t++)e.push("-"+(100-t/h*100)+"% 0% 0% 0%");return e},[h]),v=(e||(e=r("useUnsafeRef_DEPRECATED")))([]);v.current=[];for(var S=0;S<b.length;S++)v.current.push(d(r("useIntersectionObserver")(y,{root:null,rootMargin:b[S],threshold:f}),[b[S],f,r("useIntersectionObserver")]));var R=v.current.length,L=d(function(e){for(var t=0;t<R;t++)v.current[t](e)},[R,v]),E=d(r("useIntersectionObserver")(C,{root:null,rootMargin:c,threshold:f}),[C,c,f,r("useIntersectionObserver")]),k=d(function(e){E(e),L(e)},[E,L]);return u.jsx("div",{className:"x5yr21d x1uhb9sk xh8yej3",ref:k,children:u.Children.only(t.children)})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("renderVideoPlayerImplementation",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){if(e.typename==="VideoPlayerEmptyImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerOzImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerProgressiveImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));if(e.typename==="VideoPlayerNextgendashImplementation")return s.jsx(e.Component,babelHelpers.extends({},t,e.data));throw e.typename,r("FBLogger")("comet_video_player").mustfixThrow('CoreVideoPlayer: Unrecognized implementation typename "%s".',e.typename)}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("useCreateVideoPlayerPassiveViewabilityInfo",["removeFromArray","useStable"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("useStable")(s)}function s(){var e=[],t=null;return{setVideoPlayerViewabilityInfo:function(r){t=r,e.forEach(u)},videoPlayerPassiveViewabilityInfo:{getCurrent:function(){return t},subscribe:function(n){return e.push(n),{remove:function(){r("removeFromArray")(e,n)}}}}}}function u(e){return e()}l.default=e}),98);
__d("useCometSize_DO_NOT_USE",["CometThrottle","ExecutionEnvironment","FBLogger","HiddenSubtreePassiveContext","react","useResizeObserver","useStable","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useContext,m=c.useEffect,p=c.useLayoutEffect,_=c.useRef,f=c.useState;function g(e){var t=e.setBoxStateStable,n=null,o=function(r){var e,o;((e=n)==null?void 0:e.height)===r.height&&((o=n)==null?void 0:o.width)===r.width||(n=r,t(r))},a=function(t){var e=t.getBoundingClientRect(),n=e.height,r=e.width;o({height:n,width:r})},i=r("CometThrottle")(function(e){var t=e.height,n=e.width;t===0&&n===0||o({height:t,width:n})},200,{leading:!0,trailing:!0});return{measure:a,onResizeThrottled:i}}function h(t,n){if(t===void 0&&(t=!1),n===void 0&&(n=!1),!(e||(e=r("ExecutionEnvironment"))).canUseDOM&&!t)throw r("FBLogger")("comet_ssr").blameToPreviousFile().mustfixThrow("useCometSize is not compatible with Server Rendering. This will break SSR! See https://fburl.com/wiki/xrzohrqb");var o=_(null),a=f(null),i=a[0],l=a[1],u=d(r("HiddenSubtreePassiveContext")),c=r("useStable")(function(){return g({setBoxStateStable:l})}),h=r("useResizeObserver")(c.onResizeThrottled),y=_(h);p(function(){y.current=h},[h]);var C=(s||(s=r("useUnsafeRef_DEPRECATED")))(function(e){e!==o.current&&(o.current=e,e!=null&&!n&&c.measure(e)),y.current(o.current)});return m(function(){if(u.getCurrentState().hidden){var e=u.subscribeToChanges(function(t){!t.hidden&&o.current!=null&&!n&&(c.measure(o.current),e.remove())});return function(){return e.remove()}}},[u,c]),m(function(){return function(){c.onResizeThrottled.cancel()}},[c]),[C.current,i]}l.default=h}),98);
__d("useObjectFitContainerDimensions",["CometObjectFitContainer.react","react","react-compiler-runtime","useCometSize_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=584;function c(e){return e==="video_home_inline"||e==="inline"?{height:u,width:u}:{height:1080,width:1920}}function d(e,t,n){var a=o("react-compiler-runtime").c(8),i=r("useCometSize_DO_NOT_USE")(t!=null?t:!1,n!=null?n:!1),l=i[0],u=i[1],d;a[0]!==u||a[1]!==e?(d=u!=null?u:c(e),a[0]=u,a[1]=e,a[2]=d):d=a[2];var m=d,p;a[3]!==l?(p=function(t){return s.jsx(r("CometObjectFitContainer.react"),{debugRole:null,objectFitMode:"CONTAINER_SIZE",ref:l,children:t})},a[3]=l,a[4]=p):p=a[4];var _;return a[5]!==m||a[6]!==p?(_=[m,p],a[5]=m,a[6]=p,a[7]=_):_=a[7],_}l.default=d}),98);
__d("videoPlayerUniqueID",["guid"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return"id-vpuid-"+(e!=null?e:r("guid")())}l.default=e}),98);
__d("CoreVideoPlayer.react",["ErrorMetadata","FBLogger","VideoPlayerOnViewability.react","VideoPlayerViewabilityContexts","cr:12222","cr:12223","cr:9824","createVideoStateHook","err","getVideoShareDownstreamSignalTracking","react","react-compiler-runtime","renderVideoPlayerImplementation","useCreateVideoPlayerPassiveViewabilityInfo","useObjectFitContainerDimensions","useStable","videoPlayerUniqueID"],(function(t,n,r,o,a,i,l){"use strict";var e=["implementations"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef;function p(e){var t,a=e.coreVideoPlayerProps,i=e.implementation,l=a.coreVideoPlayerMetaData,s=a.fullscreenController,c=a.isFullscreen,p=a.onCoreVideoStatesChanged,_=a.renderWithCoreVideoStates,f=a.trackingDataEncrypted,g=a.trackingNodes,h=a.viewportMarginsForViewability,y=r("useStable")(function(){return r("videoPlayerUniqueID")(l.videoPlayerUniqueIDOverride)});o("createVideoStateHook").useCleanupVideoStateHooks_INTERNAL(y);var C=m(0),b=r("useCreateVideoPlayerPassiveViewabilityInfo")(),v=b.setVideoPlayerViewabilityInfo,S=b.videoPlayerPassiveViewabilityInfo,R=(t=n("cr:12223")==null?void 0:n("cr:12223")())!=null?t:{},L=R.scrollPositionAPI,E=R.setScrollPositionInfo,k=r("useObjectFitContainerDimensions")(l.subOrigin,l.bypassUseCometSizeError,l.bypassMeasureOnMount),I=k[0],T=k[1],D=d(function(e){var t=e.implementationController,n=e.implementationExposedState;return _({implementationController:t,implementationExposedState:n,videoPlayerPassiveViewabilityInfo:S})},[_,S]),x=d(function(e){var t=e.implementationController,n=e.implementationExposedState;p&&p({implementationController:t,implementationExposedState:n,videoPlayerPassiveViewabilityInfo:S})},[p,S]),$=o("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTrackingWithNumberStartTime(),P={accessToken:l.accessToken,dimensions:I,downstreamShareSignalTracking:$,instanceKey:y,playerImplementationInstanceCountRef:C,productAttribution:l.productAttribution,trackingDataEncrypted:f,trackingNodes:g},N={coreVideoPlayerMetaData:l,dimensions:I,fullscreenController:s,loggingMetaData:P,onExposedStateChanged:x,renderWithExposedState:D,videoPlayerPassiveViewabilityInfo:S,videoPlayerScrollPositionAPI:L!=null?L:null};return n("cr:12222")&&L&&E?T(u.jsx(o("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:c,children:u.jsx(n("cr:12222"),{onScrollPositionInfoChange:E,children:u.jsx(r("VideoPlayerOnViewability.react"),{onVideoPlayerViewabilityInfoChange:v,viewportMargins:h,children:r("renderVideoPlayerImplementation")(i,N)})})})):T(u.jsx(o("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:c,children:u.jsx(r("VideoPlayerOnViewability.react"),{onVideoPlayerViewabilityInfoChange:v,viewportMargins:h,children:r("renderVideoPlayerImplementation")(i,N)})}))}p.displayName=p.name+" [from "+i.id+"]";function _(t){var a=o("react-compiler-runtime").c(6),i,l;if(a[0]!==t?(l=t.implementations,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l):(i=a[1],l=a[2]),l.length===0){var s,c,d,m,_=r("err")("No implementations given to CoreVideoPlayer");_.name="VideoPlayerNoImplementations",_.project="comet_video_player";var f=(s=_.metadata)!=null?s:new(r("ErrorMetadata"));_.metadata=f;var g=i.coreVideoPlayerMetaData.videoFBID;throw g!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",g),(c=r("FBLogger")("comet_video_player").catching(_)).mustfixThrow.apply(c,[(d=_.messageFormat)!=null?d:_.message].concat(_.messageFormat!=null?(m=_.messageParams)!=null?m:[]:[]))}var h;return a[3]!==i||a[4]!==l?(h=n("cr:9824")?u.jsx(n("cr:9824"),{CoreVideoPlayerWithOneImplementation:p,coreVideoPlayerProps:i,implementations:l}):u.jsx(p,{coreVideoPlayerProps:i,implementation:l[0]}),a[3]=i,a[4]=l,a[5]=h):h=a[5],h}l.default=_}),98);
__d("DOMContainer.react",["invariant","isNode","react"],(function(t,n,r,o,a,i,l,s){var e=["display"],u,c=u||(u=o("react")),d=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.containerNode=null,e.setContainerNode=function(t){e.containerNode=t;var n=e.props.containerRef;typeof n=="function"&&n(t)},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.getDOMChild=function(){var e=this.props.children;return r("isNode")(e)||s(0,1533),e},o.shouldComponentUpdate=function(t){return t.children!==this.props.children},o.componentDidMount=function(){var e=this.containerNode;e!=null&&e.appendChild(this.getDOMChild())},o.componentDidUpdate=function(t){var e=this.containerNode;if(e!=null){for(;e.lastChild;)e.removeChild(e.lastChild);e.appendChild(this.getDOMChild())}},o.render=function(){var t=this.props,n=t.display,r=babelHelpers.objectWithoutPropertiesLoose(t,e),o=n==="block"?"div":"span";return c.jsx(o,babelHelpers.extends({},r,{ref:this.setContainerNode,children:void 0}))},n})(c.Component);d.defaultProps={display:"inline"},l.default=d}),98);
__d("CoreVideoPlayerFitParentContainer.react",["DOMContainer.react","cr:964538","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.ref,r=e.children,a=e.debugRole,i=e.testid,l;t[0]!==a?(l=null,t[0]=a,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",t[2]=u):u=t[2];var c;return t[3]!==r||t[4]!==n||t[5]!==l||t[6]!==i?(c=s.jsx("div",babelHelpers.extends({},l,{className:u,"data-testid":void 0,ref:n,children:r})),t[3]=r,t[4]=n,t[5]=l,t[6]=i,t[7]=c):c=t[7],c}function c(e){var t=o("react-compiler-runtime").c(7),n=e.ref,a=e.debugRole,i=e.domElement,l;t[0]!==a?(l=null,t[0]=a,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",t[2]=u):u=t[2];var c;return t[3]!==i||t[4]!==n||t[5]!==l?(c=s.jsx(r("DOMContainer.react"),babelHelpers.extends({},l,{className:u,display:"block",ref:n,children:i})),t[3]=i,t[4]=n,t[5]=l,t[6]=c):c=t[6],c}function d(e){var t=e.debugRole,n=document.createElement("div");return n.className="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",n}l.CoreVideoPlayerFitParentContainer=u,l.CoreVideoPlayerFitParentDOMContainer=c,l.createFitParentContainerDiv=d}),98);
__d("GlobalVideoPortsRenderers.react",["CoreVideoPlayer.react","VideoPlayerContexts","VideoPlayerPortalingPlaceInfoProvider.react","emptyFunction","fb-error","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useState,p=r("emptyFunction").thatReturns(null);function _(e){var t=o("react-compiler-runtime").c(14),n=e.coreVideoPlayerMetaData,a=e.currentPlaceID,i=e.currentVideoID,l=e.fullscreenController,s=e.implementations,c=e.isFullscreen,d=e.onCoreVideoStatesChanged,m=e.previousPlaceMetaData,_=e.trackingDataEncrypted,f=e.trackingNodes,g=e.viewportMarginsForViewability,h;t[0]!==n||t[1]!==l||t[2]!==s||t[3]!==c||t[4]!==d||t[5]!==_||t[6]!==f||t[7]!==g?(h=u.jsx(r("CoreVideoPlayer.react"),{coreVideoPlayerMetaData:n,fullscreenController:l,implementations:s,isFullscreen:c,onCoreVideoStatesChanged:d,renderWithCoreVideoStates:p,trackingDataEncrypted:_,trackingNodes:f,viewportMarginsForViewability:g}),t[0]=n,t[1]=l,t[2]=s,t[3]=c,t[4]=d,t[5]=_,t[6]=f,t[7]=g,t[8]=h):h=t[8];var y;return t[9]!==a||t[10]!==i||t[11]!==m||t[12]!==h?(y=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:a,currentVideoID:i,portalingEnabled:!0,previousPlaceMetaData:m,thisPlaceID:a,children:h}),t[9]=a,t[10]=i,t[11]=m,t[12]=h,t[13]=y):y=t[13],y}function f(e){var t=o("react-compiler-runtime").c(11),n=e.currentPlaceID,r=e.currentVideoID,a=e.previousPlaceMetaData,i=e.renderPlaceholder,l=e.thisPlaceID,c=e.videoPixelsAspectRatio,d;t[0]!==i?(d=i!=null?i():null,t[0]=i,t[1]=d):d=t[1];var m;t[2]!==d||t[3]!==c?(m=u.jsx((s||(s=o("VideoPlayerContexts"))).VideoPixelsAspectRatioContext.Provider,{value:c,children:d}),t[2]=d,t[3]=c,t[4]=m):m=t[4];var p;return t[5]!==n||t[6]!==r||t[7]!==a||t[8]!==m||t[9]!==l?(p=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:n,currentVideoID:r,portalingEnabled:!0,previousPlaceMetaData:a,thisPlaceID:l,children:m}),t[5]=n,t[6]=r,t[7]=a,t[8]=m,t[9]=l,t[10]=p):p=t[10],p}function g(e){var t=o("react-compiler-runtime").c(12),n=e.currentPlaceID,a=e.currentVideoID,i=e.injectCoreVideoStatesRef,l=e.previousPlaceMetaData,s=e.renderComponents,c=e.thisPlaceID,p=m(null),_=p[0],f=p[1],g=m(null),h=g[0],y=g[1],C,b;if(t[0]!==i?(C=function(){return i.current=function(e,t){if(e!=null){var n,o,a=r("fb-error").getErrorSafe(e),i=r("fb-error").err.apply(r("fb-error"),[(n=a.messageFormat)!=null?n:a.message].concat(a.messageFormat!=null?(o=a.messageParams)!=null?o:[]:[]));i.name=i.errorName=a.name,i.metadata=a.metadata,i.stack=a.stack,i.taalOpcodes=a.taalOpcodes,i.cause=e,y(i)}f(t)},(function(){i.current=null})},b=[i],t[0]=i,t[1]=C,t[2]=b):(C=t[1],b=t[2]),d(C,b),c===n){if(h!=null)throw h;if(_!=null){var v;t[3]!==_||t[4]!==s?(v=s(_),t[3]=_,t[4]=s,t[5]=v):v=t[5];var S;return t[6]!==n||t[7]!==a||t[8]!==l||t[9]!==v||t[10]!==c?(S=u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:n,currentVideoID:a,portalingEnabled:!0,previousPlaceMetaData:l,thisPlaceID:c,children:v}),t[6]=n,t[7]=a,t[8]=l,t[9]=v,t[10]=c,t[11]=S):S=t[11],S}else return null}else return null}l.GlobalVideoPortsPlayerRenderer=_,l.GlobalVideoPortsPlaceholderRenderer=f,l.GlobalVideoPortsVideoComponentsRenderer=g}),98);
__d("VideoPlayerCaptionsDisplay.react",["FBLogger","VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useContext,m={captionsCenterAlign:{justifyContent:"xl56j7k",textAlign:"x2b8uid",$$css:!0},captionsContainer:{bottom:"xfqi8uc",boxSizing:"x9f619",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",textAlign:"x2b8uid",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",width:"xh8yej3",$$css:!0},captionsLeftAlign:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},captionsRightAlign:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0}},p={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},_={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},f={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function g(e){switch(e){case"center":return m.captionsCenterAlign;case"left":return m.captionsLeftAlign;case"right":return m.captionsRightAlign;default:r("FBLogger")("comet_video_player").mustfix("Unsupported captions text alignment: %s",e)}}function h(e,t,n){var r={},o=e.captionsBackgroundColor,a=e.captionsBackgroundOpacity,i=e.captionsTextColor,l=e.captionsTextSize;if(o!==null){var s=a!==null?_[a]:1;r.backgroundColor="rgba("+f[o]+","+s+")"}return i!==null&&(r.color="rgba("+f[i]+")"),l!==null&&(r.fontSize=t!=null?babelHelpers.extends({},p,t)[l]:p[l]),n&&(r.marginBottom=35),r}function y(t){var n,a,i=o("react-compiler-runtime").c(14),l=t.activeCaptions,s=t.adjustments,p=t.captionDisplayStyle,_=l==null?void 0:l.rows,f=d(r("VideoPlayerCaptionsDisplayConfigContext")),y=f.liveCaptionsTextAlignment,S=f.textSizeMapping,R=d(o("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),L;i[0]!==R?(L=R==null?void 0:R.getBottomRowAddOn(),i[0]=R,i[1]=L):L=i[1];var E=L!=null,k;i[2]===Symbol.for("react.memo_cache_sentinel")?(k={},i[2]=k):k=i[2];var I=k;if(p){var T;i[3]!==p||i[4]!==E||i[5]!==S?(T=h(p,S,E),i[3]=p,i[4]=E,i[5]=S,i[6]=T):T=i[6],I=T}var D=(u||(u=o("VideoPlayerHooks"))).useIsLive(),x=(n=l==null||(a=l.styles)==null?void 0:a.textAlignment)!=null?n:"center";if(_!=null&&_.length>0){var $;if(i[7]!==s||i[8]!==I||i[9]!==x||i[10]!==D||i[11]!==y||i[12]!==_){var P=_.map(v).filter(b);$=P.length>0?c.jsx("div",{className:(e||(e=r("stylex")))(m.captionsContainer,g(D&&y!=null?y:x)),style:{paddingLeft:s.left,paddingRight:s.right,transform:"translateY("+-s.bottom+"px)"},children:c.jsx("div",{className:"x18l40ae x14ctfv x1lkfr7t xk50ysn x37zpob xdj266r x32vodv xat24cr x1v6o4qg xulzisn xoge9qh x1uwfbks xytt9sc",style:I,children:P.map(C)})}):null,i[7]=s,i[8]=I,i[9]=x,i[10]=D,i[11]=y,i[12]=_,i[13]=$}else $=i[13];return $}return null}function C(e,t){return c.jsxs("span",{children:[e,c.jsx("br",{})]},t)}C.displayName=C.name+" [from "+i.id+"]";function b(e){return!!e}function v(e){return e.trim()}var S=c.memo(y),R=S;l.default=R}),98);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(){var e=o("react-compiler-runtime").c(2),t=(s||(s=o("VideoPlayerHooks"))).useVideoPlayerCaptionsReservations(),n;return e[0]!==t?(n={bottom:0,left:0,right:0,top:0},t.length>0&&t.forEach(function(e){n[e.location]=n[e.location]+e.size}),e[0]=t,e[1]=n):n=e[1],n}l.default=c}),98);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","react-compiler-runtime","useVideoPlayerCaptionsDisplayAdjustments"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(4),t=(s||(s=o("VideoPlayerHooks"))).useActiveCaptions(),n=r("useVideoPlayerCaptionsDisplayAdjustments")(),a=s.useCaptionDisplayStyle(),i;return e[0]!==t||e[1]!==n||e[2]!==a?(i=u.jsx(r("VideoPlayerCaptionsDisplay.react"),{activeCaptions:t,adjustments:n,captionDisplayStyle:a}),e[0]=t,e[1]=n,e[2]=a,e[3]=i):i=e[3],i}l.default=c}),98);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useReducer,p=d.useState;function _(e,t){switch(t.type){case"reserve":return e.concat(t.reservation);case"release":return e.filter(function(e){return e!==t.reservation});default:return e}}function f(e){var t=o("react-compiler-runtime").c(11),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];var i=m(_,a),l=i[0],d=i[1],f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f={release:function(t){d({reservation:t,type:"release"})},reserve:function(t){return d({reservation:t,type:"reserve"}),t}},t[1]=f):f=t[1];var g=p(f),h=g[0],y=(s||(s=o("VideoPlayerHooks"))).useCaptionsVisible(),C;t[2]!==y?(C=y?c.jsx(r("VideoPlayerCaptions.react"),{}):null,t[2]=y,t[3]=C):C=t[3];var b;t[4]!==n||t[5]!==l||t[6]!==C?(b=c.jsxs((u||(u=o("VideoPlayerContexts"))).VideoPlayerCaptionsReservationsContext.Provider,{value:l,children:[C,n]}),t[4]=n,t[5]=l,t[6]=C,t[7]=b):b=t[7];var v;return t[8]!==h||t[9]!==b?(v=c.jsx((u||(u=o("VideoPlayerContexts"))).VideoPlayerCaptionsReservationActionsContext.Provider,{value:h,children:b}),t[8]=h,t[9]=b,t[10]=v):v=t[10],v}l.default=f}),98);
__d("useDebouncedValue",["clearTimeout","react","react-compiler-runtime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=o("react-compiler-runtime").c(4),a=c(e),i=a[0],l=a[1],s,d;return n[0]!==t||n[1]!==e?(s=function(){var n=r("setTimeout")(function(){return l(e)},t);return(function(){return r("clearTimeout")(n)})},d=[e,t],n[0]=t,n[1]=e,n[2]=s,n[3]=d):(s=n[2],d=n[3]),u(s,d),i}l.default=d}),98);
__d("VideoPlayerSpinner.react",["CometLightweightVideoAttachmentContext","FDSLoadingAnimation.react","gkx","react","react-compiler-runtime","stylex","useDebouncedValue","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext,d=36,m={spinner:{height:"xc9qbxq",insetInlineStart:"xbudbmw",opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",transitionDelay:"x5w5eug",transitionDuration:"x13dflua",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x14qfxbe",$$css:!0},spinnerHidden:{opacity:"xg01cxk",transitionDelay:"x2p8vrm",transitionDuration:"x13dflua",transitionProperty:"x1jl3cmp",transitionTimingFunction:"xl405pv",visibility:"xlshs6z",$$css:!0},spinnerSnappier:{transitionDelay:"x2p8vrm",$$css:!0},spinnerSnappierHidden:{transitionDelay:"x1ahifba",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(8),a=t.isVisible;r("vulture")("fyGDxkOOY_EpQrGAjaOy6SjGyew=");var i=r("useDebouncedValue")(a,a?200:500),l=c(r("CometLightweightVideoAttachmentContext")),s=l.isLightweightVideoAttachment,p;n[0]!==a?(p=(e||(e=r("stylex"))).props(m.spinner,r("gkx")("24333")?[m.spinnerSnappier,!a&&m.spinnerHidden,!a&&m.spinnerSnappierHidden]:[!a&&m.spinnerHidden]),n[0]=a,n[1]=p):p=n[1];var _=!i,f=s?"media":"default",g;n[2]!==_||n[3]!==f?(g=u.jsx(r("FDSLoadingAnimation.react"),{animationPaused:_,color:f,size:d}),n[2]=_,n[3]=f,n[4]=g):g=n[4];var h;return n[5]!==p||n[6]!==g?(h=u.jsx("div",babelHelpers.extends({},p,{children:g})),n[5]=p,n[6]=g,n[7]=h):h=n[7],h}l.default=p}),98);
__d("addToMap",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){if(e.get(t)===n)return e;var r=new Map(e);return r.set(t,n),r}i.default=e}),66);
__d("assignMediaStream",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=window.URL||window.webkitURL,s="srcObject"in window.HTMLMediaElement.prototype,u="mozSrcObject"in window.HTMLMediaElement.prototype;function c(e,t){if(s)try{m(e),e.srcObject=t}catch(e){throw r("FBLogger")("rt_web").catching(r("getErrorSafe")(e)).warn("Failed to assign media stream. Stream object is: %s",String(t)),e}else u?e.mozSrcObject=t:d(e,t)}function d(t,n){m(t),t.src=n!=null?e.createObjectURL(n):""}function m(t){try{typeof t.src=="string"&&e.revokeObjectURL(t.src)}catch(e){r("FBLogger")("rt_web").catching(r("getErrorSafe")(e)).warn("error revoking object URL")}}l.default=c}),98);
__d("getVideoPlayerUserFacingErrorMessageFromError",["fbt","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return r("gkx")("24345")&&e.message.toLowerCase().indexOf("audio_renderer_error")>=0}function u(e){return e.message.indexOf("DEVICE_CERTIFICATE_REVOKED")>=0}function c(e){return e.name.indexOf("VideoImplementationsDashManifestUnsupportedCodecs")>=0||e.name.indexOf("VideoImplementationsMediaSourceUnsupported")>=0}function d(e){return e.name==="OZ_NETWORK"&&e.message.includes("CDN URL expired")}function m(t){var n=null;return e(t)?n=s._(/*BTDS*/"Audio renderer error: Please restart your computer."):u(t)?n=s._(/*BTDS*/"This video is DRM-protected, but your device certificate appears to be revoked. Please make sure your browser is up to date, and try again."):c(t)?n=s._(/*BTDS*/"This video cannot be played in the browser, operating system, or hardware you're using."):d(t)&&(n=s._(/*BTDS*/"This video content isn't available right now.")),n}l.default=m}),226);
__d("useThrottled",["cr:6101"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:6101")}),34);
__d("useThrottledComet",["CometThrottle","react","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useLayoutEffect,d=s.useRef;function m(e,t){t===void 0&&(t=100);var n=d(e);c(function(){n.current=e},[e]);var o=r("useStable")(function(){return r("CometThrottle")(function(){var e=arguments;return n.current==null?void 0:n.current.apply(n,e)},t)});return u(function(){return function(){o.cancel()}},[]),o}l.default=m}),98);
__d("useThrottledImpl",["cr:1708227"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1708227")}),98);/*FB_PKG_DELIM*/
__d("MinGapType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24,LIMITED_PERSONALIZATION_NOTICE:25,FRIENDS_FEED_BADGED:26,FRIENDLY_FEED_PROMOTION_GAP_3:27,FRIENDLY_FEED_PHOTO_RECAP:28,FB_FRIENDLY_FEED_STORIES:29,NO_GAP:30}),l=e;i.default=l}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=3,s=6;function u(e,t){if(t!==5)return!1;var n=r("gkx")("23035");if(!n)return!1;var o=c(e,0);return o>s}function c(t,n){if(t.length===0||n>s)return n;var r=t.length,o=d(t);return o===-1?n:r-o<=e?c(t.slice(0,o),n+1):n}function d(e){for(var t=e.length-1;t>=0;t--)if(e[t].minGapType===5)return t;return-1}l.EXTREME_GAP_DISTANCE=e,l.shouldApplyExtremeGapProtection=u,l.getLastSponsoredStoryPosition=d}),98);
__d("AuditImpressionChannelSessionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3703"),s=o("FalcoLoggerInternal").create("audit_impression_channel_session",e),u=s;l.default=u}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1305"),s=o("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",e),u=s;l.default=u}),98);
__d("Comet2ndChannelContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5479"),s=o("FalcoLoggerInternal").create("comet_ads_product_logging",e),u=s;l.default=u}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.map(function(e,n){return t(e)?babelHelpers.extends({},e,{position:n}):null}).filter(Boolean)}function l(e){return e.filter(m)}function s(e){return e.filter(p)}function u(e){return e.filter(_)}function c(e){return e.filter(function(e){return e.status==="received"||e.status==="positioned"})}function d(e){var t=e.reduce(function(e,t,n){return _(t)?n:e},-1);return e.map(function(e,n){return n<=t&&!_(e)?babelHelpers.extends({},e,{status:"rendered"}):e})}function m(e){return e.status==="rendered"}function p(e){return e.status!=="error"}function _(e){return e.status==="rendered"||e.status==="error"||e.status==="positioned"}i.getFeedUnitsWithOriginalPosition=e,i.getCurrentlyVisibleFeedUnits=l,i.getPossiblyVisibleFeedUnits=s,i.getAllPositionedFeedUnits=u,i.getUncommittedFeedUnits=c,i.getFeedUnitsWithRenderingOutOfOrderFixed=d,i.isCurrentlyVisible=m,i.isPossiblyVisible=p,i.isAnyPositionedType=_}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(t,n,r,o,a,i,l){"use strict";var e="SPONSORED",s="comet.home";function u(t){var n=t.adId,o=t.csp,a=t.cts,i=t.endPoint,l=t.getFeedUnitStatusList,s=t.hba,u=t.isv,d=t.minGapRule,m=t.minGapType,p=t.sessionKey,_=t.tracking,f=t.vp;m!==e||d==null||n==null||(r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:n,csp:o,endpoint:i,event:"impression",hba:s,isv:u,min_gap_shape:{min_gap_rule:d.toString(),min_gap_type:m},session_key:p,timestamp:a,tracking:_,vp:f}}),c({adId:n,csp:o,cts:a,endPoint:i,getFeedUnitStatusList:l,hba:s,isv:u,minGapRule:d,minGapType:m,sessionKey:p,tracking:_,vp:f}))}function c(e){var t=e.adId,n=e.csp,a=e.cts,i=e.endPoint,l=e.getFeedUnitStatusList,s=e.hba,u=e.isv,c=e.minGapRule,d=e.minGapType,m=e.sessionKey,p=e.tracking,_=e.vp;if(!(l==null||n==null)){var f=l(),g=o("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(f,o("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible),h=parseInt(n,10),y=g.slice(0,h-1),C=o("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(y,5);if(C){var b=h-o("AdsExtremeGapUtils").getLastSponsoredStoryPosition(y);r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:t,csp:n,endpoint:i,event:"extreme_experience",hba:s,isv:u,min_gap_shape:{min_gap_rule:c!=null?c.toString():null,min_gap_type:d},product_features:b<=o("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:a,tracking:p,vp:_}})}}}function d(e){var t=e.endPoint,n=t===void 0?s:t,a=e.minGapRule,i=e.minGapType,l=Date.now(),u=Math.floor(l/1e3);r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:n,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:a!=null?a.toString():null,min_gap_type:i},product_features:"highest_position_ad_from_multifeed",session_key:o("WebSession").getId(),timestamp:u.toString(),tracking:null,vp:null}})}l.logCometAdsProductGapRule=u,l.logCometAdsProductGapRuleExtremeExperience=c,l.logCometFeedHighestPositionAd=d}),98);
__d("CometFeed5sImpressionDelayContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});l.default=u}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){if(e==null||t==null)return a&&r("FBLogger")("comet_feed_impression_null_brs_field").warn("Unable to get brs data for position %s. Debug: isAd: %s, feedUnitStatusList: %s, brsRegistry: %s",n,a,JSON.stringify(e?e():null),JSON.stringify(t?t():null)),null;var i=e(),l=o("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(i,o("CometFeedUnitStatusTrackingUtils").isPossiblyVisible),d=l.findIndex(function(e){return e.position===n});if(!s(l,d))return a&&r("FBLogger")("comet_feed_impression_null_brs_field_unsponsored").warn("Impression at nonErrorFeedUnit index %s was determined to be non sponsored. Debug: storyPosition: %s, isAd: %s, nonErrorFeedUnits: %s, feedUnitStatusList: %s, brsRegistry: %s",d,n,a,JSON.stringify(l),JSON.stringify(e()),JSON.stringify(t())),null;var p=t(),_=u(l,p,d-1),f=u(l,p,d+1),g=c(l,p,d);return{brs_filter_setting:g,feed_size:l.length.toString(),feed_state:m(p),unit_after:f,unit_before:_}}function s(e,t){var n;return((n=e[t])==null?void 0:n.category)==="SPONSORED"}function u(e,t,n){var r,o=d(e,t,n);return o&&{brs_content_label:(r=o.brsContentLabel)==null?void 0:r.toString(),organic_tracking:o.tracking,unit_type:o.unitType}}function c(e,t,n){var r,o=d(e,t,n);return o==null||(r=o.brsFilterSetting)==null?void 0:r.toString()}function d(e,t,n){var o=e[n];if(o==null)return null;var a=o.key,i=t.feedUnitRegistry[a];return i==null&&o.status==="rendered"?r("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",n,o.key,JSON.stringify(e),JSON.stringify(Object.keys(t.feedUnitRegistry))):o.status==="error"&&r("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",n,o.key,JSON.stringify(e),JSON.stringify(Object.keys(t.feedUnitRegistry))),i}function m(e){var t=e.feedStateInfoRef.current;if(t==null)return r("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly"),"feed_uninitialized_state_info";var n=t.hasMore,o=t.isEOFError,a=t.isLoading,i=t.showEOFMessageAfterFeedStoppedLoading,l=r("NetworkStatus").isOnline();return o?l?"feed_eof_error_while_online":"feed_eof_error_while_offline":i?l?"feed_eof_no_more_stories_while_online":"feed_eof_no_more_stories_while_offline":n&&a?"feed_has_more_and_is_loading":n?"feed_has_more":a?"feed_is_loading":"feed_unknown"}l.getBrandSafetyFieldForAdImpression=e}),98);
__d("CometImpressionLoggingUtil",["AuditImpressionChannelSessionFalcoEvent","CometMetricsViewableImpressionFalcoEvent","WebSession","gkx","randomInt","setTimeout","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="TWO_M_SECOND_CHANNEL",s="TWO_M_FIRST_CHANNEL";function u(e,t,n,o,a){var i=Date.now(),l=i+"_"+(r("randomInt")(0,4294967295)+1),s={aidv2:e,brs:a!=null?a:null,csp:t.toString(),cts:Math.floor(i/1e3).toString(),etid:l,event_trace_id:r("uuidv4")(),gap_to_prev_ad:o==null?void 0:o.toString(),isv:"1",xt:n};r("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return s})}function c(e,t,n,a,i,l){var s,u,c,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k;l===void 0&&(l="comet_feed");var I=r("gkx")("15955");if(!(!I&&l==="comet_feed")){var T=r("gkx")("20817");if(!(!T&&l==="comet_reels")&&!(!a||e==null)){var D=t!=null?t:"",x={sessionKey:o("WebSession").getId(),time:Date.now(),tracking:D,view_rect:{view_bottom:((s=(u=n.boundingClientRect)==null?void 0:u.y)!=null?s:0)+((c=(m=n.boundingClientRect)==null?void 0:m.height)!=null?c:0),view_top:(p=(_=n.rootBounds)==null?void 0:_.y)!=null?p:0},viewport_rect:{view_bottom:((f=(g=n.rootBounds)==null?void 0:g.y)!=null?f:0)+((h=(y=n.rootBounds)==null?void 0:y.height)!=null?h:0),view_top:(C=(b=n.rootBounds)==null?void 0:b.y)!=null?C:0},window_rect:{view_bottom:((v=(S=n.intersectionRect)==null?void 0:S.y)!=null?v:0)+((R=(L=n.intersectionRect)==null?void 0:L.height)!=null?R:0),view_top:(E=(k=n.intersectionRect)==null?void 0:k.y)!=null?E:0}};a[e]||(a[e]={}),i==="TWO_M_FIRST_CHANNEL"?a[e].firstChannel=x:a[e].secondChannel=x,r("setTimeout")(function(){d(e,a,D,l)},1e3)}}}function d(e,t,n,a){if(a===void 0&&(a="comet_feed"),!(e==null||!t||!t[e])&&!(t[e].lastSent!=null&&t[e].lastSent>Date.now()-6e4)){var i=m(t[e].firstChannel),l=m(t[e].secondChannel),s={old_impression_source:a,on_unit_enter_view_stamp:l,on_unit_exit_view_stamp:{scroll_velocity:"0",time:"1234567890",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}},on_unit_impression_view_stamp:i,primary_impression_channel:"intersection_observer",secondary_impression_channel:"scroll_based",session_end_time:"0",session_key:o("WebSession").getId(),session_start_time:Math.min(parseInt(i.time,10),parseInt(l.time,10)).toString(),surface_module:"COMET",tracking:n};r("AuditImpressionChannelSessionFalcoEvent").logImmediately(function(){return s}),t[e].lastSent=Date.now()}}function m(e){return e?{scroll_velocity:"0",time:e.time.toString(),view_rect:{view_bottom:Math.round(e.view_rect.view_bottom).toString(),view_top:Math.round(e.view_rect.view_top).toString()},viewport_rect:{view_bottom:Math.round(e.viewport_rect.view_bottom).toString(),view_top:Math.round(e.viewport_rect.view_top).toString()},window_rect:{view_bottom:Math.round(e.window_rect.view_bottom).toString(),view_top:Math.round(e.window_rect.view_top).toString()}}:{scroll_velocity:"0",time:"0",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}}}l.TwoMSecondChannel=e,l.TwoMFirstChannel=s,l.logPostImpressionForReel=u,l.logChannelData=c}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1936086"),s=o("FalcoLoggerInternal").create("comet_metrics_full_view",e),u=s;l.default=u}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1948176"),s=o("FalcoLoggerInternal").create("comet_metrics_viewability",e),u=s;l.default=u}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1955947"),s=o("FalcoLoggerInternal").create("ghl_swank",e),u=s;l.default=u}),98);
__d("GhlTennisKnobsConfigJSModuleWrapper",["GhlTennisKnobsConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("GhlTennisKnobsConfig")}),98);
__d("PercentVisible",[],(function(t,n,r,o,a,i){var e=-1,l=0,s=50,u=100;i.NO_VISIBLE=e,i.VISIBLE_0_PCT=l,i.VISIBLE_50_PCT=s,i.VISIBLE_100_PCT=u}),66);
__d("ghlInternalBumpODSKey",["ODS"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("ODS"))).bumpEntityKey(2966,"feed_ads",t+"."+n)}l.default=s}),98);
__d("ghlTestUBTFacebook",["ConstUriUtils","FBLogger","GHLBox","Promise","cr:1088657","ghlInternalBumpODSKey","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){var e=o("ConstUriUtils").getUri(t);if(e==null)throw r("FBLogger")("ad_blocker_defense_ghost_owl").mustfixThrow("URI cannot be null in ghlTestUBTFacebook.");return e},u=function(r){return new(e||(e=n("Promise")))(function(e){var t=window.atob,n=document.body;if(t==null||n==null){e(!1);return}var o=document.createElement("div");o.className=r.map(t).join(" "),n.appendChild(o);var a=p(o);if(a&&a.MozBinding&&a.MozBinding.startsWith("url")){setTimeout(function(){return e(o.clientWidth===0)},5e3);return}e((a==null?void 0:a.display)==="none")})},c=function(){return new(e||(e=n("Promise")))(function(e){var t=document.body;if(t==null){e(!1);return}var n=document.createElement("img");n.setAttribute("alt",""),t.appendChild(n),n.onload=function(){var t=p(n);e((t==null?void 0:t.display)==="none"),n.parentNode&&n.parentNode.removeChild(n)},n.onerror=function(){e(!0),n.parentNode&&n.parentNode.removeChild(n)},n.src=s("https://scontent.xx.fbcdn.net/hads-ak-prn2/1487645_6012475414660_1439393861_n.png").toString()})},d=null,m=function(a){d==null&&(h("init"),d=new(e||(e=n("Promise")))(function(t){return r("promiseDone")((e||(e=n("Promise"))).all([u(_),c(),u([f(g)]),o("GHLBox").r()]),function(e){var n=e[0],r=e[1],a=e[2],i=e[3];h("done",n,r,a);var l=n||r||a;l?o("GHLBox").s(Date.now()):o("GHLBox").i(),t([l,i])})})),r("promiseDone")(d,function(e){return a(e[0],e[1])}),n("cr:1088657")&&n("cr:1088657").i()},p=function(t){return window.getComputedStyle(t)},_=["QWRCb3g=","QWQ=","YWR2ZXJ0","cG9zdC1hZHM="],f=function(t){return t[Math.floor(Math.random()*t.length)]},g=["UmVjdGFuZ2xlQWQ=","YWR2ZXJ0aXNpbmdfd2lkZ2V0","ZG93bmxvYWRfbGlua19zcG9uc29yZWQ=","c3BvbnNvclBvc3Q=","d2lkZ2V0U3BvbnNvcnM=","b2ItaG92ZXI=","ZGZwX3VuaXQ="],h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("ghlInternalBumpODSKey")("ghlTestUBT",String(t.join(".")))},y=m;l.default=y}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","react-compiler-runtime","useCometGHLDisplayMonitor","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){var t=o("react-compiler-runtime").c(14),a=e.encryptedToken,i=e.id,l=e.isDisabled,s=e.position,u=e.type,p=l===void 0?!1:l,_=m(!1),f=_[0],g=_[1],h=d(null),y;t[0]!==a||t[1]!==f||t[2]!==s?(y=function(t){if(!(f||a==null)){g(!0),r("GhlSwankFalcoEvent").log(function(){return{hd:String(t),sli:String(s),xt:a}});var e=h.current;e!==null&&(o("CometGHLTracker").m(e),n("cr:1088657")&&n("cr:1088657").b({e:e,hd:t,token:a!=null?a:""}))}},t[0]=a,t[1]=f,t[2]=s,t[3]=y):y=t[3];var C=y,b=r("useCometGHLDisplayMonitor")(!f&&!p,C),v,S;t[4]!==b?(v=function(){h.current=b.current},S=[b],t[4]=b,t[5]=v,t[6]=S):(v=t[5],S=t[6]),c(v,S);var R,L;t[7]!==b?(R=function(){var e=b.current;return(function(){e&&o("CometGHLTracker").d(e)})},L=[b],t[7]=b,t[8]=R,t[9]=L):(R=t[8],L=t[9]),c(R,L);var E;t[10]!==i||t[11]!==s||t[12]!==u?(E=function(t){r("DebugOwl").nest(t,{id:i,location:"FEED",position:s,type:u})},t[10]=i,t[11]=s,t[12]=u,t[13]=E):E=t[13];var k=E;return r("useMergeRefs")(b,k)}var _=p;l.default=_}),98);
__d("useFullViewImpression",["react","react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(7),n=e.onFullViewStart,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1},t[0]=a):a=t[0];var i=c(a),l;t[1]!==n?(l=function(t){var e=t.entry,r=t.isElementVisible;if(!r&&i.current.hasBeenFullyViewed)i.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(r&&!i.current.hasBeenFullyViewed&&(e.intersectionRatio===1?(i.current.bottomRight=!0,i.current.topLeft=!0):(i.current.bottomRight||(i.current.bottomRight=e.boundingClientRect.bottom<=e.rootBounds.bottom&&e.boundingClientRect.right<=e.rootBounds.right),i.current.topLeft||(i.current.topLeft=e.boundingClientRect.top>=e.rootBounds.top&&e.boundingClientRect.left>=e.rootBounds.left)),i.current.bottomRight&&i.current.topLeft))return i.current.hasBeenFullyViewed=!0,n({currentTime:Date.now()})},t[1]=n,t[2]=l):l=t[2];var s=l,u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=function(t){i.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},t[3]=u):u=t[3];var d=u,m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m={thresholdOverride:"EXPENSIVE"},t[4]=m):m=t[4];var p;return t[5]!==s?(p={onHidden:d,onIntersection:s,options:m},t[5]=s,t[6]=p):p=t[6],r("useVisibilityObserver")(p)}l.default=d}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef,d=r("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function m(e,t,n){var a=o("react-compiler-runtime").c(5),i=c(!1),l;a[0]!==t||a[1]!==e?(l=function(o){if(!i.current&&e!=null){i.current=!0;var n=e,a=t,l=r("uuidv4")(),s={csp:a,event_trace_id:l,xt:n};r("CometMetricsFullViewFalcoEvent").log(function(){return{csp:a.toString(),event_trace_id:l,xt:n}}),d.onReady(function(e){e.post("comet_metrics:full_view",s)})}},a[0]=t,a[1]=e,a[2]=l):l=a[2];var s=l,u;return a[3]!==s?(u={onFullViewStart:s},a[3]=s,a[4]=u):u=a[4],r("useFullViewImpression")(u)}l.default=m}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","Comet2ndChannelContext","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometImpressionLoggingUtil","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","randomInt","react","registerSourceForView","reportTopicsForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect,m=s.useRef,p={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},_=5e3;function f(e,t,a,i,l,s){i===void 0&&(i=!1),l===void 0&&(l=null);var f=babelHelpers.extends({},p,a),h=m(null),y=m(null),C=m(null),b=m(!1),v=m(!1),S=(a==null?void 0:a.can_delay_log_impression)===!0,R=r("useMinifiedProductAttribution")();d(function(){r("ghlTestUBT")(function(e){b.current=e})},[]),d(function(){return function(){h.current=null,v.current=!1,C.current=null}},[l]);var L=c(r("CometFeedUnitStatusListPassiveContext")),E=c(r("Comet2ndChannelContext")),k=c(r("CometFeedBrandSafetyContext")),I=c(r("CometFeed5sImpressionDelayContext")),T=c(r("CometFeedAdsProductContext")),D=T.adId,x=T.minGapRule,$=T.minGapType,P=u(function(a){var l=a.entry,u=a.visibleTime;r("DebugOwl").perch(l.target),n("cr:1813330")==null||n("cr:1813330").setNewsFeedStoryPosition(t);var c=function(a,i){var n=Date.now(),l=r("CometTimeSpentNavigation").getPathInfo(),c=o("CometGHLTracker").c(a.target);r("DebugOwl").fly(a.target);var d=t,m=Math.floor(n/1e3),p=n+"_"+(r("randomInt")(0,4294967295)+1),_=c,f=l?l.name:null,h=o("WebSession").getId(),y=a.visiblePercentage,C=e,b=r("uuidv4")(),E=o("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(L,k,t,S),T;{var P;d==null&&r("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",d,b,R),T=(P=d==null?void 0:d.toString())!=null?P:"0"}if(r("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:R,brs:E,csp:T,cts:m.toString(),etid:p,event_trace_id:b,hba:_,isv:"1",me:f,sk:h,vp:y.toString(),xt:C}}),L){var N,M=L();((N=M[d])==null?void 0:N.category)==="SPONSORED"&&I.hasAnyAdImpressionAlreadyBeenLogged===!1&&(I.hasAnyAdImpressionAlreadyBeenLogged=!0,I.firstLoggedAdImpressionStoryPosition=t)}g(E,s,u,t),o("CometAdsProductLogger").logCometAdsProductGapRule({adId:D,csp:T,cts:m.toString(),endPoint:f,getFeedUnitStatusList:L,hba:_,isv:"1",minGapRule:x,minGapType:$,sessionKey:h,tracking:C,vp:y.toString()}),r("registerSourceForView")(null,C),o("reportTopicsForView").reportTopicsForViewMainObserver(s),v.current=!0},d={boundingClientRect:l.boundingClientRect,impressedAt:u,intersectionRect:l.intersectionRect,invisibleReason:null,rootBounds:l.rootBounds,status:"ENTER",target:l.target,visible:!0,visiblePercentage:l.intersectionRatio};if(i&&r("sendImpressionEnterActionValidationData")("impression_api_comet_enter",d,null,{csp:t,pre_rs:h.current,xt:e}),E){var m=E();o("CometImpressionLoggingUtil").logChannelData(D,e,d,m,o("CometImpressionLoggingUtil").TwoMFirstChannel)}if(!(C.current||y.current))if(f.can_delay_log_impression===!0&&(b.current||o("CometGHLTracker").b()||r("gkx")("23488"))){I.hasUserSeenAnyAd===!1&&(I.hasUserSeenAnyAd=!0,I.firstAdStoryPosition=t);var p=r("gkx")("23490"),T=p,P=o("CometGHLTracker").b(),N=!I.hasAnyAdImpressionAlreadyBeenLogged,M=T||P||N?_:0,w;r("gkx")("1718")?w=M:w=_,y.current=r("setTimeout")(function(){c(d,"AD_BLOCKER"),y.current=null},w)}else c(d,v.current?"DEDUP":"ORIGINAL")},[i,f.can_delay_log_impression,t,e,R]),N=u(function(n){var o=n.hiddenReason,a=n.visibleDuration,l=n.visibleTime;i&&r("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:l,invisibleReason:o,visiblePercentage:0},null,{csp:t,duration:a,pre_rs:h.current,xt:e}),h.current=o,!C.current&&(v.current||y.current)&&(C.current=r("setTimeout")(function(){v.current=!1,C.current=null},f.subsequent_gap_in_ms))},[f.subsequent_gap_in_ms,t,e,i]);return r("usePartialViewImpression")({onImpressionEnd:N,onImpressionStart:P})}function g(e,t,n,o){var a=e==null?void 0:e.brs_filter_setting;if(r("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(a,10)>0){var i=e==null?void 0:e.unit_after,l=e==null?void 0:e.unit_before;r("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var e,r,s,u;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(a),adjacent_edges_info:{unit_after:i!=null?{brs_content_label:(e=i.brs_content_label)!=null?e:"",organic_tracking:(r=i.organic_tracking)!=null?r:""}:null,unit_before:l!=null?{brs_content_label:(s=l.brs_content_label)!=null?s:"",organic_tracking:(u=l.organic_tracking)!=null?u:""}:null},client_token:t!=null?t:"",feed_session_id:"",impression_original_timestamp_ms:String(n),slot_position:String(o)}})}}l.default=f}),98);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=e.onIntersection,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={thresholdOverride:"MODERATE"},t[0]=a):a=t[0];var i;return t[1]!==n?(i={onIntersection:n,options:a},t[1]=n,t[2]=i):i=t[2],r("useVisibilityObserver")(i)}l.default=e}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","HiddenSubtreePassiveContext","PercentVisible","performance","react","react-compiler-runtime","useIsBackgrounded","useViewabilityImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useContext,m=u.useEffect,p=u.useRef;function _(e,t,n){var a=o("react-compiler-runtime").c(9),i=p(null),l=p(null),s=p(null),u=p(!1),c=r("useIsBackgrounded")(),_=c.isDocumentHiddenOrBlurred,f=d(r("HiddenSubtreePassiveContext")),g=p(null),h,S;a[0]!==f||a[1]!==_||a[2]!==e?(h=function(){var t=function(){var t=f.getCurrentState().backgrounded,n=t||_;n?b(i,l,s,u,e):v(i,l,s,u)};return g.current=f.subscribeToChanges(function(){t()}),t(),(function(){g.current!=null&&(g.current.remove(),g.current=null)})},S=[f,_,e],a[0]=f,a[1]=_,a[2]=e,a[3]=h,a[4]=S):(h=a[3],S=a[4]),m(h,S);var R;a[5]!==e?(R=function(n){var t=n.entry,r=n.isElementVisible;if(u.current){i.current=null,l.current=null,s.current=null;return}r?t.intersectionRatio<.5?(i.current=C(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current,e),l.current=y(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current,e),s.current=y(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current,e)):t.intersectionRatio>=.5&&t.intersectionRatio<1?(i.current=C(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current,e),l.current=C(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current,e),s.current=y(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current,e)):(i.current=C(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current,e),l.current=C(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current,e),s.current=C(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current,e)):(i.current=y(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current,e),l.current=y(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current,e),s.current=y(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current,e))},a[5]=e,a[6]=R):R=a[6];var L=R,E;return a[7]!==L?(E={onIntersection:L},a[7]=L,a[8]=E):E=a[8],r("useViewabilityImpression")(E)}function f(e,t,n){r("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:e.cumulative.toString(),duration:e.duration.toString(),event_trace_id:t,interval:e.interval.toString(),segment_id:e.segmentid.toString(),start_ts:e.startTs.toString(),view_event_type:e.eventType.toString(),xt:n}})}function g(e,t){var n=e-t.intervalStartTs;return{cumulative:t.cumulative+n,duration:t.cumulative+n,eventType:t.eventType,interval:n,intervalStartTs:e,segmentid:t.segmentid+1,startTs:t.startTs}}function h(e,t){var n=r("uuidv4")(),o={cumulative:e.cumulative,duration:e.duration,event_trace_id:n,eventType:e.eventType,interval:e.interval,segmentid:e.segmentid,startTs:e.startTs,xt:t};f(e,n,t);var a=babelHelpers.extends({},r("Banzai").VITAL,{signal:!1});r("Banzai").post("comet_metrics:viewability",o,a)}function y(e,t,n,r){if(n==null)return null;var o=g(e,n);return h(o,r),null}function C(e,t,n,r){var o;return n==null?o={cumulative:0,duration:0,eventType:t,interval:0,intervalStartTs:e,segmentid:0,startTs:e}:o=g(e,n),o.segmentid<=2&&h(o,r),o}function b(t,n,o,a,i){if(!a.current){var l=(e||(e=r("performance"))).now();if(a.current=!0,t.current!=null){var s=g(l,t.current);h(s,i),t.current=s}if(n.current!=null){var u=g(l,n.current);h(u,i),n.current=u}if(o.current!=null){var c=g(l,o.current);h(c,i),o.current=c}}}function v(t,n,o,a){var i=(e||(e=r("performance"))).now();a.current=!1,t.current!=null&&(t.current=babelHelpers.extends({},t.current,{intervalStartTs:i})),n.current!=null&&(n.current=babelHelpers.extends({},n.current,{intervalStartTs:i})),o.current!=null&&(o.current=babelHelpers.extends({},o.current,{intervalStartTs:i}))}l.default=_}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","react-compiler-runtime","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e,t,n){return d}function d(){return null}function m(e){var t=o("react-compiler-runtime").c(41),n=e.clientToken,a=e.clientViewConfig,i=e.contentIdentifier,l=e.disabledViewabilityEventTypes,s=e.encryptedTracking,u=e.interactionSourceOverride,d=e.position,m=e.shouldDisableGHLSurvey,f=e.targetAudioTrack,g=e.viewabilityConfig,h=e.vpvdOptionalData,y=a===void 0?null:a,C=i===void 0?null:i,b=m===void 0?!1:m,v=[],S;t[0]!==l||t[1]!==g?(S=function(t,n){return g&&g.includes(t)&&(!l||!l.includes(t))?n:null},t[0]=l,t[1]=g,t[2]=S):S=t[2];var R=S,L;t[3]!==g?(L=!!g&&g.some(_),t[3]=g,t[4]=L):L=t[4];var E=L,k=r("useStoryObserverImpressionLogger")(s,d,y,E,C,n),I;t[5]!==R||t[6]!==k?(I=R(8,k),t[5]=R,t[6]=k,t[7]=I):I=t[7];var T=I,D=c(s,d,y),x;t[8]!==R||t[9]!==D?(x=R(7,D),t[8]=R,t[9]=D,t[10]=x):x=t[10];var $=x,P=r("useStoryFullViewLogger")(s,d,y),N;t[11]!==R||t[12]!==P?(N=R(2,P),t[11]=R,t[12]=P,t[13]=N):N=t[13];var M=N,w=r("useStoryViewabilityDurationLogger")(s,d,y),A;t[14]!==R||t[15]!==w?(A=R(3,w),t[14]=R,t[15]=w,t[16]=A):A=t[16];var F=A,O;t[17]!==s||t[18]!==u||t[19]!==d||t[20]!==f||t[21]!==h?(O=babelHelpers.extends({},h,{interactionSourceOverride:u,position:d,targetAudioTrack:f,trackable:s}),t[17]=s,t[18]=u,t[19]=d,t[20]=f,t[21]=h,t[22]=O):O=t[22];var B=r("useStoryVPVDLogger")(O),W=B[0],q=B[1];v.push(q);var U;t[23]!==R||t[24]!==W?(U=R(5,W),t[23]=R,t[24]=W,t[25]=U):U=t[25];var V=U,H;t[26]!==y||t[27]!==s||t[28]!==d||t[29]!==b?(H={clientViewConfig:y,encryptedToken:s,isDisabled:b,position:d},t[26]=y,t[27]=s,t[28]=d,t[29]=b,t[30]=H):H=t[30];var G=r("useCometGHLFeedSurvey")(H),z=b?null:G,j;t[31]!==M||t[32]!==T||t[33]!==$||t[34]!==z||t[35]!==F||t[36]!==V?(j=r("mergeRefs")(T,$,M,F,V,z,null),t[31]=M,t[32]=T,t[33]=$,t[34]=z,t[35]=F,t[36]=V,t[37]=j):j=t[37];var K=j,Q=v.map(p),X;return t[38]!==K||t[39]!==Q?(X={debuggingInfoLoggers:Q,ref:K},t[38]=K,t[39]=Q,t[40]=X):X=t[40],X}function p(e,t){return s.jsx("div",{children:e},t)}p.displayName=p.name+" [from "+i.id+"]";function _(e){return e===7}l.default=m}),98);/*FB_PKG_DELIM*/
__d("CometMessagingJewelDropdownQPBannerPlaceholder.react",["CometRow.react","CometRowItem.react","MDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={actionButtonGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xc9qbxq",$$css:!0},logoGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xsdox4t",marginTop:"x1rdy4ex",width:"x1useyqa",$$css:!0},textGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1qx5ct2",marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(5),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x1qjc9v5 xlhe6ec x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xf30bs1 x1qughib x14vqqas xbmvrgn xod5an3 x1diwwjn x2lwn1j xeuugli x6ikm8r x10wlt62 x1iorvi4 x11lfxj5 x135b78x x1l90r2v x1n2onr6 x1ja2u2z"},e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("CometRowItem.react"),{verticalAlign:"top",children:s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:u.logoGlimmer})}),e[1]=n):n=e[1];var a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs(r("CometRow.react"),{verticalAlign:"center",children:[n,s.jsx(r("CometRowItem.react"),{expanding:!0,children:s.jsxs("div",{className:"x78zum5 xdt5ytf xz62fqu x16ldp7u",children:[s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:u.textGlimmer}),s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:u.textGlimmer})]})})]}),e[2]=a):a=e[2];var i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("CometRowItem.react"),{expanding:!0,children:s.jsx(r("MDSGlimmer.react"),{index:1,xstyle:u.actionButtonGlimmer})}),e[3]=i):i=e[3];var l;return e[4]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsxs("div",babelHelpers.extends({},t,{children:[a,s.jsxs(r("CometRow.react"),{align:"justify",direction:"forward",spacing:8,wrap:"none",children:[i,s.jsx(r("CometRowItem.react"),{expanding:!0,children:s.jsx(r("MDSGlimmer.react"),{index:1,xstyle:u.actionButtonGlimmer})})]})]})),e[4]=l):l=e[4],l}l.default=c}),98);
__d("FDSComposeFilled16Icon",["cr:14785"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14785")}),98);
__d("FDSComposeFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("507170"),16),u=e;l.default=u}),98);
__d("FDSResizeFreeFilled20Icon",["cr:15603"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15603")}),98);
__d("MAWGroupInvitesForThread",["LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),n=o("LSMessagingThreadTypeUtil").isGroup(e.threadType),r=o("LSThreadBitOffset").has(105,e);return t&&n?r:!1}l.isGroupInviteThread=e}),98);
__d("MWChatFacepile.react",["CometImage.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},image:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",position:"x10l6tqk",$$css:!0},imageBorder:{borderTopColor:"xsdn2ir",borderInlineEndColor:"xpkn66y",borderBottomColor:"x13awxeq",borderInlineStartColor:"xuxekev",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},leftImage:{bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0},rightImage:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x13vifvy",$$css:!0},root:{display:"x78zum5",position:"x1n2onr6",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(24),a=t.borderBetweenImages,i=t.children,l=t.firstParticipantURI,s=t.secondParticipantURI,d=t.shadow,m=t.size,p=t.xstyle,_=a===void 0?!0:a,f=d===void 0?!1:d,g=m===void 0?30:m,h=g/1.5,y;n[0]!==p?(y=(e||(e=r("stylex")))(c.root,p),n[0]=p,n[1]=y):y=n[1];var C=String(g)+"px",b=String(g)+"px",v;n[2]!==C||n[3]!==b?(v={height:C,width:b},n[2]=C,n[3]=b,n[4]=v):v=n[4];var S=f&&c.dropShadow,R;n[5]!==S?(R=[S,c.image,c.rightImage],n[5]=S,n[6]=R):R=n[6];var L;n[7]!==h||n[8]!==s||n[9]!==R?(L=u.jsx(r("CometImage.react"),{height:h,src:s,width:h,xstyle:R}),n[7]=h,n[8]=s,n[9]=R,n[10]=L):L=n[10];var E=f&&c.dropShadow,k=_&&c.imageBorder,I;n[11]!==E||n[12]!==k?(I=[E,c.image,k,c.leftImage],n[11]=E,n[12]=k,n[13]=I):I=n[13];var T;n[14]!==l||n[15]!==h||n[16]!==I?(T=u.jsx(r("CometImage.react"),{height:h,src:l,width:h,xstyle:I}),n[14]=l,n[15]=h,n[16]=I,n[17]=T):T=n[17];var D;return n[18]!==i||n[19]!==L||n[20]!==T||n[21]!==y||n[22]!==v?(D=u.jsxs("div",{className:y,style:v,children:[L,T,i]}),n[18]=i,n[19]=L,n[20]=T,n[21]=y,n[22]=v,n[23]=D):D=n[23],D}l.default=d}),98);
__d("MWChatProfile.react",["CometImage.react","MDSGlimmer.react","isStringNullOrEmpty","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={img:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",objectFit:"xl1xv1r",verticalAlign:"x3ajldb",width:"xh8yej3",$$css:!0},root:{position:"x1n2onr6",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(18),a=t.alt,i=t.children,l=t.isActiveNow,s=t.size,d=t.src,m=t.xstyle,p=a===void 0?"":a,_=l===void 0?!1:l,f;n[0]!==m?(f=(e||(e=r("stylex")))(c.root,m),n[0]=m,n[1]=f):f=n[1];var g=String(s)+"px",h=String(s)+"px",y;n[2]!==g||n[3]!==h?(y={height:g,width:h},n[2]=g,n[3]=h,n[4]=y):y=n[4];var C;n[5]!==p||n[6]!==d?(C=r("isStringNullOrEmpty")(d)?u.jsx(r("MDSGlimmer.react"),{index:1,xstyle:c.img}):u.jsx(r("CometImage.react"),{alt:p,src:d,xstyle:c.img}),n[5]=p,n[6]=d,n[7]=C):C=n[7];var b;n[8]!==_?(b={0:{className:"xv9rvxn xsdn2ir xpkn66y x13awxeq xuxekev x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1ey2m1c x1s85apg xdk7pt xtijo5x x10l6tqk x1xc55vz"},1:{className:"xv9rvxn xsdn2ir xpkn66y x13awxeq xuxekev x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1ey2m1c xdk7pt xtijo5x x10l6tqk x1xc55vz x1lliihq"}}[!!_<<0],n[8]=_,n[9]=b):b=n[9];var v;n[10]!==b?(v=u.jsx("div",babelHelpers.extends({},b)),n[10]=b,n[11]=v):v=n[11];var S;return n[12]!==i||n[13]!==f||n[14]!==y||n[15]!==C||n[16]!==v?(S=u.jsxs("div",{className:f,style:y,children:[C,i,v]}),n[12]=i,n[13]=f,n[14]=y,n[15]=C,n[16]=v,n[17]=S):S=n[17],S}l.default=d}),98);
__d("MWInboxContextSwitcherUtils",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MWPIsThreadUnread"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return function(e){return o("MWPIsThreadUnread").isThreadUnread(e)};case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return function(e){return o("LSMessagingThreadTypeUtil").isFnFGroupThread(e)};case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").DRAFTS):return function(e){return o("LSMessagingThreadTypeUtil").isDraftThread(e)};case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):default:return}}function d(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return(e||(e=o("LSIntEnum"))).ofNumber(-14);case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):default:return(e||(e=o("LSIntEnum"))).ofNumber(0)}}function m(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"Inbox";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"Communities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"Unread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"Groups";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").DRAFTS):return"Drafts";default:return"Other"}}function p(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return s._(/*BTDS*/"No community chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return s._(/*BTDS*/"No unread chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return s._(/*BTDS*/"No group chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):default:return s._(/*BTDS*/"No chats")}}function _(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return s._(/*BTDS*/"When you have community chats, you\u2019ll see them here.");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return s._(/*BTDS*/"When you have unread chats, you\u2019ll see them here.");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return s._(/*BTDS*/"When you have group chats, you\u2019ll see them here.");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):default:return s._(/*BTDS*/"When you have chats, you\u2019ll see them here.")}}function f(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"jewel_communities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"jewel_unread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"jewel_groups";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"jewel_all";default:return"jewel"}}function g(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"inbox_communities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"inbox_unread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"inbox_groups";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"inbox_all";default:return"inbox"}}function h(t){var n;switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"inbox";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"communities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"unread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"groups";default:return((n=Object.keys(r("LSThreadRangeFilter")).find(function(n){return(u||(u=o("I64"))).equal((e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter")[n]),t)}))!=null?n:"other").toLowerCase()}}function y(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return"jewelCommunities";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return"jewelUnread";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return"jewelGroups";case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return"jewelAll"}}function C(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return!0;case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function b(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return!0;case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function v(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):return!0;case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function S(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").COMMUNITIES):return s._(/*BTDS*/"Community chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").UNREAD_ONLY):return s._(/*BTDS*/"Unread chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").GROUPS_ONLY):return s._(/*BTDS*/"Group chats");case(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):default:return s._(/*BTDS*/"All chats")}}l.getCustomThreadFilter=c,l.getParentThreadKeyFromFilter=d,l.getInteractionDescFromFilter=m,l.getNullStateHeadline=p,l.getNullStateMessage=_,l.getJewelEntryPointFromFilter=f,l.getInboxEntryPointFromFilter=g,l.getTracePolicyFromFilter=h,l.getJewelLsSubEntryPointFromFilter=y,l.shouldShowEBUpsellFromFilter=C,l.shouldShowNewMessageForInboxFromFilter=b,l.shouldShowMessageRequestsFromFilter=v,l.getTabPanelLabelFromFilter=S}),226);
__d("MWJewelDropdownHeaderSeeAllButton.react",["fbt","FDSCircleButton.react","FDSResizeFreeFilled20Icon","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(12),n=e.onClose,a=e.testid,i=e.url,l=o("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=s._(/*BTDS*/"See all in Messenger"),t[0]=c):c=t[0];var d=c,m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"See all messages"),t[1]=m):m=t[1];var p=m,_=l?p:d,f;t[2]!==i?(f={url:i},t[2]=i,t[3]=f):f=t[3];var g;t[4]!==_||t[5]!==n||t[6]!==f||t[7]!==a?(g=u.jsx(r("FDSCircleButton.react"),{"aria-label":_,color_DEPRECATED:"secondary",icon:r("FDSResizeFreeFilled20Icon"),linkProps:f,onPress:n,size:32,testid:void 0,type_DEPRECATED:"deemphasized"}),t[4]=_,t[5]=n,t[6]=f,t[7]=a,t[8]=g):g=t[8];var h;return t[9]!==_||t[10]!==g?(h=u.jsx(r("FDSTooltip.react"),{align:"end",tooltip:_,children:g}),t[9]=_,t[10]=g,t[11]=h):h=t[11],h}l.default=c}),226);
__d("MWJewelMessengerLink.react",["fbt","MWFacebookUserWithoutMessengerAccess","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.onClick,a=e.url,i=o("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"See all in Messenger"),t[0]=l):l=t[0];var c=l,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"See all messages"),t[1]=d):d=t[1];var m=d,p=i?m:c,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xlsxne2 x1l90r2v x1i80of2"},t[2]=_):_=t[2];var f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f={inboxEntrypoint:"jewelLink"},t[3]=f):f=t[3];var g;return t[4]!==p||t[5]!==n||t[6]!==a?(g=u.jsx("div",babelHelpers.extends({},_,{"data-testid":void 0,children:u.jsx(r("MWXText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:u.jsx(r("MWXLink.react"),{href:a,onClick:n,traceParams:f,children:p})})})),t[4]=p,t[5]=n,t[6]=a,t[7]=g):g=t[7],g}l.default=c}),226);
__d("isArmadilloUI",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("564")===!0}l.default=e}),98);
__d("MWThreadListSupportedThreadTypes",["LSIntEnum","MWPActor.react","MetaConfig","isArmadilloUI"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e||(e=o("LSIntEnum"))).ofNumber(1),e.ofNumber(152)],u=o("MWPActor.react").isAPPlus()?s:[(e||(e=o("LSIntEnum"))).ofNumber(1),(e||(e=o("LSIntEnum"))).ofNumber(201),(e||(e=o("LSIntEnum"))).ofNumber(2),(e||(e=o("LSIntEnum"))).ofNumber(5),(e||(e=o("LSIntEnum"))).ofNumber(6),(e||(e=o("LSIntEnum"))).ofNumber(3),(e||(e=o("LSIntEnum"))).ofNumber(23),(e||(e=o("LSIntEnum"))).ofNumber(18),(e||(e=o("LSIntEnum"))).ofNumber(19)].concat(r("isArmadilloUI")()?[(e||(e=o("LSIntEnum"))).ofNumber(15),(e||(e=o("LSIntEnum"))).ofNumber(16)]:[],r("MetaConfig")._("42")?[(e||(e=o("LSIntEnum"))).ofNumber(150)]:[],r("MetaConfig")._("32")?[(e||(e=o("LSIntEnum"))).ofNumber(152)]:[]),c=u;l.default=c}),98);
__d("ReQLPaginatedList.shared",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{ascending:e,descending:t}}i.fromIterables=e}),66);
__d("mwCMIsThreadBumped",["I64","mwCMIsAnyCMThread"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.secondaryParentThreadKey,a=t.threadType;return r("mwCMIsAnyCMThread")(a)&&n!=null&&(e||(e=o("I64"))).equal(n,(e||(e=o("I64"))).of_int32(0))}l.default=s}),98);
__d("MWPBaseThreadListHooks",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MAWIsIDBOperational","MWThreadListSupportedThreadTypes","MWXacGating","MetaConfig","ReQL","ReQLPaginatedList.shared","ReQLSuspense","isMWXacGroupThread","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwIsThreadDisabled","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,l){var u=o("react-compiler-runtime").c(16),c;u[0]!==a?(c=a===void 0?(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE):a,u[0]=a,u[1]=c):c=u[1];var d=c,m;u[2]!==d?(m=(s||(s=o("I64"))).equal(d,(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRangeFilter").NONE)),u[2]=d,u[3]=m):m=u[3];var p=m,_,f;u[4]!==t||u[5]!==p||u[6]!==n?(_=function(){return p?o("ReQL").fromTableDescending(t.tables.threads_ranges_v2__generated).getKeyRange(n):o("ReQL").empty()},f=[t,n,p],u[4]=t,u[5]=p,u[6]=n,u[7]=_,u[8]=f):(_=u[7],f=u[8]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":58"),h,y;u[9]!==t||u[10]!==d||u[11]!==p||u[12]!==n||u[13]!==l?(h=function(){return p?o("ReQL").empty():o("ReQL").fromTableDescending(t.tables.filtered_threads_ranges_v3__generated).getKeyRange(n).filter(function(e){return(s||(s=o("I64"))).equal(e.threadRangeFilter,d)&&(l==null||(s||(s=o("I64"))).equal(e.secondaryThreadRangeFilter,l))})},y=[t,d,n,l,p],u[9]=t,u[10]=d,u[11]=p,u[12]=n,u[13]=l,u[14]=h,u[15]=y):(h=u[14],y=u[15]);var C=o("ReQLSuspense").useFirst(h,y,i.id+":65");return p?g:C}function c(e){var t=o("react-compiler-runtime").c(4),n=r("MetaConfig")._("44"),a=e!=null?(s||(s=o("I64"))).equal(e.minLastActivityTimestampMs,(s||(s=o("I64"))).zero)||(s||(s=o("I64"))).equal(e.minLastActivityTimestampMs,(s||(s=o("I64"))).one)||n&&(s||(s=o("I64"))).equal(e.minLastActivityTimestampMs,(s||(s=o("I64"))).max_int)?null:e.minLastActivityTimestampMs:null,i=e!=null?(s||(s=o("I64"))).equal(e.maxLastActivityTimestampMs,(s||(s=o("I64"))).zero)||(s||(s=o("I64"))).equal(e.maxLastActivityTimestampMs,(s||(s=o("I64"))).one)?null:e.maxLastActivityTimestampMs:null,l,u;t[0]!==i||t[1]!==a?(l=function(){return{gte:o("ReQL").key(a!=null?a:(s||(s=o("I64"))).min_int),lte:o("ReQL").key(i!=null?i:(s||(s=o("I64"))).max_int)}},u=[i,a],t[0]=i,t[1]=a,t[2]=l,t[3]=u):(l=t[2],u=t[3]);var c=o("Int64Hooks").useMemoInt64(l,u);return c}function d(t){var n=o("react-compiler-runtime").c(11),a=t.customThreadFilter,l=t.db,u=t.parentThreadKey,c=o("MAWIsIDBOperational").useIsIDBOperational(),d;n[0]!==a||n[1]!==l.tables.community_folders||n[2]!==l.tables.threads||n[3]!==c||n[4]!==u?(d=function(){var t,n=(t=o("ReQL")).fromTableDescending(l.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(u),d=t.fromTableDescending(l.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(u),p=t.union(n,d).map(function(t){if(!r("mwCMIsThreadBumped")(t))return{hideFromThreadlist:!1,thread:t};if((s||(s=o("I64"))).equal(t.threadType,(e||(e=o("LSIntEnum"))).ofNumber(17)))return{hideFromThreadlist:!0,thread:t};var n=o("ReQLSuspense").first(o("ReQL").fromTableAscending(l.tables.community_folders,["isHidden","takedownState"]).getKeyRange((s||(s=o("I64"))).equal(t.threadType,(e||(e=o("LSIntEnum"))).ofNumber(17))?t.threadKey:t.parentThreadKey),i.id+":160"),a=(n==null?void 0:n.takedownState)!=null?(s||(s=o("I64"))).equal(n.takedownState,(e||(e=o("LSIntEnum"))).ofNumber(1)):!1,u=(n==null?void 0:n.isHidden)===!0,c=u||a;return{hideFromThreadlist:c,thread:t}}).filter(function(t){var n=t.hideFromThreadlist,i=t.thread;if(n)return!1;var l=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType);return(!l||c)&&(r("mwCMIsAnyCMThread")(i.threadType)?!r("mwIsThreadDisabled")(i.takedownState):!0)&&r("MWThreadListSupportedThreadTypes").findIndex(function(e){return(s||(s=o("I64"))).equal(i.threadType,e)})!==-1&&(e||(e=o("LSIntEnum"))).toNumber(i.authorityLevel)>r("LSAuthorityLevel").CLIENT_PARTIAL&&(o("MWXacGating").isGroupsEnabled()||!r("isMWXacGroupThread")(i))&&(!a||a(i))}).map(m);return o("ReQLPaginatedList.shared").fromIterables(t.empty(),p)},n[0]=a,n[1]=l.tables.community_folders,n[2]=l.tables.threads,n[3]=c,n[4]=u,n[5]=d):d=n[5];var p;n[6]!==a||n[7]!==l||n[8]!==c||n[9]!==u?(p=[l,c,u,a],n[6]=a,n[7]=l,n[8]=c,n[9]=u,n[10]=p):p=n[10];var _=o("Int64Hooks").useMemoInt64(d,p);return _}function m(e){var t=e.thread;return t}l.useMWPBaseThreadListDefaultThreadsRange=u,l.useMWPBaseThreadListBounds=c,l.useMWPBaseThreadListFilteredData=d}),98);
__d("MWPThreadsForThreadList",["I64","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,r,a){if(r!=null){var i=o("ReQL").fromTableDescending(t.tables.threads.index("parentThreadKeyLastActivityTimestampMs"),a).getKeyRange(n).bounds({gt:o("ReQL").key((e||(e=o("I64"))).zero)}),l=r.minLastActivityTimestampMs,s=r.maxLastActivityTimestampMs,u=!(e||(e=o("I64"))).equal(l,(e||(e=o("I64"))).zero)&&!(e||(e=o("I64"))).equal(l,(e||(e=o("I64"))).one)?l:void 0,c=!(e||(e=o("I64"))).equal(s,(e||(e=o("I64"))).zero)&&!(e||(e=o("I64"))).equal(s,(e||(e=o("I64"))).one)?s:void 0;return u!=null?c!=null?i.bounds({gte:o("ReQL").key(u),lte:o("ReQL").key(c)}):i.bounds({gte:o("ReQL").key(u)}):c!=null?i.bounds({lte:o("ReQL").key(c)}):i}return o("ReQL").empty()}l.createIterable=s}),98);
__d("MWQuickPromotionThreadlistBannerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24396280803327230"}),null);
__d("WorkLSSnippetMarkdownUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e?e.replace(/^#{1,6}\s+/gm,"").replace(/(\*\*|__)(.*?)\1/g,"$2").replace(/(\*|_)(.*?)\1/g,"$2").replace(/`([^`]+)`/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/~~(.*?)~~/g,"$1").replace(/\n+/g," ").replace(/\s+/g," ").trim():""}i.stripMarkdownFromSnippet=e}),66);
__d("getMWLSThreadEventTimeSnippetForDisplay",["fbt","I64"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return""}}function c(e){var t=e.split(":"),n=t.slice(0,2).join(":"),r=t[2].slice(2,5);return n+r}function d(t,n){var r=Date.now(),a=t!=null?(e||(e=o("I64"))).to_float(t):0,i=n!=null?(e||(e=o("I64"))).to_float(n):a*2,l=new Date(a),d=a-6048e5,m=a-864e5,p=r<=d,_=r<=a&&r>=m,f=r<=a&&r>=d&&!_,g=r>=a&&r<=i,h=l.toDateString(),y=c(l.toLocaleTimeString()),C=h.split(" "),b=l.getDay(),v=new Date,S=v.getDate();return p?s._(/*BTDS*/"Event {month} {day} at {time}",[s._param("month",C[2]),s._param("day",C[1]),s._param("time",y)]).toString():f?s._(/*BTDS*/"Event {day of week} at {time}",[s._param("day of week",u(b)),s._param("time",y)]).toString():_?S!==b?s._(/*BTDS*/"Event tomorrow at {time}",[s._param("time",y)]).toString():s._(/*BTDS*/"Event today at {time}",[s._param("time",y)]).toString():g?s._(/*BTDS*/"Event happening now").toString():s._(/*BTDS*/"Event has passed").toString()}l.default=d}),226);
__d("MWThreadSnippetForDisplay.react",["fbt","CometTextWithEntities.react","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatTextTransform","MWGroupBlockingProtectionUtils","ReStoreVaulting","ThreadStatus","WorkLSSnippetMarkdownUtils","cr:4217","getMWLSThreadEventTimeSnippetForDisplay","gkx","react","react-compiler-runtime","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react"));function m(e){return null}var p=(e=n("cr:4217"))!=null?e:m;function _(e){var t,n=o("react-compiler-runtime").c(9),a=e.snippetRaw,i=e.thread,l=o("MWCMThreadTypes.react").isUnjoinedCMThread(i.threadType),s=p(i),u=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType),m;if(n[0]!==s||n[1]!==a||n[2]!==i.threadSubtype){var _,f=a==null?null:((_=o("ReStoreVaulting").maybeUnvault(a))!=null?_:a).replace(/\uDB80\uDC00/,"(Y)");m=f==null?null:s!=null?s:o("LSMessagingThreadTypeUtil").isWorkThread(i.threadSubtype)&&r("gkx")("13056")?o("WorkLSSnippetMarkdownUtils").stripMarkdownFromSnippet(f):f,n[0]=s,n[1]=a,n[2]=i.threadSubtype,n[3]=m}else m=n[3];var g=m,h=o("MWGroupBlockingProtectionUtils").useMWGetSnippetForBlockingProtection(i.threadKey,i.threadType),y=(t=o("useStringWithSubstitutions").useStringWithSubstitutions(u?g:null,i.threadKey))!=null?t:g;if(y==null)return null;var C=i.threadStatus!=null&&(c||(c=o("I64"))).equal(i.threadStatus,(c||(c=o("I64"))).of_int32(r("ThreadStatus").PAUSED));if(!l&&!C&&i.eventStartTimestampMs!=null){var b;return n[4]!==i.eventEndTimestampMs||n[5]!==i.eventStartTimestampMs?(b=r("getMWLSThreadEventTimeSnippetForDisplay")(i.eventStartTimestampMs,i.eventEndTimestampMs),n[4]=i.eventEndTimestampMs,n[5]=i.eventStartTimestampMs,n[6]=b):b=n[6],b}if(h!=null)return h;var v;return n[7]!==y?(v=d.jsx(r("CometTextWithEntities.react"),{text:y,transforms:o("MWChatTextTransform").textTransforms}),n[7]=y,n[8]=v):v=n[8],v}var f=d.memo(_);function g(e){var t=o("react-compiler-runtime").c(9),n=e.isDraftMessage,r=e.snippetRaw,a=e.thread,i=n===void 0?!1:n,l;t[0]!==i?(l=i&&d.jsxs("span",{style:{color:"#1763CF"},children:[s._(/*BTDS*/"Draft:")," "]}),t[0]=i,t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=["threadKey","threadType","threadStatus","eventStartTimestampMs","eventEndTimestampMs"],t[2]=u):u=t[2];var c=o("Int64Hooks").usePickInt64(a,u),m;t[3]!==r||t[4]!==c?(m=d.jsx(f,{snippetRaw:r,thread:c}),t[3]=r,t[4]=c,t[5]=m):m=t[5];var p;return t[6]!==l||t[7]!==m?(p=d.jsxs(d.Fragment,{children:[l,m]}),t[6]=l,t[7]=m,t[8]=p):p=t[8],p}l.default=g}),226);
__d("useGetSnippetFromLS",["I64","LSAuthorityLevel","LSIntEnum","MAWStrings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(9),a=(u||(u=r("useReStore")))(),l;n[0]!==a.tables.messages||n[1]!==t.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.messages.index("messageDisplayOrderAuthority")).bounds({gte:[t.threadKey,(e||(e=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),(s||(s=o("I64"))).zero],lt:[t.threadKey,e.ofNumber(r("LSAuthorityLevel").OPTIMISTIC),s.max_int]})},n[0]=a.tables.messages,n[1]=t.threadKey,n[2]=l):l=n[2];var c;n[3]!==a||n[4]!==t.threadKey?(c=[a,t.threadKey],n[3]=a,n[4]=t.threadKey,n[5]=c):c=n[5];var d=o("ReQLSuspense").useFirst(l,c,i.id+":30"),m;return n[6]!==d||n[7]!==t.snippet?(m=d!=null?{shouldHideTimestamp:!0,snippet:o("MAWStrings").MAW_OPTIMISTIC_SNIPPET().toString()}:{shouldHideTimestamp:!1,snippet:t.snippet},n[6]=d,n[7]=t.snippet,n[8]=m):m=n[8],m}l.default=c}),98);
__d("usePrefetchCutoverDependencies",["Int64Hooks","MWEnsureCutoverOpenThreadExists","MWV2EnsureThatChatTabExists","Promise","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r){var a=o("react-compiler-runtime").c(6),i=r.clientThreadKey,l=r.threadKey,s=r.threadType,c,d;return a[0]!==i||a[1]!==t||a[2]!==l||a[3]!==s?(c=function(){return t.then(function(t){return(e||(e=n("Promise"))).all([o("MWEnsureCutoverOpenThreadExists").ensureCutoverOpenThreadExists(t,l),o("MWV2EnsureThatChatTabExists").ensureThatChatTabExists(t,l,s,i,"usePrefetchCutoverDependencies")]).then(u)})},d=[t,l,s,i],a[0]=i,a[1]=t,a[2]=l,a[3]=s,a[4]=c,a[5]=d):(c=a[4],d=a[5]),o("Int64Hooks").useCallbackInt64(c,d)}function u(){}l.default=s}),98);
__d("useMWPreloadThread",["Int64Hooks","InteractionTracingMetrics","JSResourceForInteraction","JSScheduler","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","MAWPreloadSecureMessages","MWLSThreadDisplayContext","ReQL","gkx","justknobx","promiseDone","react-compiler-runtime","useAsyncReStore","useCometPreloader","usePrefetchCutoverDependencies"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWPreloadThread"),c=r("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("useMWPreloadThread");function d(t,n){var a=o("react-compiler-runtime").c(14),i=r("useAsyncReStore")(),l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),s=r("usePrefetchCutoverDependencies")(i,t),d=l!=="Inbox",_=t.threadKey,h,y;a[0]!==i||a[1]!==n||a[2]!==d||a[3]!==t.authorityLevel||a[4]!==_?(h=function(){if(d){var e=r("gkx")("16508");e===!0?c.preload():u.preload()}if(n){r("InteractionTracingMetrics").currentInteractionLogger().forEach(f);var a=r("justknobx")._("2575"),l=r("gkx")("14315")?8:r("justknobx")._("2038"),s=d?l:a;r("promiseDone")(i.then(function(e){return o("MAWPreloadSecureMessages").preloadSecureMessages(e,_,s,t.authorityLevel)}).then(p))}},y=[i,n,d,_,t.authorityLevel],a[0]=i,a[1]=n,a[2]=d,a[3]=t.authorityLevel,a[4]=_,a[5]=h,a[6]=y):(h=a[5],y=a[6]);var C=o("Int64Hooks").useCallbackInt64(h,y),b,v;a[7]!==i||a[8]!==n||a[9]!==s||a[10]!==d||a[11]!==_?(b=function(){var t=!1;return(function(){t!==!0&&(t=!0,d&&(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(m),n?r("promiseDone")(s()):r("promiseDone")(i.then(function(e){return g(e,_)})))})},v=[d,n,s,i,_],a[7]=i,a[8]=n,a[9]=s,a[10]=d,a[11]=_,a[12]=b,a[13]=v):(b=a[12],v=a[13]);var S=o("Int64Hooks").useMemoInt64(b,v);return r("useCometPreloader")("button",S,C)}function m(){var e=r("gkx")("16508");e===!0?c.preload():u.preload()}function p(){r("InteractionTracingMetrics").currentInteractionLogger().forEach(_)}function _(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"fetch_messages_page_end","AppTiming")}function f(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"fetch_messages_page_start","AppTiming")}function g(e,t){return e.runInTransaction(function(e){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.messages_ranges_v2__generated).getKeyRange(t)).then(function(n){if(n!=null&&n.minMessageId===n.maxMessageId)return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(e),{direction:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:n.minTimestampMs,threadKey:t})})},"readwrite",void 0,void 0,i.id+":160")}l.default=d}),98);
__d("useMWThreadSnippetForDisplay",["I64","LSMessagingThreadTypeUtil","MAWAdminMsg","MAWAdminMsgCTA","MAWLocalizationType","MAWThreadCutover","gkx","isStringNullOrEmpty","react-compiler-runtime","useGetSnippetFromLS","useMWGetOtherUserContact","useMWPThreadHasSpectraUser"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(24),i=o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType),l=o("MAWThreadCutover").useCutoverOpenThread(t.threadKey),s=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(l==null?void 0:l.threadKey),u=o("MAWThreadCutover").useIsDualThreadCutoverSecureThread(t.threadKey),c=r("useGetSnippetFromLS")(t),d=t.snippet===""||t.snippet==null,m=l!=null&&(e||(e=o("I64"))).gt(l.lastActivityTimestampMs,t.lastActivityTimestampMs),p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p=["firstName","name"],a[0]=p):p=a[0];var _=r("useMWGetOtherUserContact")(t.threadKey,t.threadType,p),f=(n=_==null?void 0:_.firstName)!=null?n:_==null?void 0:_.name,g=_==null,h=r("useMWPThreadHasSpectraUser")(t.threadKey);if(h){var y=t.lastMessageCtaType,C;a[1]===Symbol.for("react.memo_cache_sentinel")?(C=o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").LOCALIZATION_TYPE.MESSAGE_UNAVAILABLE_SNIPPET),a[1]=C):C=a[1];var b;return a[2]!==C||a[3]!==t.lastMessageCtaType?(b={isDraft:!1,lastMessageCtaType:y,shouldHideTimestamp:!0,snippet:C},a[2]=C,a[3]=t.lastMessageCtaType,a[4]=b):b=a[4],b}if(d&&i&&u&&r("gkx")("8687")){var v=g?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:r("isStringNullOrEmpty")(f)?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME,S;a[5]!==v?(S=o("MAWAdminMsgCTA").getCtaTypeByAdminType(v),a[5]=v,a[6]=S):S=a[6];var R;a[7]!==v||a[8]!==f?(R=o("MAWAdminMsg").buildLocalizedString([],v===o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME&&!r("isStringNullOrEmpty")(f)?[f]:[],v),a[7]=v,a[8]=f,a[9]=R):R=a[9];var L;return a[10]!==S||a[11]!==R?(L={isDraft:!1,lastMessageCtaType:S,shouldHideTimestamp:!1,snippet:R},a[10]=S,a[11]=R,a[12]=L):L=a[12],L}if(i&&!s&&l!=null&&(m||d)){var E;return a[13]!==l.lastMessageCtaType||a[14]!==l.snippet?(E={isDraft:!1,lastMessageCtaType:l.lastMessageCtaType,shouldHideTimestamp:!1,snippet:l.snippet},a[13]=l.lastMessageCtaType,a[14]=l.snippet,a[15]=E):E=a[15],E}if(i&&d&&s){var k;a[16]===Symbol.for("react.memo_cache_sentinel")?(k=o("MAWAdminMsgCTA").getCtaTypeByAdminType(o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE),a[16]=k):k=a[16];var I;return a[17]===Symbol.for("react.memo_cache_sentinel")?(I={isDraft:!1,lastMessageCtaType:k,shouldHideTimestamp:!1,snippet:o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE)},a[17]=I):I=a[17],I}if(i&&d&&!s){var T;a[18]===Symbol.for("react.memo_cache_sentinel")?(T=o("MAWAdminMsgCTA").getCtaTypeByAdminType(o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION),a[18]=T):T=a[18];var D;return a[19]===Symbol.for("react.memo_cache_sentinel")?(D={isDraft:!1,lastMessageCtaType:T,shouldHideTimestamp:!1,snippet:o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION)},a[19]=D):D=a[19],D}var x=i?c.shouldHideTimestamp:!1,$=i?c.snippet:t.snippet,P;return a[20]!==x||a[21]!==$||a[22]!==t.lastMessageCtaType?(P={isDraft:!1,lastMessageCtaType:t.lastMessageCtaType,shouldHideTimestamp:x,snippet:$},a[20]=x,a[21]=$,a[22]=t.lastMessageCtaType,a[23]=P):P=a[23],P}l.default=s}),98);/*FB_PKG_DELIM*/
__d("LSDataTraceType",[],(function(t,n,r,o,a,i){var e=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});i.default=e}),66);
__d("LSDataTraceFlush",["ArmadilloDataTraceType","I64","LSDataTraceType","LSIntEnum","ODS","ReQL","clearTimeout","gkx","promiseDone","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("I64"))).of_string("120000"),d=e.of_string("600000"),m=new Set(["encrypted_backups_upload","encrypted_backups_media_backup"]);function p(t,n,r){var a=t.length;if(a===0)return[(e||(e=o("I64"))).neg_one,e.neg_one,void 0,void 0,void 0];var i=t.find(function(e){return e.errorMessage!=null}),l=i==null?void 0:i.errorMessage,s=t[t.length-1|0],u=(e||(e=o("I64"))).of_float(Date.now()),d=s.timestampMs,m=e.compare(e.sub(u,r),c)>=0;return!n&&m?[(e||(e=o("I64"))).sub(u,r),s.checkPointId,d,l,"trace expired"]:[e.sub(d,r),s.checkPointId,d,l,l]}function _(t){return t.reduce(function(t,n,r){var a,i=(e||(e=o("I64"))).to_string(n.checkPointId),l=n.timestampMs,s=e.to_string((a=n.syncChannel)!=null?a:(e||(e=o("I64"))).neg_one),u=n.tags,c=u!=null?","+u:"";if(r===0)t.pointsList="".concat("(",i,",",s,c,")");else{var d=String((e||(e=o("I64"))).to_int32(e.sub(l,t.lastCheckPointTimestamp)));t.pointsList=t.pointsList.concat("-",d,"-(",i,",",s,c,")")}return t.lastCheckPointTimestamp=l,t},{lastCheckPointTimestamp:(e||(e=o("I64"))).zero,pointsList:""}).pointsList}var f=e.of_string("2");function g(t){var n=t.traceType,a=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").TASK))?"send":(e||(e=o("I64"))).equal(n,o("ArmadilloDataTraceType").armadilloMessageSend)?"armadillo send":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_UPLOAD))?"encrypted_backups_upload":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE))?"encrypted_backups_restore":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_BACKUP))?"encrypted_backups_media_backup":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").SAP_VESTA_LOGIN))?"sap_vesta_login":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").SAP_VESTA_REGISTRATION))?"sap_vesta_registration":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_RESTORE))?"encrypted_backups_media_restore":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_INIT))?"shadow_encrypted_backups_init":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE))?"shadow_encrypted_backups_add_device":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_UPLOAD))?"shadow_encrypted_backups_upload":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_RESTORE))?"shadow_encrypted_backups_restore":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP))?"shadow_encrypted_backups_delete_backup":t.contextTwo;return a}function h(t,n){var r=n.traceId,a=n.shouldFlush,i=g(n),l=n.traceType,s=(e||(e=o("I64"))).equal(l,o("ArmadilloDataTraceType").armadilloMessageSend)?"tam_message_send":n.contextOne,u=(e||(e=o("I64"))).equal(n.traceType,f)?void 0:n.predefinedId,c=n.initTimestampMs;return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.data_trace_addon.index("traceIdAddonId")).getKeyRange(r)).then(function(e){var t=p(e,a,c),n=t[0],r=t[1],o=t[3],i=t[4],l=e.length,s=_(e)}).then(function(){return t.data_trace_meta.delete(r)})}function y(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.data_trace_meta).getKeyRange(t)).then(function(t){return t!=null?h(e,t):Promise.resolve()})}var C={contents:void 0};function b(t){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.data_trace_meta.index("shouldFlushInitTimestampMsTraceId")).getKeyRange(!1).bounds({lt:o("ReQL").key((e||(e=o("I64"))).sub(e.of_float(Date.now()),c))})).then(function(t){if(r("gkx")("23914")){var n=(e||(e=o("I64"))).of_float(Date.now());return t.filter(function(t){var r=g(t);if(r!=null&&m.has(r)){var a=(e||(e=o("I64"))).compare(e.sub(n,t.initTimestampMs),d)>=0;return a}return!0})}return t})}async function v(e){var t=await b(e.tables);if(t.length!==0)return e.runInTransaction(function(e){return b(e).then(function(t){return Promise.all(t.map(function(t){return h(e,t)}))})},"readwrite",void 0,void 0,i.id+":287")}function S(){var e=C.contents;if(e!=null){r("clearTimeout")(e);return}}function R(e){return r("promiseDone")(v(e),function(){S();var t=r("setTimeout")(function(){R(e)},6e4);C.contents=t},function(){S(),(u||(u=o("ODS"))).bumpEntityKey(3185,"mw_trace","error")}),S}var L=y,E=R,k={flush:L,flushExpiredDataTraces:E};l.default=k}),98);
__d("XPlatReactVoprf.shared",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.VoprfWasmError=e}),66);
__d("mapVoprfWasmError",["XPlatReactVoprf.shared"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){switch(e){case-1:return new u;case 1:return new c;case 2:return new d;case 3:return new m;case 4:return new p;default:return new _}}var u=(function(e){function t(t){var n;return t===void 0&&(t="Unknown error encountered by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfUnknownError",n}return babelHelpers.inheritsLoose(t,e),t})((e=o("XPlatReactVoprf.shared")).VoprfWasmError),c=(function(e){function t(t){var n;return t===void 0&&(t="Incorrect buffer length encountered by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfBufferLengthError",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError),d=(function(e){function t(t){var n;return t===void 0&&(t="Error while performing curve operation by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfCurveOperationError",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError),m=(function(e){function t(t){var n;return t===void 0&&(t="Error while performing hash operation by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfHashOperationError",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError),p=(function(e){function t(t){var n;return t===void 0&&(t="Error while performing proof operation by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfProofError",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError),_=(function(e){function t(t){var n;return t===void 0&&(t="Unknown error code received from WASM binary"),n=e.call(this,t)||this,n.name="UnknownErrorCode",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError);l.mapVoprfWasmError=s,l.VoprfUnknownError=u,l.VoprfBufferLengthError=c,l.VoprfCurveOperationError=d,l.VoprfHashOperationError=m,l.VoprfProofError=p,l.UnknownErrorCode=_}),98);
__d("LSVoprfWasmBuilder",["FBLogger","err","getErrorSafe","mapVoprfWasmError"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t){var n=t.locateFile!=null?{locateFile:t.locateFile}:{instantiateWasm:async function(n,o){try{var e=await t.getWasmModule(),a=await WebAssembly.instantiate(e,n);return o(a),{}}catch(e){var i=r("getErrorSafe")(e);return r("FBLogger")("LSVoprfWasmBuilder").mustfix("instantiateWasm failed with error: %s",i.toString()),!1}}};return s(n,e)}}function s(e,t){return new Promise(function(n,a){t(e).then(function(e){var t,i=e._sodiumInit();i!==0&&a(r("err")("Failed to initialize Sodium!")),n({createCurveRistretto:function(){var t;try{return t=e._curve_create(),e._curve_init_ristretto(t),t}catch(n){throw t!=null&&e._curve_free(t),n}},freeCurve:function(n){e._curve_free(n)},createVoprfExpTwohashdh:function(n){var t;try{return t=e._voprf_create(),e._voprf_init_exp_twohashdh(t,n),t}catch(n){throw t!=null&&e._voprf_free(t),n}},freeVoprf:function(n){e._voprf_free(n)},getCurveBytes:function(n){return e._get_curve_element_bytes(n.curvePtr)},getCurveScalarBytes:function(n){return e._get_curve_scalar_bytes(n.curvePtr)},blind:function(n,r){var t,a,i;try{var l=e._get_curve_element_bytes(n.curvePtr),s=e._get_curve_scalar_bytes(n.curvePtr);t=e._malloc(l),a=e._malloc(s),i=c(e,r);var d=e._blind(n.voprfPtr,t,l,a,s,i,r.length);if(d!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(d);var m=u(e,t,l),p=u(e,a,s);return{blindedElement:m,blindingFactor:p}}finally{[t,a,i].forEach(function(t){t!=null&&e._free(t)})}},verifiableUnblind:function(n,r,a,i,l,s,d,m){var t,p,_,f,g,h,y;try{t=r?c(e,r):null,p=a?c(e,a):null,_=c(e,s),f=c(e,i),g=c(e,l),h=c(e,d);var C=e._get_curve_element_bytes(n.curvePtr);y=e._malloc(C);var b=e._verifiable_unblind(n.voprfPtr,y,C,t,r?r.length:0,p,a?a.length:0,f,i.length,g,l.length,_,s.length,h,d.length,+m);if(b!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(b);var v=u(e,y,C);return{unblindedElement:v}}finally{[t,p,_,f,g,h,y].forEach(function(t){t!=null&&e._free(t)})}},clientFinalize:function(n,r,a){var t,i,l;try{t=c(e,r),i=c(e,a);var s=e._get_voprf_final_evaluation_bytes(n.voprfPtr);l=e._malloc(s);var d=e._voprf_client_finalize(n.voprfPtr,l,s,t,r.length,i,a.length);if(d!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(d);var m=u(e,l,s);return{finalEvaluation:m}}finally{[t,i,l].forEach(function(t){t!=null&&e._free(t)})}},setup:function(n){var t,r;try{var a=e._get_curve_scalar_bytes(n.curvePtr),i=e._get_curve_element_bytes(n.curvePtr);t=e._malloc(a),r=e._malloc(i);var l=e._voprf_setup(n.voprfPtr,r,i,t,a);if(l!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(l);var s=u(e,r,i),c=u(e,t,a);return{sk:s,pk:c}}finally{[t,r].forEach(function(t){t!=null&&e._free(t)})}},evaluate:function(n,r,a,i){var t,l,s,d,m;try{var p=e._get_curve_element_bytes(n.curvePtr);t=e._malloc(p);var _=i?e._get_curve_scalar_bytes(n.curvePtr):0;l=_>0?e._malloc(_):null;var f=i?e._get_curve_scalar_bytes(n.curvePtr):0;s=f>0?e._malloc(f):null,d=c(e,a),m=c(e,r);var g=e._voprf_evaluate(n.voprfPtr,t,p,l,_,s,f,m,r.length,d,a.length,+i);if(g!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(g);var h=l!==null?u(e,l,_):null,y=s!==null?u(e,s,f):null,C=u(e,t,p);return{proofC:h,proofS:y,evaluatedElement:C}}finally{[t,l,s,d,m].forEach(function(t){t!=null&&e._free(t)})}},serverFinalize:function(n,r,a){var t,i,l;try{t=c(e,r),i=c(e,a);var s=e._get_voprf_final_evaluation_bytes(n.voprfPtr);l=e._malloc(s);var d=e._voprf_server_finalize(n.voprfPtr,l,s,t,r.length,i,a.length);if(d!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(d);var m=u(e,l,s);return{finalEvaluation:m}}finally{[t,i,l].forEach(function(t){t!=null&&e._free(t)})}},wasmMemory:(t=e.wasmMemory)!=null?t:void 0})}).catch(function(e){throw r("err")("Failed to initialize wasm module, "+e)})})}function u(e,t,n){for(var r=new Uint8Array(n),o=0;o<n;++o)r[o]=e.getValue(o+t,"i8");return r}function c(e,t){var n=t.length,r=e._malloc(n);return e.writeArrayToMemory(t,r),r}l.default=e}),98);
__d("LSVoprfWasm",["LSVoprfWasmBuilder","bx","ls_voprf_utils_v2"],(function(t,n,r,o,a,i,l){"use strict";var e=r("bx").getURL(r("bx")("30933")),s=function(){return e},u=r("LSVoprfWasmBuilder")(r("ls_voprf_utils_v2"));l.locateFile=s,l.LSVoprfWasm=u}),98);
__d("MAWClientConsistencyRefresh",["ClientConsistencyEventEmitter","CurrentAppID"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("CurrentAppID").getAppID();switch(t){case String(772021112871879):r("ClientConsistencyEventEmitter").emit("hardRefresh",e);break;default:r("ClientConsistencyEventEmitter").emit("softRefresh",e)}}l.default=e}),98);
__d("MAWWorkerOnClose",["MAWSetupWorkerAuxStateForLogging","MAWWaitForBackendSetup","MAWWebWorkerSingleton","QPLUserFlow","pageID","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(1056841865,"2862");function s(t,n,a){r("QPLUserFlow").start(e,{annotations:{string:{currentWorkerId:o("MAWWaitForBackendSetup").getCurrentWorkerID(),pageID:r("pageID"),terminationMsgType:n,terminationReason:t,workerID:a},string_array:{pastWorkerTerminationMsgTypes:o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,pastWorkerTerminationReasons:o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}}})}function u(t){r("promiseDone")(o("MAWWebWorkerSingleton").getWorkerHealthStatus(),function(n){return r("QPLUserFlow").endSuccess(e,{annotations:{bool:babelHelpers.extends({},n.data),string:{healthStatusAfter:n.tag,outcome:t}}})})}function c(t,n){r("promiseDone")(o("MAWWebWorkerSingleton").getWorkerHealthStatus(),function(o){return r("QPLUserFlow").endFailure(e,t,{annotations:{bool:babelHelpers.extends({},o.data),string:{healthStatusAfter:o.tag}},error:n})})}l.ON_WORKER_CLOSED_HANDLER_QPL=e,l.startQPL=s,l.success=u,l.fail=c}),98);
__d("MAWWorkerWatchdog",["MAWBridgeLoggingUtils","MAWBridgeSendAndReceive","MAWSetupWorkerAuxStateForLogging","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerWatchdogRecovery","Promise","QPLUserFlow","err","justknobx","promiseDone","qpl","setInterval","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("justknobx")._("4240"),u=s/2,c=r("qpl")._(1056847415,"2909"),d=!1,m=!1,p=["shared_not_exists","shared_exists_not_connected"];function _(){var t;return r("QPLUserFlow").start(c,{annotations:{bool:{workerTerminatedPermanently:(t=o("MAWSetupWorkerAuxStateForLogging")).WorkerLifeCycleState.workerTerminatedPermanently},int:{workerAge:t.WorkerLifeCycleState.getWorkerAge()},string:{currentWorkerId:o("MAWWaitForBackendSetup").getCurrentWorkerID()},string_array:{pastWorkerTerminationMsgTypes:t.WorkerLifeCycleState.restartMessageTypes,pastWorkerTerminationReasons:t.WorkerLifeCycleState.restartReasons}}}),(e||(e=n("Promise"))).race([o("MAWBridgeSendAndReceive").sendAndReceive("backend",o("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE),new e(function(e,t){r("setTimeout")(function(){t(r("err")("Armadillo web worker heartbeat timed out."))},u)})]).then(function(){r("QPLUserFlow").endSuccess(c),o("MAWSetupWorkerAuxStateForLogging").addWorkerHeartbeatToHistory("OK")},function(e){f(),o("MAWSetupWorkerAuxStateForLogging").addWorkerHeartbeatToHistory("ERROR"),r("promiseDone")(o("MAWWebWorkerSingleton").getWorkerHealthStatus(),function(t){return r("QPLUserFlow").endFailure(c,"heartbeat_timeout",{annotations:{bool:babelHelpers.extends({},t.data),string:{workerHealthStatus:t.tag}},error:e})})})}function f(){r("QPLUserFlow").addPoint(c,"starting-lock-based-recovery"),r("promiseDone")(o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(e){var t=o("MAWWorkerWatchdogRecovery").getWorkerRecoveryForWatchdog(),n=o("MAWWaitForBackendSetup").getCurrentWorkerID();if(p.includes(e.tag)&&t!=null)return t("locks_based_recovery",n,"locks_based_recovery")}))}function g(){m||(r("setInterval")(function(){d&&r("promiseDone")(_())},s),o("MAWWaitForBackendSetup").runAfterBackendSetup(function(){d=!0},o("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE),m=!0)}l.HEARTBEAT_TIMEOUT_INTERVAL=u,l.MAW_WORKER_HEARTBEAT_QPL=c,l.startWatchdog=g}),98);
__d("MAWSetupWorker",["CurrentAppID","Deferred","IGDWebUtils","MAWBridgeObserver","MAWClientConsistencyRefresh","MAWCommonSetupWorker","MAWCrossWorkerPortal","MAWInit","MAWLoggerUtils","MAWMIC","MAWSetupWorkerAuxStateForLogging","MAWUnrecoverableDbErrors","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerOnClose","MAWWorkerWatchdog","MWFBLogger","QPLUserFlow","SharedWorkerBundleResource","SharedWorkerV2ResourceExperimental","cr:6600","gkx","promiseDone","shouldUseMAWSharedWorker"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=o("MWFBLogger").MWLogger().tags([o("MAWLoggerUtils").Tag.WorkerSetup,o("MAWLoggerUtils").Tag.MAWInit]),_=o("IGDWebUtils").isInstagramWebSupportedApp(Number(o("CurrentAppID").getAppID())),f=_?"IGDAWMainWorker":"MAWMainWorker",g=null,h=!1;function y(e){h=e,o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently=e}function C(){return h}function b(e){switch(e){case"mawInit":return!0;case"mawReinitSetupMutex":case"mawReinitReregDevice":case"bridgeRecovery":case"workerUpgraded":case"rebootRequired":case"workerTerminated":default:return!1}}async function v(t,n,a,i,l,c,d){if(C())throw p.mustfixThrow("Worker is permanently killed.");o("MAWWaitForBackendSetup").markBackendSetupStarted();var m=function(r){return v(t,n,a,i,r,c,d)};(l==="bridgeRecovery"||l==="backendSetupFailure")&&r("QPLUserFlow").addPoint(o("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"create_worker_start"),o("MAWWebWorkerSingleton").setOnCloseForWorkerInstance(function(e,t,n){o("MAWWorkerOnClose").startQPL(e,n,t);var a=e!=null?e:"unknown",i=D(a)&&o("MAWWaitForBackendSetup").isBackendSetupSettled();if(o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons.push(a),o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes.push(n!=null?n:"unknown"),o("MAWWaitForBackendSetup").getCurrentWorkerID()==null||t!==o("MAWWaitForBackendSetup").getCurrentWorkerID()){o("MAWInit").MAWInit.logPoint(a+"_worker_termination_skipped"),o("MAWMIC").addPoint(a+"_worker_termination_skipped"),o("MAWWorkerOnClose").success(a+"_worker_restart_skipped"),p.warn("Worker termination skipped %s. Terminate reason: %s, Worker: %s, current worker: %s",l,e,t,o("MAWWaitForBackendSetup").getCurrentWorkerID());return}o("MAWWaitForBackendSetup").resetCurrentWorkerSkipIdCheck(),p.warn("Worker termination started %s. Terminate reason: %s, Worker: %s",l,e,t),o("MAWInit").MAWInit.logPoint(a+"_worker_terminated"),o("MAWMIC").addPoint(a+"_worker_terminated"),o("MAWInit").MAWInit.addStringArrayAnnotation("workerTerminationReason",o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons),o("MAWMIC").addStringArrayAnnotation("workerTerminationReason",o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons),o("MAWInit").MAWInit.addStringArrayAnnotation("workerTerminationMsgType",o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes),o("MAWMIC").addStringArrayAnnotation("workerTerminationMsgType",o("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes);var s=e==="requested-upgrade"?"workerUpgraded":a+"_worker_terminated";r("promiseDone")(T(),function(){if(i){y(!0),p.warn("Tab displays soft refresh. Flow: %s",a),o("MAWInit").MAWInit.logPoint(a+"_soft_refresh"),o("MAWMIC").addPoint(a+"_soft_refresh"),r("MAWClientConsistencyRefresh")("maw_request_refresh"),o("MAWWorkerOnClose").success("softRefresh");return}if(a!=="logout")return m(s).then(function(){return o("MAWWorkerOnClose").success(s)}).catch(function(e){o("MAWInit").MAWInit.fail("worker_restart_failed",e),o("MAWWorkerOnClose").fail("workerUpgradeFailed",e),o("MAWWaitForBackendSetup").rejectBackendSetup(e)});o("MAWWorkerOnClose").success("skip_logout")})});var _=await o("MAWWebWorkerSingleton").createWorkerIfNone(l),h=_.worker,b=_.workerID;o("MAWWaitForBackendSetup").setCurrentWorker(b);var S=new(r("Deferred"));g=S.getPromise(),(l==="bridgeRecovery"||l==="backendSetupFailure")&&r("QPLUserFlow").addPoint(o("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"create_worker_end");var R=o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();p.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["worker setting up with reason: ",", use shared worker: ",""])),l,R),R&&h.addEventListener("message",function(e){var t,n;typeof e.data=="object"&&((t=e.data)==null?void 0:t.type)==="sw-shutdown"&&typeof e.data.response=="object"&&((n=e.data.response)==null?void 0:n.reason)==="maw-request-refresh"&&r("MAWClientConsistencyRefresh")("maw_request_refresh")});var L=new(o("MAWCommonSetupWorker")).BridgeAdapter(h,f);return await n(L),S.resolve(L),p.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["bridge promise resolved"]))),o("MAWMIC").addPoint(l+"_connect_to_backend"),await o("MAWInit").MAWInit.measurePerformance(l+"-init_backend",async function(){var e=function(n){return o("MAWCommonSetupWorker").initWorker({bridge:L,ebState:n,onWorkerAlreadySetup:a,onWorkerRestart:m,reason:l,vaultMaterials:t})},n=R?await e(d):await L.fullyConnected.then(function(){return e(d)});o("MAWWaitForBackendSetup").resolveBackendSetup(n),p.DEBUG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["backend setup successful"])))}),o("MAWWaitForBackendSetup").waitForBackendSetup("setup-worker")}function S(e,t,n,a,i,l,s){var u=v(e,t,n,a,i,l,s);return b(i)&&r("promiseDone")(o("MAWWaitForBackendSetup").waitForBackendSetup("init bridge recovery observer").then(function(){o("MAWBridgeObserver").initUnackedMessagesObserver({onConnectToExistingWorker:n,onTerminateWorker:a,onWorkerConnect:t,updateWorkerState:l,vaultMaterials:e}),o("MAWWorkerWatchdog").startWatchdog()})),u}function R(){return g}async function L(e){return p.debug("Terminating dedicated worker: %s. Bridge Promise: %s",e,!!g),g?(p.DEBUG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["worker terminating: for ",""])),e),await T(),!0):(p.DEBUG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["worker doesn't exist, no need to terminate"]))),!1)}async function E(){await L("terminateWorkerPermanently"),y(!0)}function k(e,t){var a=r("gkx")("7313");return a?o("SharedWorkerV2ResourceExperimental").terminateSharedWorker(n("cr:6600"),e?"maw-request-refresh":t!=null?t:"unknown"):o("SharedWorkerBundleResource").terminateSharedWorker(n("cr:6600"),null,e?"maw-request-refresh":t!=null?t:"unknown")}async function I(e){var t=o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();if(t){p.debug("Terminating shared worker: %s",e);var n=await k(!1,e).then(function(){return!0},function(){return!1});p.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Shared worker responded to termination request: ",""])),n)}else await L(e)}async function T(){var e;p.debug("Updating worker state on termination"),(e=await g)==null||e.close(),g=null,o("MAWWaitForBackendSetup").resetBackendSetup(),o("MAWCrossWorkerPortal").killPortalWhenWorkerTerminating(),o("MAWWebWorkerSingleton").resetWorkerCreation()}function D(e){return!!(e==="MAWEARKeychainDecryptionError"||o("MAWUnrecoverableDbErrors").isUnrecoverableDbErrorByName(e)||e==="update-required-fbid_change"||e==="update-required-vault_materials_change")}l.setPreventWorkerRestart=y,l.getOrSetupWorker=S,l.waitForWorkerSetup=R,l.terminateDedicatedWorker=L,l.terminateWorkerPermanently=E,l.killSharedWorker=k,l.terminateWorker=I}),98);
__d("MAWWorkerReboot",["EBIsEbEnabled","FBLogger","MAWBridgeObserver","MAWSetupWorker","MAWWaitForBackendSetup","ODS","QPLUserFlow","getErrorSafe","gkx","pageID","shouldUseMAWSharedWorker"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){(e||(e=o("ODS"))).bumpEntityKey(3185,"armadillo_shared_worker_reboot","shared_worker_reboot_"+t)}var u=o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker(),c=function(t){switch(t){case"bridge_recovery":return"bridgeRecovery";case"backend_setup_failure":return"backendSetupFailure"}};function d(e,t,n,a,i,l){r("QPLUserFlow").start(o("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,{annotations:{bool:{isSharedWorker:u},string:{trigger:i,workerInitPageID:r("pageID")}}}),r("FBLogger")("messenger_web").info("Rebooting worker started."),s("start"),o("MAWWaitForBackendSetup").resetBackendSetup();var d=c(i);return r("QPLUserFlow").addPoint(o("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"terminate_worker_start"),new Promise(function(i,u){return o("MAWSetupWorker").terminateWorker(d).then(async function(){r("QPLUserFlow").addPoint(o("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"terminate_worker_end"),r("FBLogger")("messenger_web").info("Reboot process killed existing worker successfully.");var u;if(r("gkx")("1458"))try{u=await o("EBIsEbEnabled").isEBEnabled()}catch(e){r("FBLogger")("wmi_eb").mustfix("Failed to get EB state during worker reboot: %s",r("getErrorSafe")(e).message),u=void 0}else u=void 0;return o("MAWSetupWorker").getOrSetupWorker(e,t,n,a,d,l,u).then(function(e){r("FBLogger")("messenger_web").info("Rebooting worker success. Reason for reboot: %s",d),s("success"),r("QPLUserFlow").endSuccess(o("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL),t(e),i()})}).catch(function(e){r("FBLogger")("messenger_web").info("Rebooting worker failed. Error message: %s",e.message),s("fail"),r("QPLUserFlow").endFailure(o("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,e.message),o("MAWWaitForBackendSetup").rejectBackendSetup(e),u(e)})})}l.rebootWorker=d}),98);
__d("MAWBridgeObserver",["FBLogger","MAWWaitForBackendSetup","MAWWorkerReboot","promiseDone","qex","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(1056840252,"808"),s=5,u=[],c=!1,d,m=function(){u=[]},p=function(t){if(h()){if(o("MAWWaitForBackendSetup").isBackendSetupInProgress()){m();return}if(g().length>=s&&!o("MAWWaitForBackendSetup").isBackendSetupInProgress()){r("FBLogger")("messenger_web").info("Minimum threshold of unacked messages reached: %s. Unacked messages: %s",s,JSON.stringify(g()));var e=r("qex")._("440"),n=r("qex")._("468")||s;e===!0&&g().length>=n?(r("FBLogger")("messenger_web").info("QE threshold of unacked messages reached: %s. Unacked messages: %s",s,JSON.stringify(g())),m(),r("promiseDone")(_())):(r("FBLogger")("messenger_web").info("Bridge recovery attempt skipped. Reason for skipped: maw_bridge_recovery_v2_enabled: %s, maw_bridge_recovery_threshold: %s",e,n),u.push(t))}else u.push(t)}},_=function(){return r("FBLogger")("messenger_web").info("Starting bridge recovery attempt."),o("MAWWorkerReboot").rebootWorker(d.vaultMaterials,d.onWorkerConnect,d.onConnectToExistingWorker,d.onTerminateWorker,"bridge_recovery",d.updateWorkerState).then(function(){r("FBLogger")("messenger_web").info("Bridge recovery attempt successful. Worker has restarted.")},function(e){throw r("FBLogger")("messenger_web").info("Bridge recovery attempt failed. Worker has failed to restart. Error: %s",e.message),e})},f=function(t){c=!0,d=t},g=function(){return u},h=function(){return c},y=function(){return d};l.BAD_STATE_RECOVERY_QPL=e,l.MIN_UNACKED_EVENTS_THRESHOLD=s,l.resetUnackedMessages=m,l.notifyUnackedEvent=p,l.attemptRecovery=_,l.initUnackedMessagesObserver=f,l.getUnackedMessages=g,l.getIsObserverActive=h,l.getProps=y}),98);
__d("MAWGetDBVersionForTest",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(){if(r("justknobx")._("1495")){var e=new URL(document.location.href),t=e.searchParams.get("db_version");if(t!=null){if(t==="current"||t==="latest")return t;var n=parseInt(t,10);if(Number.isInteger(n))return Number(n)}}}l.getDbVersionForTest=e}),98);
__d("MAWCommonSetupWorker",["Deferred","FBLogger","MAWCurrentUser","MAWGetDBVersionForTest","MAWInit","MAWMIC","MAWSetupWorker","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MessengerWebInitData","Promise","WADevToolMessageChannel","WALogger","WorkerClient","WorkerMessagePort","err","gkx","pageID","promiseDone","shouldUseMAWSharedWorker"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("gkx")("3282"),c=(function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,r.onmessage=null,r.$BridgeAdapter$p_1=t,o("WorkerClient").init(r),r.onUnhandledMessage.add(function(e){r.onmessage&&r.onmessage({data:e})}),r.addMessageListener("worker-setup",function(e){e.status==="worker-ready"&&o("MAWInit").MAWInit.addBoolAnnotation("workerReadyReceived",!0)}),r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getBridgePort=function(){return this},t})(o("WorkerMessagePort").WorkerSyncedMessagePort);function d(e){var t=e.bridge,n=e.ebState,a=e.reason,i=e.vaultMaterials,l=new(r("Deferred"));return t.addMessageListener("worker-setup",function(t){return m(e,l,t)}),t.addMessageListener("worker-setup-ack",function(e){return p(e,a)}),f(t,i,n),r("promiseDone")(o("MAWWebWorkerSingleton").doesWorkerExist(),function(e){return o("MAWInit").MAWInit.addBoolAnnotation("workerExistsOnSetup",e)}),r("promiseDone")(o("MAWWebWorkerSingleton").getWorkerHealthStatus(),function(e){return o("MAWInit").MAWInit.addStringAnnotation("workerHealthStatus",e.tag)}),l.getPromise()}function m(e,t,n){var a;if(n.setupHash===r("pageID"))switch(n.status){case"success":t.resolve(e.bridge.getBridgePort());break;case"failure":t.reject(r("err")((a=n.msg)!=null?a:"Error setting up worker"));break;case"already-setup":return _(e,t,n);default:throw o("MAWInit").MAWInit.addBoolAnnotation("invalidSetupMessageReceived",!0),r("FBLogger")("messenger_web").mustfixThrow("Invalid message for worker: "+n.status)}}function p(e,t){var n;if(e.setupHash===r("pageID")){o("MAWInit").MAWInit.logPoint(t+"_backend_setup_ack"),o("MAWMIC").addPoint(t+"_backend_setup_ack");var a=(n=e.backendState)!=null?n:"none";o("MAWInit").MAWInit.addStringAnnotation("backendAckState",a),o("MAWMIC").addStringAnnotation("backendAckState",a)}}function _(t,a,i){var l=t.bridge,u=t.onWorkerAlreadySetup,c=t.onWorkerRestart,d=t.reason;switch(i.action){case"no-action":{a.resolve(l.getBridgePort()),u(),o("MAWInit").MAWInit.logPoint(d+"_backend_already_setup"),o("MAWMIC").addPoint(d+"_backend_already_setup");break}case"reboot-required":{var m;o("WALogger").DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Terminating worker and rebooting..."]))),o("MAWMIC").addPoint(d+"_worker_rebooting"),o("MAWInit").MAWInit.logPoint(d+"_worker_rebooting");var p=(m=i==null?void 0:i.reason)!=null?m:"none";o("MAWInit").MAWInit.addStringAnnotation("workerRebootReason",p),o("MAWMIC").addStringAnnotation("workerRebootReason",p);var _=o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?(s||(s=n("Promise"))).resolve(o("MAWWaitForBackendSetup").resetCurrentWorkerWithId(o("MAWWaitForBackendSetup").getCurrentWorkerID())):o("MAWSetupWorker").terminateDedicatedWorker("reboot required");return _.then(function(){return c("rebootRequired").then(function(e){return a.resolve(e)}).catch(function(e){return a.reject(e)})})}default:throw i.action,r("FBLogger")("messenger_web").mustfixThrow("Invalid action for worker-setup:already-setup: "+i.action)}}function f(e,t,n){var a={content:{createdAt:r("MessengerWebInitData").createdAt,ebState:n,fbId:o("MAWCurrentUser").getID(),sessionId:r("MessengerWebInitData").sessionId,testDbVersion:o("MAWGetDBVersionForTest").getDbVersionForTest(),userKeyBase:r("MessengerWebInitData").userKeyBase,vaultMaterials:t},setupHash:r("pageID"),type:"worker-setup"};if(u){o("MAWInit").MAWInit.addBoolAnnotation("devToolsEnabled",!0);var i=o("WADevToolMessageChannel").createNewChannel();a.content.devToolMessageChannelPort2=i.port2,e.postMessage(a,[i.port2])}else e.postMessage(a)}l.BridgeAdapter=c,l.initWorker=d}),98);
__d("MWGetOtherContactOrSelf",["I64","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r){var a=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(r.tables.participants).getKeyRange(t));if(a.length===1){var i=a[0];return o("ReQL").firstAsync(o("ReQL").fromTableAscending(r.tables.contacts).getKeyRange(i.contactId))}if(!(a.length>2)){var l=a.find(function(t){return!(e||(e=o("I64"))).equal(t.contactId,n)});if(l!=null)return o("ReQL").firstAsync(o("ReQL").fromTableAscending(r.tables.contacts).getKeyRange(l.contactId))}}l.getOtherContactOrSelf=s}),98);
__d("hasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","MAWDefaultE2eeOneToOneEligibility","MWGetOtherContactOrSelf","ReQL"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){if(e==null)return!1;var n=await o("ReQL").firstExnAsync(o("ReQL").fromTableAscending(t.tables._user_info).map(function(e){return e.facebookUserId})),a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange(n));if(a==null)return r("FBLogger")("messenger_search").warn("Error fetching viewer details"),!1;var i=o("LSContactBitOffset").has(80,a);if(!i)return!1;var l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange(e)),s=await o("MWGetOtherContactOrSelf").getOtherContactOrSelf(e,n,t),u=s!=null?s:l;return o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:u})}l.default=e}),98);
__d("isTlcSearchEnabled",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("135")===!0}l.default=e}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/PAEKTkKqR_S/
 */
__d("msgpack-msgpack-2.8.0",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){Object.defineProperty(e,"__esModule",{value:!0}),e.getUint64=e.getInt64=e.setInt64=e.setUint64=e.UINT32_MAX=void 0,e.UINT32_MAX=4294967295;function t(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}e.setUint64=t;function n(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}e.setInt64=n;function r(e,t){var n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}e.getInt64=r;function o(e,t){var n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}e.getUint64=o}var u=!1;function c(){return u||(u=!0,s()),l.exports}var d={},m={exports:d};function p(){var e,t,n;Object.defineProperty(d,"__esModule",{value:!0}),d.utf8DecodeTD=d.TEXT_DECODER_THRESHOLD=d.utf8DecodeJs=d.utf8EncodeTE=d.TEXT_ENCODER_THRESHOLD=d.utf8EncodeJs=d.utf8Count=void 0;var r=c(),o=(typeof process=="undefined"||((e=process==null?void 0:process.env)===null||e===void 0?void 0:e.TEXT_ENCODING)!=="never")&&typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined";function a(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if((o&4294967168)===0){n++;continue}else if((o&4294965248)===0)n+=2;else{if(o>=55296&&o<=56319&&r<t){var a=e.charCodeAt(r);(a&64512)===56320&&(++r,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?n+=3:n+=4}}return n}d.utf8Count=a;function i(e,t,n){for(var r=e.length,o=n,a=0;a<r;){var i=e.charCodeAt(a++);if((i&4294967168)===0){t[o++]=i;continue}else if((i&4294965248)===0)t[o++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&a<r){var l=e.charCodeAt(a);(l&64512)===56320&&(++a,i=((i&1023)<<10)+(l&1023)+65536)}(i&4294901760)===0?(t[o++]=i>>12&15|224,t[o++]=i>>6&63|128):(t[o++]=i>>18&7|240,t[o++]=i>>12&63|128,t[o++]=i>>6&63|128)}t[o++]=i&63|128}}d.utf8EncodeJs=i;var l=o?new TextEncoder:void 0;d.TEXT_ENCODER_THRESHOLD=o?typeof process!="undefined"&&((t=process==null?void 0:process.env)===null||t===void 0?void 0:t.TEXT_ENCODING)!=="force"?200:0:r.UINT32_MAX;function s(e,t,n){t.set(l.encode(e),n)}function u(e,t,n){l.encodeInto(e,t.subarray(n))}d.utf8EncodeTE=l!=null&&l.encodeInto?u:s;var m=4096;function p(e,t,n){for(var r=t,o=r+n,a=[],i="";r<o;){var l=e[r++];if((l&128)===0)a.push(l);else if((l&224)===192){var s=e[r++]&63;a.push((l&31)<<6|s)}else if((l&240)===224){var u=e[r++]&63,c=e[r++]&63;a.push((l&31)<<12|u<<6|c)}else if((l&248)===240){var d=e[r++]&63,p=e[r++]&63,_=e[r++]&63,f=(l&7)<<18|d<<12|p<<6|_;f>65535&&(f-=65536,a.push(f>>>10&1023|55296),f=56320|f&1023),a.push(f)}else a.push(l);a.length>=m&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return a.length>0&&(i+=String.fromCharCode.apply(String,a)),i}d.utf8DecodeJs=p;var _=o?new TextDecoder:null;d.TEXT_DECODER_THRESHOLD=o?typeof process!="undefined"&&((n=process==null?void 0:process.env)===null||n===void 0?void 0:n.TEXT_DECODER)!=="force"?200:0:r.UINT32_MAX;function f(e,t,n){var r=e.subarray(t,t+n);return _.decode(r)}d.utf8DecodeTD=f}var _=!1;function f(){return _||(_=!0,p()),m.exports}var g={},h={exports:g};function y(){Object.defineProperty(g,"__esModule",{value:!0}),g.ExtData=void 0;var e=function(t,n){this.type=t,this.data=n};g.ExtData=e}var C=!1;function b(){return C||(C=!0,y()),h.exports}var v={},S={exports:v};function R(){Object.defineProperty(v,"__esModule",{value:!0}),v.DecodeError=void 0;var e=(function(e){function t(n){var r;r=e.call(this,n)||this;var o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));v.DecodeError=e}var L=!1;function E(){return L||(L=!0,R()),S.exports}var k={},I={exports:k};function T(){Object.defineProperty(k,"__esModule",{value:!0}),k.timestampExtension=k.decodeTimestampExtension=k.decodeTimestampToTimeSpec=k.encodeTimestampExtension=k.encodeDateToTimeSpec=k.encodeTimeSpecToTimestamp=k.EXT_TIMESTAMP=void 0;var e=E(),t=c();k.EXT_TIMESTAMP=-1;var n=4294967296-1,r=17179869184-1;function o(e){var o=e.sec,a=e.nsec;if(o>=0&&a>=0&&o<=r)if(a===0&&o<=n){var i=new Uint8Array(4),l=new DataView(i.buffer);return l.setUint32(0,o),i}else{var s=o/4294967296,u=o&4294967295,c=new Uint8Array(8),d=new DataView(c.buffer);return d.setUint32(0,a<<2|s&3),d.setUint32(4,u),c}else{var m=new Uint8Array(12),p=new DataView(m.buffer);return p.setUint32(0,a),(0,t.setInt64)(p,4,o),m}}k.encodeTimeSpecToTimestamp=o;function a(e){var t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,o=Math.floor(r/1e9);return{sec:n+o,nsec:r-o*1e9}}k.encodeDateToTimeSpec=a;function i(e){if(e instanceof Date){var t=a(e);return o(t)}else return null}k.encodeTimestampExtension=i;function l(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength);switch(n.byteLength){case 4:{var o=r.getUint32(0),a=0;return{sec:o,nsec:a}}case 8:{var i=r.getUint32(0),l=r.getUint32(4),s=(i&3)*4294967296+l,u=i>>>2;return{sec:s,nsec:u}}case 12:{var c=(0,t.getInt64)(r,4),d=r.getUint32(0);return{sec:c,nsec:d}}default:throw new e.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+n.length)}}k.decodeTimestampToTimeSpec=l;function s(e){var t=l(e);return new Date(t.sec*1e3+t.nsec/1e6)}k.decodeTimestampExtension=s,k.timestampExtension={type:k.EXT_TIMESTAMP,encode:i,decode:s}}var D=!1;function x(){return D||(D=!0,T()),I.exports}var $={},P={exports:$};function N(){Object.defineProperty($,"__esModule",{value:!0}),$.ExtensionCodec=void 0;var e=b(),t=x(),n=(function(){function n(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(t.timestampExtension)}var r=n.prototype;return r.register=function(t){var e=t.type,n=t.encode,r=t.decode;if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{var o=1+e;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},r.tryToEncode=function(n,r){for(var t=0;t<this.builtInEncoders.length;t++){var o=this.builtInEncoders[t];if(o!=null){var a=o(n,r);if(a!=null){var i=-1-t;return new e.ExtData(i,a)}}}for(var l=0;l<this.encoders.length;l++){var s=this.encoders[l];if(s!=null){var u=s(n,r);if(u!=null){var c=l;return new e.ExtData(c,u)}}}return n instanceof e.ExtData?n:null},r.decode=function(n,r,o){var t=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return t?t(n,r,o):new e.ExtData(r,n)},n})();$.ExtensionCodec=n,n.defaultCodec=new n}var M=!1;function w(){return M||(M=!0,N()),P.exports}var A={},F={exports:A};function O(){Object.defineProperty(A,"__esModule",{value:!0}),A.createDataView=A.ensureUint8Array=void 0;function e(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}A.ensureUint8Array=e;function t(t){if(t instanceof ArrayBuffer)return new DataView(t);var n=e(t);return new DataView(n.buffer,n.byteOffset,n.byteLength)}A.createDataView=t}var B=!1;function W(){return B||(B=!0,O()),F.exports}var q={},U={exports:q};function V(){Object.defineProperty(q,"__esModule",{value:!0}),q.Encoder=q.DEFAULT_INITIAL_BUFFER_SIZE=q.DEFAULT_MAX_DEPTH=void 0;var e=f(),t=w(),n=c(),r=W();q.DEFAULT_MAX_DEPTH=100,q.DEFAULT_INITIAL_BUFFER_SIZE=2048;var o=(function(){function o(e,n,r,o,a,i,l,s){e===void 0&&(e=t.ExtensionCodec.defaultCodec),n===void 0&&(n=void 0),r===void 0&&(r=q.DEFAULT_MAX_DEPTH),o===void 0&&(o=q.DEFAULT_INITIAL_BUFFER_SIZE),a===void 0&&(a=!1),i===void 0&&(i=!1),l===void 0&&(l=!1),s===void 0&&(s=!1),this.extensionCodec=e,this.context=n,this.maxDepth=r,this.initialBufferSize=o,this.sortKeys=a,this.forceFloat32=i,this.ignoreUndefined=l,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}var a=o.prototype;return a.reinitializeState=function(){this.pos=0},a.encodeSharedRef=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)},a.encode=function(t){return this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)},a.doEncode=function(t,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth "+n);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.encodeObject(t,n)},a.ensureBufferSizeToWrite=function(t){var e=this.pos+t;this.view.byteLength<e&&this.resizeBuffer(e*2)},a.resizeBuffer=function(t){var e=new ArrayBuffer(t),n=new Uint8Array(e),r=new DataView(e);n.set(this.bytes),this.view=r,this.bytes=n},a.encodeNil=function(){this.writeU8(192)},a.encodeBoolean=function(t){t===!1?this.writeU8(194):this.writeU8(195)},a.encodeNumber=function(t){Number.isSafeInteger(t)&&!this.forceIntegerToFloat?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):(this.writeU8(211),this.writeI64(t)):this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))},a.writeStringHeader=function(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error("Too long string: "+t+" bytes in UTF-8")},a.encodeString=function(n){var t=5,r=n.length;if(r>e.TEXT_ENCODER_THRESHOLD){var o=(0,e.utf8Count)(n);this.ensureBufferSizeToWrite(t+o),this.writeStringHeader(o),(0,e.utf8EncodeTE)(n,this.bytes,this.pos),this.pos+=o}else{var a=(0,e.utf8Count)(n);this.ensureBufferSizeToWrite(t+a),this.writeStringHeader(a),(0,e.utf8EncodeJs)(n,this.bytes,this.pos),this.pos+=a}},a.encodeObject=function(t,n){var e=this.extensionCodec.tryToEncode(t,this.context);if(e!=null)this.encodeExtension(e);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error("Unrecognized object: "+Object.prototype.toString.apply(t))},a.encodeBinary=function(t){var e=t.byteLength;if(e<256)this.writeU8(196),this.writeU8(e);else if(e<65536)this.writeU8(197),this.writeU16(e);else if(e<4294967296)this.writeU8(198),this.writeU32(e);else throw new Error("Too large binary: "+e);var n=(0,r.ensureUint8Array)(t);this.writeU8a(n)},a.encodeArray=function(t,n){var e=t.length;if(e<16)this.writeU8(144+e);else if(e<65536)this.writeU8(220),this.writeU16(e);else if(e<4294967296)this.writeU8(221),this.writeU32(e);else throw new Error("Too large array: "+e);for(var r of t)this.doEncode(r,n+1)},a.countWithoutUndefined=function(t,n){var e=0;for(var r of n)t[r]!==void 0&&e++;return e},a.encodeMap=function(t,n){var e=Object.keys(t);this.sortKeys&&e.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(t,e):e.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else if(r<4294967296)this.writeU8(223),this.writeU32(r);else throw new Error("Too large map object: "+r);for(var o of e){var a=t[o];this.ignoreUndefined&&a===void 0||(this.encodeString(o),this.doEncode(a,n+1))}},a.encodeExtension=function(t){var e=t.data.length;if(e===1)this.writeU8(212);else if(e===2)this.writeU8(213);else if(e===4)this.writeU8(214);else if(e===8)this.writeU8(215);else if(e===16)this.writeU8(216);else if(e<256)this.writeU8(199),this.writeU8(e);else if(e<65536)this.writeU8(200),this.writeU16(e);else if(e<4294967296)this.writeU8(201),this.writeU32(e);else throw new Error("Too large extension object: "+e);this.writeI8(t.type),this.writeU8a(t.data)},a.writeU8=function(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++},a.writeU8a=function(t){var e=t.length;this.ensureBufferSizeToWrite(e),this.bytes.set(t,this.pos),this.pos+=e},a.writeI8=function(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++},a.writeU16=function(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2},a.writeI16=function(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2},a.writeU32=function(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4},a.writeI32=function(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4},a.writeF32=function(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4},a.writeF64=function(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8},a.writeU64=function(t){this.ensureBufferSizeToWrite(8),(0,n.setUint64)(this.view,this.pos,t),this.pos+=8},a.writeI64=function(t){this.ensureBufferSizeToWrite(8),(0,n.setInt64)(this.view,this.pos,t),this.pos+=8},o})();q.Encoder=o}var H=!1;function G(){return H||(H=!0,V()),U.exports}var z={},j={exports:z};function K(){Object.defineProperty(z,"__esModule",{value:!0}),z.encode=void 0;var e=G(),t={};function n(n,r){r===void 0&&(r=t);var o=new e.Encoder(r.extensionCodec,r.context,r.maxDepth,r.initialBufferSize,r.sortKeys,r.forceFloat32,r.ignoreUndefined,r.forceIntegerToFloat);return o.encodeSharedRef(n)}z.encode=n}var Q=!1;function X(){return Q||(Q=!0,K()),j.exports}var Y={},J={exports:Y};function Z(){Object.defineProperty(Y,"__esModule",{value:!0}),Y.prettyByte=void 0;function e(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}Y.prettyByte=e}var ee=!1;function te(){return ee||(ee=!0,Z()),J.exports}var ne={},re={exports:ne};function oe(){Object.defineProperty(ne,"__esModule",{value:!0}),ne.CachedKeyDecoder=void 0;var e=f(),t=16,n=16,r=(function(){function r(e,r){e===void 0&&(e=t),r===void 0&&(r=n),this.maxKeyLength=e,this.maxLengthPerKey=r,this.hit=0,this.miss=0,this.caches=[];for(var o=0;o<this.maxKeyLength;o++)this.caches.push([])}var o=r.prototype;return o.canBeCached=function(t){return t>0&&t<=this.maxKeyLength},o.find=function(t,n,r){var e=this.caches[r-1];e:for(var o of e){for(var a=o.bytes,i=0;i<r;i++)if(a[i]!==t[n+i])continue e;return o.str}return null},o.store=function(t,n){var e=this.caches[t.length-1],r={bytes:t,str:n};e.length>=this.maxLengthPerKey?e[Math.random()*e.length|0]=r:e.push(r)},o.decode=function(n,r,o){var t=this.find(n,r,o);if(t!=null)return this.hit++,t;this.miss++;var a=(0,e.utf8DecodeJs)(n,r,o),i=Uint8Array.prototype.slice.call(n,r,r+o);return this.store(i,a),a},r})();ne.CachedKeyDecoder=r}var ae=!1;function ie(){return ae||(ae=!0,oe()),re.exports}var le={},se={exports:le};function ue(){Object.defineProperty(le,"__esModule",{value:!0}),le.Decoder=le.DataViewIndexOutOfBoundsError=void 0;var e=te(),t=w(),n=c(),r=f(),o=W(),a=ie(),i=E(),l=function(t){var e=typeof t;return e==="string"||e==="number"},s=-1,u=new DataView(new ArrayBuffer(0)),d=new Uint8Array(u.buffer);le.DataViewIndexOutOfBoundsError=(function(){try{u.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")})();var m=new le.DataViewIndexOutOfBoundsError("Insufficient data"),p=new a.CachedKeyDecoder,_=(function(){function a(e,r,o,a,i,l,c,m){e===void 0&&(e=t.ExtensionCodec.defaultCodec),r===void 0&&(r=void 0),o===void 0&&(o=n.UINT32_MAX),a===void 0&&(a=n.UINT32_MAX),i===void 0&&(i=n.UINT32_MAX),l===void 0&&(l=n.UINT32_MAX),c===void 0&&(c=n.UINT32_MAX),m===void 0&&(m=p),this.extensionCodec=e,this.context=r,this.maxStrLength=o,this.maxBinLength=a,this.maxArrayLength=i,this.maxMapLength=l,this.maxExtLength=c,this.keyDecoder=m,this.totalPos=0,this.pos=0,this.view=u,this.bytes=d,this.headByte=s,this.stack=[]}var c=a.prototype;return c.reinitializeState=function(){this.totalPos=0,this.headByte=s,this.stack.length=0},c.setBuffer=function(t){this.bytes=(0,o.ensureUint8Array)(t),this.view=(0,o.createDataView)(this.bytes),this.pos=0},c.appendBuffer=function(t){if(this.headByte===s&&!this.hasRemaining(1))this.setBuffer(t);else{var e=this.bytes.subarray(this.pos),n=(0,o.ensureUint8Array)(t),r=new Uint8Array(e.length+n.length);r.set(e),r.set(n,e.length),this.setBuffer(r)}},c.hasRemaining=function(t){return this.view.byteLength-this.pos>=t},c.createExtraByteError=function(t){var e=this.view,n=this.pos;return new RangeError("Extra "+(e.byteLength-n)+" of "+e.byteLength+" byte(s) found at buffer["+t+"]")},c.decode=function(t){this.reinitializeState(),this.setBuffer(t);var e=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return e},c.decodeMulti=function*(t){for(this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()},c.decodeAsync=async function(n){var t=!1,r,o=!1,a=!1,i;try{for(var l=babelHelpers.asyncIterator(n),s;o=!(s=await l.next()).done;o=!1){var u=s.value;{if(t)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{r=this.doDecodeSync(),t=!0}catch(e){if(!(e instanceof le.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}}catch(e){a=!0,i=e}finally{try{o&&l.return!=null&&await l.return()}finally{if(a)throw i}}if(t){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}var c=this.headByte,d=this.pos,m=this.totalPos;throw new RangeError("Insufficient data in parsing "+(0,e.prettyByte)(c)+" at "+m+" ("+d+" in the current buffer)")},c.decodeArrayStream=function(t){return this.decodeMultiAsync(t,!0)},c.decodeStream=function(t){return this.decodeMultiAsync(t,!1)},c.decodeMultiAsync=(function(){var e=babelHelpers.wrapAsyncGenerator(function*(e,t){var n=t,r=-1,o=!1,a=!1,i;try{for(var l=babelHelpers.asyncIterator(e),s;o=!(s=yield babelHelpers.awaitAsyncGenerator(l.next())).done;o=!1){var u=s.value;{if(t&&r===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),n&&(r=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--r!==0;);}catch(e){if(!(e instanceof le.DataViewIndexOutOfBoundsError))throw e}this.totalPos+=this.pos}}}catch(e){a=!0,i=e}finally{try{o&&l.return!=null&&(yield babelHelpers.awaitAsyncGenerator(l.return()))}finally{if(a)throw i}}});function t(t,n){return e.apply(this,arguments)}return t})(),c.doDecodeSync=function(){e:for(;;){var t=this.readHeadByte(),n=void 0;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){var r=t-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(t<160){var o=t-144;if(o!==0){this.pushArrayState(o),this.complete();continue e}else n=[]}else{var a=t-160;n=this.decodeUtf8String(a,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)n=this.readI64();else if(t===217){var s=this.lookU8();n=this.decodeUtf8String(s,1)}else if(t===218){var u=this.lookU16();n=this.decodeUtf8String(u,2)}else if(t===219){var c=this.lookU32();n=this.decodeUtf8String(c,4)}else if(t===220){var d=this.readU16();if(d!==0){this.pushArrayState(d),this.complete();continue e}else n=[]}else if(t===221){var m=this.readU32();if(m!==0){this.pushArrayState(m),this.complete();continue e}else n=[]}else if(t===222){var p=this.readU16();if(p!==0){this.pushMapState(p),this.complete();continue e}else n={}}else if(t===223){var _=this.readU32();if(_!==0){this.pushMapState(_),this.complete();continue e}else n={}}else if(t===196){var f=this.lookU8();n=this.decodeBinary(f,1)}else if(t===197){var g=this.lookU16();n=this.decodeBinary(g,2)}else if(t===198){var h=this.lookU32();n=this.decodeBinary(h,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){var y=this.lookU8();n=this.decodeExtension(y,1)}else if(t===200){var C=this.lookU16();n=this.decodeExtension(C,2)}else if(t===201){var b=this.lookU32();n=this.decodeExtension(b,4)}else throw new i.DecodeError("Unrecognized type byte: "+(0,e.prettyByte)(t));this.complete();for(var v=this.stack;v.length>0;){var S=v[v.length-1];if(S.type===0)if(S.array[S.position]=n,S.position++,S.position===S.size)v.pop(),n=S.array;else continue e;else if(S.type===1){if(!l(n))throw new i.DecodeError("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new i.DecodeError("The key __proto__ is not allowed");S.key=n,S.type=2;continue e}else if(S.map[S.key]=n,S.readCount++,S.readCount===S.size)v.pop(),n=S.map;else{S.key=null,S.type=1;continue e}}return n}},c.readHeadByte=function(){return this.headByte===s&&(this.headByte=this.readU8()),this.headByte},c.complete=function(){this.headByte=s},c.readArraySize=function(){var t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new i.DecodeError("Unrecognized array type byte: "+(0,e.prettyByte)(t))}}},c.pushMapState=function(t){if(t>this.maxMapLength)throw new i.DecodeError("Max length exceeded: map length ("+t+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:t,key:null,readCount:0,map:{}})},c.pushArrayState=function(t){if(t>this.maxArrayLength)throw new i.DecodeError("Max length exceeded: array length ("+t+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:t,array:new Array(t),position:0})},c.decodeUtf8String=function(t,n){var e;if(t>this.maxStrLength)throw new i.DecodeError("Max length exceeded: UTF-8 byte length ("+t+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+n+t)throw m;var o=this.pos+n,a;return this.stateIsMapKey()&&(!((e=this.keyDecoder)===null||e===void 0)&&e.canBeCached(t))?a=this.keyDecoder.decode(this.bytes,o,t):t>r.TEXT_DECODER_THRESHOLD?a=(0,r.utf8DecodeTD)(this.bytes,o,t):a=(0,r.utf8DecodeJs)(this.bytes,o,t),this.pos+=n+t,a},c.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},c.decodeBinary=function(t,n){if(t>this.maxBinLength)throw new i.DecodeError("Max length exceeded: bin length ("+t+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(t+n))throw m;var e=this.pos+n,r=this.bytes.subarray(e,e+t);return this.pos+=n+t,r},c.decodeExtension=function(t,n){if(t>this.maxExtLength)throw new i.DecodeError("Max length exceeded: ext length ("+t+") > maxExtLength ("+this.maxExtLength+")");var e=this.view.getInt8(this.pos+n),r=this.decodeBinary(t,n+1);return this.extensionCodec.decode(r,e,this.context)},c.lookU8=function(){return this.view.getUint8(this.pos)},c.lookU16=function(){return this.view.getUint16(this.pos)},c.lookU32=function(){return this.view.getUint32(this.pos)},c.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},c.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},c.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},c.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},c.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},c.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},c.readU64=function(){var e=(0,n.getUint64)(this.view,this.pos);return this.pos+=8,e},c.readI64=function(){var e=(0,n.getInt64)(this.view,this.pos);return this.pos+=8,e},c.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},c.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},a})();le.Decoder=_}var ce=!1;function de(){return ce||(ce=!0,ue()),se.exports}var me={},pe={exports:me};function _e(){Object.defineProperty(me,"__esModule",{value:!0}),me.decodeMulti=me.decode=me.defaultDecodeOptions=void 0;var e=de();me.defaultDecodeOptions={};function t(t,n){n===void 0&&(n=me.defaultDecodeOptions);var r=new e.Decoder(n.extensionCodec,n.context,n.maxStrLength,n.maxBinLength,n.maxArrayLength,n.maxMapLength,n.maxExtLength);return r.decode(t)}me.decode=t;function n(t,n){n===void 0&&(n=me.defaultDecodeOptions);var r=new e.Decoder(n.extensionCodec,n.context,n.maxStrLength,n.maxBinLength,n.maxArrayLength,n.maxMapLength,n.maxExtLength);return r.decodeMulti(t)}me.decodeMulti=n}var fe=!1;function ge(){return fe||(fe=!0,_e()),pe.exports}var he={},ye={exports:he};function Ce(){Object.defineProperty(he,"__esModule",{value:!0}),he.ensureAsyncIterable=he.asyncIterableFromStream=he.isAsyncIterable=void 0;function e(e){return e[typeof Symbol=="function"?Symbol.asyncIterator:"@@asyncIterator"]!=null}he.isAsyncIterable=e;function t(e){if(e==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function n(e){return r.apply(this,arguments)}function r(){return r=babelHelpers.wrapAsyncGenerator(function*(e){var n=e.getReader();try{for(;;){var r=yield babelHelpers.awaitAsyncGenerator(n.read()),o=r.done,a=r.value;if(o)return;t(a),yield a}}finally{n.releaseLock()}}),r.apply(this,arguments)}he.asyncIterableFromStream=n;function o(t){return e(t)?t:n(t)}he.ensureAsyncIterable=o}var be=!1;function ve(){return be||(be=!0,Ce()),ye.exports}var Se={},Re={exports:Se};function Le(){Object.defineProperty(Se,"__esModule",{value:!0}),Se.decodeStream=Se.decodeMultiStream=Se.decodeArrayStream=Se.decodeAsync=void 0;var e=de(),t=ve(),n=ge();async function r(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeAsync(a)}Se.decodeAsync=r;function o(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeArrayStream(a)}Se.decodeArrayStream=o;function a(r,o){o===void 0&&(o=n.defaultDecodeOptions);var a=(0,t.ensureAsyncIterable)(r),i=new e.Decoder(o.extensionCodec,o.context,o.maxStrLength,o.maxBinLength,o.maxArrayLength,o.maxMapLength,o.maxExtLength);return i.decodeStream(a)}Se.decodeMultiStream=a;function i(e,t){return t===void 0&&(t=n.defaultDecodeOptions),a(e,t)}Se.decodeStream=i}var Ee=!1;function ke(){return Ee||(Ee=!0,Le()),Re.exports}var Ie={},Te={exports:Ie};function De(){Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.decodeTimestampExtension=Ie.encodeTimestampExtension=Ie.decodeTimestampToTimeSpec=Ie.encodeTimeSpecToTimestamp=Ie.encodeDateToTimeSpec=Ie.EXT_TIMESTAMP=Ie.ExtData=Ie.ExtensionCodec=Ie.Encoder=Ie.DataViewIndexOutOfBoundsError=Ie.DecodeError=Ie.Decoder=Ie.decodeStream=Ie.decodeMultiStream=Ie.decodeArrayStream=Ie.decodeAsync=Ie.decodeMulti=Ie.decode=Ie.encode=void 0;var e=X();Object.defineProperty(Ie,"encode",{enumerable:!0,get:function(){return e.encode}});var t=ge();Object.defineProperty(Ie,"decode",{enumerable:!0,get:function(){return t.decode}}),Object.defineProperty(Ie,"decodeMulti",{enumerable:!0,get:function(){return t.decodeMulti}});var n=ke();Object.defineProperty(Ie,"decodeAsync",{enumerable:!0,get:function(){return n.decodeAsync}}),Object.defineProperty(Ie,"decodeArrayStream",{enumerable:!0,get:function(){return n.decodeArrayStream}}),Object.defineProperty(Ie,"decodeMultiStream",{enumerable:!0,get:function(){return n.decodeMultiStream}}),Object.defineProperty(Ie,"decodeStream",{enumerable:!0,get:function(){return n.decodeStream}});var r=de();Object.defineProperty(Ie,"Decoder",{enumerable:!0,get:function(){return r.Decoder}}),Object.defineProperty(Ie,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return r.DataViewIndexOutOfBoundsError}});var o=E();Object.defineProperty(Ie,"DecodeError",{enumerable:!0,get:function(){return o.DecodeError}});var a=G();Object.defineProperty(Ie,"Encoder",{enumerable:!0,get:function(){return a.Encoder}});var i=w();Object.defineProperty(Ie,"ExtensionCodec",{enumerable:!0,get:function(){return i.ExtensionCodec}});var l=b();Object.defineProperty(Ie,"ExtData",{enumerable:!0,get:function(){return l.ExtData}});var s=x();Object.defineProperty(Ie,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return s.EXT_TIMESTAMP}}),Object.defineProperty(Ie,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return s.encodeDateToTimeSpec}}),Object.defineProperty(Ie,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return s.encodeTimeSpecToTimestamp}}),Object.defineProperty(Ie,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return s.decodeTimestampToTimeSpec}}),Object.defineProperty(Ie,"encodeTimestampExtension",{enumerable:!0,get:function(){return s.encodeTimestampExtension}}),Object.defineProperty(Ie,"decodeTimestampExtension",{enumerable:!0,get:function(){return s.decodeTimestampExtension}})}var xe=!1;function $e(){return xe||(xe=!0,De()),Te.exports}function Pe(e){switch(e){case void 0:return $e()}}a.exports=Pe}),null);
__d("msgpack-msgpack",["msgpack-msgpack-2.8.0"],(function(t,n,r,o,a,i){a.exports=n("msgpack-msgpack-2.8.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/CCT5pM3qiNk/
 */
__d("tweetnacl-auth-1.0.1",["tweetnacl-1.0.3"],(function(t,n,r,o,a,i){"use strict";var e=n("tweetnacl-1.0.3"),l={},s={exports:l};function u(){(function(t,n){typeof s!="undefined"&&s.exports?s.exports=n(e()):t.nacl.auth=n(t.nacl)})(this,function(e){if(!e)throw new Error("tweetnacl not loaded");var t=128,n=64;function r(r,o){var a=new Uint8Array(t+Math.max(n,r.length)),i,l;for(o.length>t&&(o=e.hash(o)),i=0;i<t;i++)a[i]=54;for(i=0;i<o.length;i++)a[i]^=o[i];for(a.set(r,t),l=e.hash(a.subarray(0,t+r.length)),i=0;i<t;i++)a[i]=92;for(i=0;i<o.length;i++)a[i]^=o[i];return a.set(l,t),e.hash(a.subarray(0,t+l.length))}function o(e,t){var n=new Uint8Array(32);return n.set(r(e,t).subarray(0,32)),n}return o.full=function(e,t){return r(e,t)},o.authLength=32,o.authFullLength=64,o.keyLength=32,o})}var c=!1;function d(){return c||(c=!0,u()),s.exports}function m(e){switch(e){case void 0:return d()}}a.exports=m}),null);
__d("tweetnacl-auth",["tweetnacl-auth-1.0.1"],(function(t,n,r,o,a,i){a.exports=n("tweetnacl-auth-1.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9CQ8-4bFd8Y/
 */
__d("wasm-feature-detect-1.8.0",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){const e={bigInt:()=>(async e=>{try{return(await WebAssembly.instantiate(e)).instance.exports.b(BigInt(0))===BigInt(0)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,126,1,126,3,2,1,0,7,5,1,1,98,0,0,10,6,1,4,0,32,0,11])),bulkMemory:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),exceptions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),exceptionsFinal:()=>(async()=>{try{return new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABBAFgAAADAgEAChABDgACaR9AAQMAAAsACxoL"),(e=>e.codePointAt(0)))),!0}catch(e){return!1}})(),extendedConst:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,0,1,11,9,1,0,65,1,65,2,106,11,0])),gc:()=>(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,95,1,120,0])))(),jsStringBuiltins:()=>(async()=>{try{return await WebAssembly.instantiate(Uint8Array.from(atob("AGFzbQEAAAABBgFgAW8BfwIXAQ53YXNtOmpzLXN0cmluZwR0ZXN0AAA="),(e=>e.codePointAt(0))),{},{builtins:["js-string"]}),!0}catch(e){return!1}})(),jspi:()=>(async()=>"Suspending"in WebAssembly)(),memory64:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,5,3,1,4,1])),multiMemory:()=>(async()=>{try{return new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,5,5,2,0,0,0,0])),!0}catch(e){return!1}})(),multiValue:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,0,2,127,127,3,2,1,0,10,8,1,6,0,65,0,65,0,11])),mutableGlobals:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),referenceTypes:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),relaxedSimd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,15,1,13,0,65,1,253,15,65,2,253,15,253,128,2,11])),saturatedFloatToInt:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),signExtensions:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),simd:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),streamingCompilation:()=>(async()=>"compileStreaming"in WebAssembly)(),tailCall:async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,6,1,4,0,18,0,11])),threads:()=>(async e=>{try{return typeof MessageChannel!="undefined"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),typeReflection:()=>(async()=>"Function"in WebAssembly)(),typedFunctionReferences:()=>(async()=>{try{return new WebAssembly.Module(Uint8Array.from(atob("AGFzbQEAAAABEANgAX8Bf2ABZAABf2AAAX8DBAMBAAIJBQEDAAEBChwDCwBBCkEqIAAUAGoLBwAgAEEBagsGANIBEAAL"),(e=>e.codePointAt(0)))),!0}catch(e){return!1}})()};l.exports=e}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("wasm-feature-detect",["wasm-feature-detect-1.8.0"],(function(t,n,r,o,a,i){a.exports=n("wasm-feature-detect-1.8.0")()}),null);/*FB_PKG_DELIM*/
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t.runInTransaction(function(t){var r;return(r=o("ReQL")).toArrayAsync(r.mergeJoin(r.fromTableAscending(t.sync_groups),r.fromTableAscending(t.network_requests).getKeyRange(""))).then(function(r){return(e||(e=n("Promise"))).all(r.map(function(e){var n=e[1];return t.network_requests.put({epochId:void 0,failureCount:n.failureCount,lastDelayedRequestTimestampMs:n.lastDelayedRequestTimestampMs,lastSentTimestampMs:n.lastSentTimestampMs,lastSyncRequestTimestampMs:n.lastSyncRequestTimestampMs,networkTaskIdentifier:n.networkTaskIdentifier,syncDatabaseId:n.syncDatabaseId,taskQueueName:n.taskQueueName})}))}).then(function(){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.network_requests).filter(function(e){return e.taskQueueName!==""})).then(function(r){return(e||(e=n("Promise"))).all(r.map(function(e){return t.network_requests.put({epochId:void 0,failureCount:e.failureCount,lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs,lastSentTimestampMs:e.lastSentTimestampMs,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,networkTaskIdentifier:e.networkTaskIdentifier,syncDatabaseId:e.syncDatabaseId,taskQueueName:e.taskQueueName})}))})})},"readwrite","ui",void 0,i.id+":17").then(function(){return(e||(e=n("Promise"))).resolve()})}l.call=s}),98);
__d("LSClearLoadingFlagsForThreadRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return e[1]?t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingAfter:!1})}):t.sequence([function(r){var o;return t.i64.eq(t.i64.cast([0,0]),e[0])?t.sequence([function(n){return t.forEach(t.db.table(198).fetch([[[e[2]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!1})})},function(e){return n[8]=t.i64.cast([0,0]),n[9]=void 0,n[10]=!1,n[11]=!1,t.forEach(t.db.table(198).fetch(),function(e){var r=e.item;return n[12]=r.minLastActivityTimestampMs,n[14]=r.minThreadKey,n[13]=t.i64.lt(n[8]==null?n[12]:n[8],n[12]),n[8]=n[13]?n[12]:n[8],n[9]=n[13]?n[14]:n[9],n[10]=n[10]||r.isLoadingBefore,n[11]=n[11]||t.i64.gt(n[12],t.i64.cast([0,1]))&&t.i64.gt(n[14],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[n[8],n[9],n[10],n[11]],n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],t}]):t.resolve((o=[t.i64.cast([0,0]),void 0,!1,!1],n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],o))},function(n){return t.forEach(t.db.table(220).fetch([[[e[2],e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!1})})},function(r){return n[4]=n[0],n[5]=n[1],n[6]=n[2],n[7]=n[3],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var r=e.item;return n[8]=r.minLastActivityTimestampMs,n[10]=r.minThreadKey,n[9]=t.i64.lt(n[4]==null?n[8]:n[4],n[8]),n[4]=n[9]?n[8]:n[4],n[5]=n[9]?n[10]:n[5],n[6]=n[6]||r.isLoadingBefore,n[7]=n[7]||t.i64.gt(n[8],t.i64.cast([0,1]))&&t.i64.gt(n[10],t.i64.cast([-2147483648,0]))})},function(r){return t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,r=e.item;return t({isLoadingBefore:n[6]})})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxClearLoadingFlagsForThreadRangeStoredProcedure",e.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"],a.exports=e}),null);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s="LSPlatformGraphQLTransport.ServerError";async function u(t,n,a,i,l,u){var c=o("MessengerLogHistory").getInstance("client_sync"),d=null;try{d=await l(t,n,i,(e||(e=o("I64"))).to_int32(a),u)}catch(t){var m=r("FBLogger")("messenger_web");throw t instanceof Error&&(c.error("Error sending Graphql Request. Type: "+(e||(e=o("I64"))).to_string(a)+" Message: "+(t.message!=null?t.message:"None")),m=m.catching(t),m.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport")),m.mustfixThrow(s)}var p=r("nullthrows")(d),_=p.dependencies,f=p.experiments,g=p.payload,h=p.target,y=r("nullthrows")(g),C=_==null?Promise.resolve():o("LSDynamicDependencies").downloadRelayDependencies(_),b=Array.from(r("LSProgramTarget").members()).find(function(e){return r("LSProgramTarget").getName(e)===h});return[C,y,f,b]}l.ServerError=s,l.publish=u}),98);
__d("isRegisterArmadilloOnIgEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("26380")===!0}l.default=e}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","IGDWebUtils","LSDatabaseAfterInitSyncSingleton","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","LSSyncError","MWPBumpEntityKey","MetaConfig","QuickPerformanceLogger","ReQL","WAPromiseDelays","err","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=5,d=r("isArmadillo")()||r("isRegisterArmadilloOnIgEnabled")()&&!r("isInstamadillo")(),m=r("gkx")("20017")?r("gkx")("22843"):!0,p=!o("CurrentMessengerUser").isWorkUser()&&!o("IGDWebUtils").isOnInstagramWeb()?m:!1,_=[1,d?95:null,p?104:null].filter(Boolean);function f(e){return e.runInTransaction(async function(e){return Promise.all(_.map(function(t){return e.network_requests.put({epochId:void 0,failureCount:(s||(s=o("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:s.zero,lastSyncRequestTimestampMs:s.zero,networkTaskIdentifier:void 0,syncDatabaseId:(u||(u=o("LSIntEnum"))).ofNumber(t),taskQueueName:""})}))},"readwrite",void 0,void 0,i.id+":76").then(function(){return Promise.resolve()})}function g(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.network_requests).getKeyRange("",(u||(u=o("LSIntEnum"))).ofNumber(t)))}function h(e){return e.runInTransaction(function(e){return Promise.all(_.map(function(t){return g(e,t).then(function(t){return t!=null?e.network_requests.put({epochId:(s||(s=o("I64"))).zero,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName}):Promise.resolve()})})).then(function(){})},"readwrite","ui",void 0,i.id+":111")}function y(e){return o("LSDatabaseProviderType").isProviderPersisted(e)&&r("MetaConfig")._("76")?e.runInTransaction(async function(e){var t=await g(e,1);t!=null&&await e.network_requests.put({epochId:void 0,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName})},"readwrite","ui",void 0,i.id+":144"):Promise.resolve()}function C(t){o("CurrentMessengerUser").isWorkUser()&&(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(1036588047,"310"),t)}function b(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.sync_groups).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(t)))}function v(e,t,n,a){return new(r("LSDict"))().set("database",(u||(u=o("LSIntEnum"))).ofNumber(e)).set("epoch_id",(s||(s=o("I64"))).zero).set("last_applied_cursor",n).set("sync_params",a!=null?a:"{}").set("version",s.of_string(t))}function S(e){var t=0,n=0,r=function(a){return n++,n===e&&o("LSPlatformLsInitLog").addPoint("gql_fetch_end"),t===0&&o("LSPlatformLsInitLog").addPoint("gql_deps_start"),a.then(function(){t===0&&(o("LSPlatformLsInitLog").addPoint("ls_sync_execute_start"),o("LSPlatformLsInitLog").LsSync.markStart()),t++,t===e&&o("LSPlatformLsInitLog").addPoint("gql_deps_end")})};return r}var R=function(){return[Promise.resolve(),"",void 0,void 0]},L=[],E=[];async function k(t,n,a,i,l){l===void 0&&(l=0);try{var m=o("CurrentMessengerUser").isWorkUser();await h(a);var _=[1,d?95:void 0,p?104:void 0],g=await Promise.all(_.map(function(e){return e!=null?b(a,e):void 0})),I=g[0],T=g[1],D=g[2],x=I==null?void 0:I.currentCursor,$=T==null?void 0:T.currentCursor,P=D==null?void 0:D.currentCursor,N=v(1,t.schemaVersion,x,t.syncParams.mailbox),M=v(95,t.schemaVersion,$,t.syncParams.e2ee),w=v(104,t.schemaVersion,P,t.syncParams.communityExclusive),A={string:{mailboxSync:x!=null?"resume":"init"}};m&&(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(r("qpl")._(1036588047,"310"),A),o("LSPlatformLsInitLog").addPoint("ls_sync_start",A),o("LSPlatformArmadilloUtils").reportSyncStart(),o("LSPlatformLsInitLog").addPoint("gql_fetch_start"),C("start_contact"),C("start_mailbox");var F=S(1+(d?1:0)+(p?1:0)),O=l===0?void 0:{fetchPolicy:"network-only"},B=x!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),W=o("LSPlatformGraphQLTransport").publish(i,0,B,o("LSJson").stringify(N),t.executeGraphQLLightSpeedRequest,O).then(async function(e){return C("mailbox_synced"),o("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync mailbox"),R()});o("LSPlatformLsInitLog").addAnnotations({int:{mailbox_sync_request_type:(s||(s=o("I64"))).to_int32(B)}});var q=d?o("LSPlatformGraphQLTransport").publish(i,2,$!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),o("LSJson").stringify(M),t.executeGraphQLLightSpeedRequest,O).then(async function(e){return o("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync e2ee mailbox"),R()}):Promise.resolve(R()),U=p?o("LSPlatformGraphQLTransport").publish(i,3,P!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),o("LSJson").stringify(w),t.executeGraphQLLightSpeedRequest).then(async function(e){return o("LSPlatformLsInitLog").addPoint("gql_cm_fetch_end"),await F(e[0]),e}).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_cm_fetch_failed",{string:{gql_cm_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync Community Exclusive mailbox"),R()}):Promise.resolve(R()),V=await Promise.all([W,q,U]);o("LSPlatformLsInitLog").addPoint("ls_sync_eval_start");for(var H of V){var G=H[0],z=H[1],j=H[2],K=H[3];z!==""&&await n({experiments:j,priority:"ui",syncScript:z,target:K})}o("LSPlatformLsInitLog").addPoint("ls_sync_eval_end");var Q=[];r("gkx")("20016")&&(Q.push({name:"mailbox",syncError:o("LSSyncError").getLastSyncError(1)}),Q.push({name:"communityExclusive",syncError:o("LSSyncError").getLastSyncError(104)}),Q.push({name:"e2ee",syncError:o("LSSyncError").getLastSyncError(95)}));for(var X of Q){var Y,J=(Y=X.syncError)==null?void 0:Y.get("error_msg");if(J!=null)throw L.push(X.name),o("LSPlatformLsInitLog").addAnnotations({string_array:{failedGqlQuery:L}}),r("err")(String(J))}x!=null&&await y(a),o("LSPlatformLsInitLog").LsSync.markEnd(),C("sync_completed"),o("LSPlatformLsInitLog").addPoint("ls_sync_execute_end"),o("LSPlatformArmadilloUtils").reportSyncEnd(),o("LSPlatformLsInitLog").addPoint("ls_sync_end"),d&&o("LSPlatformArmadilloUtils").occamadilloInitEnd(),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success"),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success"),o("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(a))}catch(e){var Z,ee=r("getErrorSafe")(e);if(E.push((Z=ee.message)!=null?Z:"unknown"),l<=c&&r("gkx")("20017"))return o("LSPlatformLsInitLog").addPoint("ls_sync_retry_"+l,{int:{retryCount:l},string_array:{retryReasons:E}}),o("LSSyncError").clearSyncErrors(),o("WAPromiseDelays").delayMs(l*1e3).then(function(){return k(t,n,a,i,l+1)});o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail"),C("sync_failed"),o("LSPlatformLsInitLog").fail("init_sync_failure",ee);try{o("LSPlatformArmadilloUtils").reportInitSyncFailure(ee)}catch(e){}return r("FBLogger")("messenger_web").catching(ee).mustfix("Encountered an error while performining preloaded init sync request via graphql"),f(a)}}l.sendHardcodedInitSync=k}),98);
__d("LSThreadsRangesQuery",["LSClearLoadingFlagsForThreadRange","LSGetCursor","LSIssueNewTaskAndGetTaskID","LSUpsertInboxThreadsRange","LSUpsertSyncGroupThreadsRange"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return e[1]&&t.i64.eq(e[6],t.i64.cast([0,0]))?t.storedProcedure(n("LSClearLoadingFlagsForThreadRange"),e[0],!1,t.i64.cast([0,1])):(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)||e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))&&!(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)&&e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))?t.sequence([function(o){var a;return r[16]=e[3]==null?t.i64.cast([-2147483648,0]):e[3],r[15]=e[6]==null?t.i64.cast([0,1]):e[6],r[17]=t.i64.gt(r[15],t.i64.cast([0,1]))&&t.i64.gt(r[16],t.i64.cast([-2147483648,0])),r[4]=t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))||t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,95])),r[4]&&t.i64.eq(e[0],t.i64.cast([0,0]))?t.sequence([function(e){return t.storedProcedure(n("LSUpsertInboxThreadsRange"),t.i64.cast([0,1]),r[15],r[17],!0,r[16])},function(e){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.db.table(198).fetch(),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],t}]):t.resolve((a=[r[15],r[16],!0,r[17]],r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],a))},function(o){var a;return r[4]?t.sequence([function(o){return t.storedProcedure(n("LSUpsertSyncGroupThreadsRange"),t.i64.cast([0,1]),e[0],r[15],r[17],!0,r[16])},function(n){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[5]=t[0],r[6]=t[1],r[7]=t[2],r[8]=t[3],t}]):t.resolve((a=[r[0],r[1],r[2],r[3]],r[5]=a[0],r[6]=a[1],r[7]=a[2],r[8]=a[3],a))},function(e){return t.storedProcedure(n("LSGetCursor"),t.i64.cast([0,1])).then(function(e){var t;return t=e,r[9]=t[0],t})},function(o){return r[10]=new t.Map,r[10].set("is_after",e[2]),r[10].set("parent_thread_key",e[0]),r[10].set("reference_thread_key",e[2]?e[4]:e[3]),r[10].set("reference_activity_timestamp",e[2]?e[5]:e[6]),r[10].set("additional_pages_to_fetch",e[7]),r[10].set("cursor",r[9]),r[10].set("messaging_tag",void 0),r[10].set("sync_group",t.i64.cast([0,1])),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[18]=t.i64.of_float(Date.now()),r[11]=t.i64.add(r[18],t.i64.cast([0,0]))):r[11]=t.i64.cast([0,0]),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"trq",t.i64.cast([0,145]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[11],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[13]=t[0],t})},function(n){return t.db.table(10).fetch([[[e[0]]]]).next().then(function(n,o){var a=n.done,i=n.value;return a?t.db.table(10).add({parentThreadKey:e[0],minThreadKey:r[6]==null?t.i64.cast([-2147483648,0]):r[6],minLastActivityTimestampMs:r[5]==null?t.i64.cast([0,1]):r[5],maxLastActivityTimestampMs:t.i64.cast([0,1]),maxThreadKey:t.i64.cast([-2147483648,0]),isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1}):(o=i.item,t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1})}))})}]):t.resolve()},function(o){return e[1]&&t.i64.eq(e[6],t.i64.cast([0,0]))?t.storedProcedure(n("LSClearLoadingFlagsForThreadRange"),e[0],!1,t.i64.cast([0,95])):(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)||e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))&&!(e[1]&&t.i64.neq(e[6],void 0)&&t.i64.neq(e[3],void 0)&&e[2]&&t.i64.neq(e[5],void 0)&&t.i64.neq(e[4],void 0))?t.sequence([function(o){var a;return r[16]=e[3]==null?t.i64.cast([-2147483648,0]):e[3],r[15]=e[6]==null?t.i64.cast([0,1]):e[6],r[17]=t.i64.gt(r[15],t.i64.cast([0,1]))&&t.i64.gt(r[16],t.i64.cast([-2147483648,0])),r[4]=t.i64.eq(t.i64.cast([0,95]),t.i64.cast([0,1]))||t.i64.eq(t.i64.cast([0,95]),t.i64.cast([0,95])),r[4]&&t.i64.eq(e[0],t.i64.cast([0,0]))?t.sequence([function(e){return t.storedProcedure(n("LSUpsertInboxThreadsRange"),t.i64.cast([0,95]),r[15],r[17],!0,r[16])},function(e){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.db.table(198).fetch(),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],t}]):t.resolve((a=[r[15],r[16],!0,r[17]],r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],a))},function(o){var a;return r[4]?t.sequence([function(o){return t.storedProcedure(n("LSUpsertSyncGroupThreadsRange"),t.i64.cast([0,95]),e[0],r[15],r[17],!0,r[16])},function(n){return r[18]=r[15],r[19]=r[16],r[20]=!0,r[21]=r[17],t.forEach(t.filter(t.db.table(220).fetch(),function(n){return t.i64.eq(n.parentThreadKey,e[0])}),function(e){var n=e.item;return r[22]=n.minLastActivityTimestampMs,r[24]=n.minThreadKey,r[23]=t.i64.lt(r[18]==null?r[22]:r[18],r[22]),r[18]=r[23]?r[22]:r[18],r[19]=r[23]?r[24]:r[19],r[20]=r[20]||n.isLoadingBefore,r[21]=r[21]||t.i64.gt(r[22],t.i64.cast([0,1]))&&t.i64.gt(r[24],t.i64.cast([-2147483648,0]))})},function(e){var t;return t=[r[18],r[19],r[20],r[21]],r[5]=t[0],r[6]=t[1],r[7]=t[2],r[8]=t[3],t}]):t.resolve((a=[r[0],r[1],r[2],r[3]],r[5]=a[0],r[6]=a[1],r[7]=a[2],r[8]=a[3],a))},function(e){return t.storedProcedure(n("LSGetCursor"),t.i64.cast([0,95])).then(function(e){var t;return t=e,r[9]=t[0],t})},function(o){return r[10]=new t.Map,r[10].set("is_after",e[2]),r[10].set("parent_thread_key",e[0]),r[10].set("reference_thread_key",e[2]?e[4]:e[3]),r[10].set("reference_activity_timestamp",e[2]?e[5]:e[6]),r[10].set("additional_pages_to_fetch",e[7]),r[10].set("cursor",r[9]),r[10].set("messaging_tag",void 0),r[10].set("sync_group",t.i64.cast([0,95])),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[18]=t.i64.of_float(Date.now()),r[11]=t.i64.add(r[18],t.i64.cast([0,0]))):r[11]=t.i64.cast([0,0]),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"trq",t.i64.cast([0,145]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[11],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[13]=t[0],t})},function(n){return t.db.table(10).fetch([[[e[0]]]]).next().then(function(n,o){var a=n.done,i=n.value;return a?t.db.table(10).add({parentThreadKey:e[0],minThreadKey:r[6]==null?t.i64.cast([-2147483648,0]):r[6],minLastActivityTimestampMs:r[5]==null?t.i64.cast([0,1]):r[5],maxLastActivityTimestampMs:t.i64.cast([0,1]),maxThreadKey:t.i64.cast([-2147483648,0]),isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1}):(o=i.item,t.forEach(t.db.table(10).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:r[7],isLoadingAfter:!1,hasMoreBefore:r[8],hasMoreAfter:!1})}))})}]):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxThreadsRangesQueryStoredProcedure",e.__tables__=["inbox_threads_ranges","sync_group_threads_ranges","threads_ranges_v2__generated"],a.exports=e}),null);
__d("LSThreadsRangesQueryStoredProcedure",["LSSynchronousPromise","LSThreadsRangesQuery","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadsRangesQuery"),a.parentThreadKey,a.isLoadingBefore,a.isLoadingAfter,a.minThreadKey,a.maxThreadKey,a.maxLastActivityTimestampMs,a.minLastActivityTimestampMs,a.additionalPagesToFetch,a.shouldSkipE2eeThreadsRanges);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ServerTime","WAChatState","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,a.threadJid,"MAWBridgeReceivedChatStateHandler",function(t,i){var l=(s||(s=o("I64"))).of_string(a.senderId),u=s.of_float(3e3+o("ServerTime").getMillis());return a.state===o("WAChatState").TYPING?t.typing_indicator.upsert([i,l],{expirationTimestampMs:u,senderId:l,threadKey:i}).then(r("emptyFunction")):a.state===o("WAChatState").IDLE?t.typing_indicator.delete(i,l).then(r("emptyFunction")):(e||(e=n("Promise"))).resolve()})}l.call=u}),98);
__d("MWEBVestaUserInfoContextProvider_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBVestaUserInfoContextProvider_viewer",selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_viewer"}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="23870520485955982"}),null);
__d("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql",["useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery_facebookRelayOperation"),metadata:{},name:"useMWChatEncryptedBackupsVestaUserInfoRefetchQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql",["useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql"],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:n("useMWChatEncryptedBackupsVestaUserInfoRefetchQuery.graphql")}},name:"useMWChatEncryptedBackupsVestaUserInfo_viewer",selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};a.exports=e}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo",["CometRelay","react","react-compiler-runtime","useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t){var r,a,i,l,s=o("react-compiler-runtime").c(7),u=t.viewer$key,c=o("CometRelay").useRefetchableFragment(e!==void 0?e:e=n("useMWChatEncryptedBackupsVestaUserInfo_viewer.graphql"),u),d=c[0],m=c[1],p=d==null||(r=d.messenger_default_encrypted_backup)==null?void 0:r.vesta_user_info,_;s[0]!==m?(_=function(){m({},{fetchPolicy:"network-only"})},s[0]=m,s[1]=_):_=s[1];var f=_,g=(a=p==null?void 0:p.attempts_remaining)!=null?a:null,h=(i=p==null?void 0:p.is_registered)!=null?i:null,y=(l=p==null?void 0:p.login_timeout_remaining_secs)!=null?l:null,C;return s[2]!==f||s[3]!==g||s[4]!==h||s[5]!==y?(C={attemptsRemaining:g,isRegistered:h,loginTimeoutRemainingSecs:y,refetchVestaClientInfo:f},s[2]=f,s[3]=g,s[4]=h,s[5]=y,s[6]=C):C=s[6],C}l.default=c}),98);
__d("MWEBVestaUserInfoContext.react",["CometRelay","FBLogger","MWEBVestaUserInfoContextProvider_viewer.graphql","react","react-compiler-runtime","useMWChatEncryptedBackupsVestaUserInfo"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.createContext,m=c.useContext,p=c.useMemo,_=d(null);function f(){var e=m(_);if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("useMWEBVestaUserInfo must be used inside MWEBVestaUserInfoContext");return e}function g(){var e=f(),t=e.attemptsRemaining,n=e.loginTimeoutRemainingSecs;return t===0||n!=null&&n>0}function h(t){var a=o("react-compiler-runtime").c(10),i=t.children,l=t.vestaClientID,s=t.viewer$key,c=o("CometRelay").useFragment(e!==void 0?e:e=n("MWEBVestaUserInfoContextProvider_viewer.graphql"),s),d;a[0]!==c?(d={viewer$key:c},a[0]=c,a[1]=d):d=a[1];var m=r("useMWChatEncryptedBackupsVestaUserInfo")(d),p=l!=null?l:null,f;a[2]!==p||a[3]!==m.attemptsRemaining||a[4]!==m.loginTimeoutRemainingSecs||a[5]!==m.refetchVestaClientInfo?(f={attemptsRemaining:m.attemptsRemaining,loginTimeoutRemainingSecs:m.loginTimeoutRemainingSecs,refetchVestaClientInfo:m.refetchVestaClientInfo,vestaClientID:p},a[2]=p,a[3]=m.attemptsRemaining,a[4]=m.loginTimeoutRemainingSecs,a[5]=m.refetchVestaClientInfo,a[6]=f):f=a[6];var g=f,h;return a[7]!==i||a[8]!==g?(h=u.jsx(_.Provider,{value:g,children:i}),a[7]=i,a[8]=g,a[9]=h):h=a[9],h}l.useMWEBVestaUserInfo=f,l.useMWEBIsCooldownOrLockOutState=g,l.MWEBVestaUserInfoContextProvider=h}),98);
__d("MWEBVirtualDevicesContext.react",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null);function d(){var e=u(c);if(e==null)throw r("FBLogger")("messenger_web_product").mustfixThrow("useEBVirtualDevices must be used inside MWEBVirtualDevicesContext");return e}l.MWEBVirtualDevicesContext=c,l.useMWEBVirtualDevices=d}),98);
__d("MercuryIDs",[],(function(t,n,r,o,a,i){"use strict";var e={isValid:function(t){return t==null||t===""||typeof t!="string"?!1:/^\w{3,12}:.+/.test(t)},isValidThreadID:function(n){if(!e.isValid(n))return!1;var t=e.tokenize(n);switch(t.type){case"user":case"support":case"thread":case"root":return!0;default:return!1}},tokenize:function(n){if(n==null||n===""||!e.isValid(n))throw new Error("bad_id_format "+String(n));var t=n.indexOf(":");return{type:n.substr(0,t),value:n.substr(t+1)}},getUserIDFromParticipantID:function(n){if(!e.isValid(n))throw new Error("bad_id_format "+n);var t=e.tokenize(n),r=t.type,o=t.value;return r==="fbid"?o:null},getParticipantIDFromUserID:function(t){if(isNaN(t))throw new Error("Not a user ID: "+t);return"fbid:"+t},getUserIDFromThreadID:function(t){return this.isCanonical(t)?this.tokenize(t).value:null},getThreadIDFromUserID:function(t){return"user:"+t},getThreadIDFromThreadFBID:function(t){return"thread:"+t},getThreadIDFromSupportInboxItemID:function(t){return"support:"+t},getThreadFBIDFromThreadID:function(t){return this.tokenize(t).value},getThreadKeyfromThreadIDUserID:function(n,r){if(n==null||n===""||!e.isValid(n))throw new Error("bad_id_format "+String(n));var t=this.tokenize(n).type,o=this.tokenize(n).value;if(t!=="user")return"g"+o;var a="",i="";if(o.length!==r.length)a=o.length>r.length?o:r,i=o.length>r.length?r:o;else{if(r===o)return r+"u"+o;for(var l=0;l<o.length&&l<r.length;)if(o[l]===r[l])l++;else{a=o[l]>r[l]?o:r,i=o[l]>r[l]?r:o;break}}return i+"u"+a},getThreadIDFromParticipantID:function(t){var e=this.getUserIDFromParticipantID(t);return e?this.getThreadIDFromUserID(e):null},getParticipantIDFromFromThreadID:function(t){var e=this.getUserIDFromThreadID(t);return e?this.getParticipantIDFromUserID(e):null},getSupportInboxItemIDFromThreadID:function(t){return this.tokenize(t).value},isCanonical:function(t){return this.isValid(t)&&this.tokenize(t).type==="user"},isGroupChat:function(t){return this.isValid(t)&&this.tokenize(t).type!=="user"},isLocalThread:function(t){return this.isValid(t)&&this.tokenize(t).type==="root"}};a.exports=e}),null);
__d("loadLSThreadsForTheFirstTime",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return r("LSThreadsRangesQueryStoredProcedure")(r("LSFactory")(t),{additionalPagesToFetch:(e||(e=o("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:e.max_int,maxThreadKey:e.max_int,minLastActivityTimestampMs:e.max_int,minThreadKey:e.max_int,parentThreadKey:n,shouldSkipE2eeThreadsRanges:!1})}l.default=s}),98);
__d("loadMoreLSThreads",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure","Promise","ReQL","loadLSThreadsForTheFirstTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads_ranges_v2__generated).filter(function(e){return(s||(s=o("I64"))).equal(e.parentThreadKey,a)})).then(function(i){return i!=null?!i.isLoadingBefore&&i.hasMoreBefore?r("LSThreadsRangesQueryStoredProcedure")(r("LSFactory")(t),{additionalPagesToFetch:(s||(s=o("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:i.maxLastActivityTimestampMs,maxThreadKey:i.maxThreadKey,minLastActivityTimestampMs:i.minLastActivityTimestampMs,minThreadKey:i.minThreadKey,parentThreadKey:a,shouldSkipE2eeThreadsRanges:!1}):(e||(e=n("Promise"))).resolve():r("loadLSThreadsForTheFirstTime")(t,a)})}l.default=u}),98);
__d("searchCometGlobalTypeahead.config",[],(function(t,n,r,o,a,i){"use strict";var e=8,l={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:e,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:e,sectionLimits:new Map([["other",e],["recent_searches",e]])}};i.default=l}),66);
__d("useDeviceAlertCountQuery.graphql",["MAWDeviceChangeState-resolver"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDeviceAlertCountQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,fragment:null,kind:"RelayLiveResolver",name:"deviceAlertCount",resolverModule:n("MAWDeviceChangeState-resolver").deviceAlertCount,path:"deviceAlertCount"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useDeviceAlertCountQuery",selections:[{kind:"ClientExtension",selections:[{name:"deviceAlertCount",args:null,fragment:null,kind:"RelayResolver",storageKey:null,isOutputType:!0}]}]},params:{cacheID:"6e4038dfa7eed674d7e97d2aca3aeb1f",id:null,metadata:{},name:"useDeviceAlertCountQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("useDeviceAlertCount",["CometRelay","react-compiler-runtime","useDeviceAlertCountQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,r=o("react-compiler-runtime").c(2),a,i;r[0]===Symbol.for("react.memo_cache_sentinel")?(a=e!==void 0?e:e=n("useDeviceAlertCountQuery.graphql"),i={},r[0]=a,r[1]=i):(a=r[0],i=r[1]);var l=o("CometRelay").useClientQuery(a,i);return(t=l.deviceAlertCount)!=null?t:0}var u=s;l.useDeviceAlertCount=u}),98);
__d("useHasOTCEligibleDevicesFromReStore",["MAWOneTimeCodeGating","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(8),n=(e||(e=r("useReStore")))(),a;t[0]!==n.tables.encrypted_backups?(a=function(){return o("ReQL").fromTableAscending(n.tables.encrypted_backups)},t[0]=n.tables.encrypted_backups,t[1]=a):a=t[1];var l;t[2]!==n?(l=[n],t[2]=n,t[3]=l):l=t[3];var s=o("ReQLSuspense").useFirst(a,l,i.id+":21"),u;t[4]!==s?(u=s==null||!o("MAWOneTimeCodeGating").isOneTimeCodeEnabled()?!1:s.hasOtcEligibleDevices,t[4]=s,t[5]=u):u=t[5];var c;return t[6]!==u?(c={hasOtcEligibleDevices:u},t[6]=u,t[7]=c):c=t[7],c}l.default=s}),98);
__d("useHasRestoreInterstitialSoftblockBeenDismissed",["MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(4),l=t.backupState,s=t.isCooldownOrLockOutState,c=(e||(e=r("useReStore")))(),d=(n=o("ReQLSuspense").useFirst(function(){return l===4?o("ReQL").fromTableAscending(c.tables.experiences_shared_state).getKeyRange(r("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED).map(u):o("ReQL").empty()},[l,c],i.id+":34"))!=null?n:!1,m;a[0]!==l||a[1]!==c||a[2]!==d?(m=l===4&&d===!1&&o("MWEncryptedBackupsSharedState").getEntryPresentInLocalStorage({db:c,stateKey:r("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED})!=null,a[0]=l,a[1]=c,a[2]=d,a[3]=m):m=a[3];var p=m;return d===!0||p===!0||s}function u(e){var t=e.stateValue;return t!=null}l.default=s}),98);
__d("useMAWSecurityAlertsPreferences",["MAWBridgeFireAndForget","MAWBridgeSendAndReceive","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useState;function m(){var e=o("react-compiler-runtime").c(10),t=d(),n=t[0],a=t[1],i,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=function(){r("promiseDone")(o("MAWBridgeSendAndReceive").sendAndReceive("backend","getSecurityAlertSettingForSelfAndContact").then(function(e){a(e)}))},l=[],e[0]=i,e[1]=l):(i=e[0],l=e[1]),c(i,l);var s;e[2]!==n?(s=function(t){n!=null&&a(babelHelpers.extends({},n,{allowSecurityAlertForContact:t})),o("MAWBridgeFireAndForget").fireAndForget("backend","changeSecurityAlertSetting",{isEnableAlert:t})},e[2]=n,e[3]=s):s=e[3];var u=s,m;e[4]!==n?(m=function(t){n!=null&&a(babelHelpers.extends({},n,{allowSecurityAlertForSelf:t})),o("MAWBridgeFireAndForget").fireAndForget("backend","changeSecurityAlertSettingForSelf",{isEnableSelfAlert:t})},e[4]=n,e[5]=m):m=e[5];var p=m,_;return e[6]!==n||e[7]!==u||e[8]!==p?(_={onContactSecurityAlertsPreferencesChange:u,onSelfSecurityAlertsPreferencesChange:p,securityAlertsPreferences:n},e[6]=n,e[7]=u,e[8]=p,e[9]=_):_=e[9],_}l.default=m}),98);
__d("useMWJewelSettingsButtonSecurityAlertsBadge",["FDSBadge.react","react","react-compiler-runtime","useDeviceAlertCount","useMAWSecurityAlertsPreferences"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(){var e=o("react-compiler-runtime").c(5),t=r("useMAWSecurityAlertsPreferences")(),n=t.securityAlertsPreferences,a=o("useDeviceAlertCount").useDeviceAlertCount();n==null||n.allowSecurityAlertForSelf;var i;e[0]!==(n==null?void 0:n.allowSecurityAlertForSelf)||e[1]!==a?(i=n!=null&&n.allowSecurityAlertForSelf&&a>0?s.jsx("div",{className:"x12u5thl x10l6tqk x12ibf10",children:s.jsx(r("FDSBadge.react"),{testid:void 0})}):null,e[0]=n==null?void 0:n.allowSecurityAlertForSelf,e[1]=a,e[2]=i):i=e[2];var l;return e[3]!==i?(l={badge:i},e[3]=i,e[4]=l):l=e[4],l}l.default=c}),98);
__d("useSearchCometGlobalTypeaheadCompositeDataSource",["useSearchCometTypeaheadCompositeDataSource"],(function(t,n,r,o,a,i,l){"use strict";var e={instance:null};function s(t){var n=r("useSearchCometTypeaheadCompositeDataSource")(t);return e.instance==null&&(e.instance=n),e.instance}l.default=s}),98);
__d("useSearchCometGlobalTypeaheadNullStateDataSource",["react-compiler-runtime","useSearchCometRecentSearchDataSource"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={fetchSearchBadge:!0,filter:"all",nullStateSurface:"GLOBAL"},e[0]=t):t=e[0],r("useSearchCometRecentSearchDataSource")(t)}l.default=e}),98);/*FB_PKG_DELIM*/
__d("CometMarketplaceComponentLoggingContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={metadata:null},c=s.createContext(u);l.default=c}),98);
__d("ProductTagPostClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744228"),s=o("FalcoLoggerInternal").create("product_tag_post_click",e),u=s;l.default=u}),98);
__d("CometProductTagLoggingUtils",["ProductTagPostClickFalcoEvent","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("CommerceStorefrontImpressionFalcoEvent").__setRef("CometProductTagLoggingUtils"),s=r("requireDeferred")("CommerceTabFeedImpressionFalcoEvent").__setRef("CometProductTagLoggingUtils"),u="product_tag_on_",c=function(t,n,o,a,i,l){r("ProductTagPostClickFalcoEvent").log(function(){return{ad_id:t,component:n,funnel_id:o,marketplace_surface:a,post_id:i,referral_code:l}})},d=function(n,r,o,a,i,l,c,d){var t,m=_(i,o),p=m.analyticsPage,f=m.isPageFeed,g=m.isTabFeed,h=m.isTimeline,y=m.surface,C=u+((t=y!=null?y:i)!=null?t:"")+"_"+n,b=r!=null;if(p!=null){if(g)s.onReady(function(e){e.log(function(){var e;return{analytics_component:l,analytics_destination_page:a,analytics_feed_type:p==="home_feed"?"newsfeed":"unknown",analytics_module:c,analytics_page:p,content_id:n,legacy_referral_code:C,legacy_surface:(e=y!=null?y:i)!=null?e:"",legacy_ui_component:d,referral_surface:"unknown",shopping_session_id:""}})});else if(f||b&&h){var v={analytics_feed_type:f?"page":"profile",analytics_module:c,analytics_page:p,content_id:n,referral_surface:"unknown",shopping_session_id:""};e.onReady(function(e){e.log(function(){return babelHelpers.extends({},v)})})}}},m=function(t){var e;return t==="AYMTNotificationChannel"?e="aymt_retro_tag_jewel":t==="AYMTEmailChannel"?e="aymt_retro_tag_email":t==="AYMTPageAdminMegaphoneV2Channel"||t==="AYMTPageAdminMegaphoneChannel"?e="aymt_retro_tag_megaphone":t==="AYMTUnknownChannel"&&(e="aymt_unknown_channel"),e},p=function(t,n,r,o){switch(t){case"home_feed":case"posts_feed":return n===1&&r?"product_details":o?"video_fullscreen":"photo_fullscreen";case"video_feed":return"video_fullscreen";default:return"unknown"}},_=function(t,n){var e=null,r=null,o=!1,a=!1,i=!1;switch(t){case"NEWSFEED":e="home_feed",r="newsfeed",o=!0;break;case"PAGE_TIMELINE":a=!0,e="posts_feed",r="pages_feed";break;case"TIMELINE":i=!0,e="posts_feed",r="pages_feed";break;default:t!=null&&t.includes("VIDEO")||n==="video_home"?(e="video_feed",r="video_home",o=!0):t!=null&&t.includes("GROUP")&&(e=null,r="group_mall")}return{analyticsPage:e,isPageFeed:a,isTabFeed:o,isTimeline:i,surface:r!=null?r:n}};l.logProductTagPostClick=c,l.logImpressionEventForNewsFeedAndStorefront=d,l.getAYMTChannelName=m,l.getAnalyticsDestinationPage=p,l.getSurface=_}),98);
__d("CometProductTagReferralCodeContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CommerceTabFeedClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1878"),s=o("FalcoLoggerInternal").create("commerce_tab_feed_click",e),u=s;l.default=u}),98);
__d("CommerceTabFeedImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2315"),s=o("FalcoLoggerInternal").create("commerce_tab_feed_impression",e),u=s;l.default=u}),98);
__d("CommerceAttachmentLoggingUtils",["CommerceTabFeedClickFalcoEvent","CommerceTabFeedImpressionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n="unknown";switch(e){case"homepage_stream":case"groups_tab":n="home_feed";break;case"group":n="group_feed";break}var r="unknown";switch(t){case"NEWSFEED":r="newsfeed";break;case"GROUP":r="groups";break}return{analyticsExperience:"tab_feed",analyticsFeedType:r,analyticsPage:n}}function s(e,t){return e?"post":t?"shops_you_follow_stories":"unknown"}function u(e){var t,n,r,o,a,i,l,s;return{analytics_component:(t=e==null?void 0:e.analyticsComponent)!=null?t:"unknown",analytics_feed_type:(n=e==null?void 0:e.analyticsFeedType)!=null?n:"unknown",analytics_module:(r=e==null?void 0:e.analyticsModule)!=null?r:"unknown",analytics_page:(o=e==null?void 0:e.analyticsPage)!=null?o:"unknown",legacy_referral_code:(a=e==null?void 0:e.referralCode)!=null?a:"",module_type:(i=e==null?void 0:e.moduleType)!=null?i:"",navigation_chain:e==null?void 0:e.navigationChain,product_id:(l=e==null?void 0:e.productItemID)!=null?l:"",referral_surface:(s=e==null?void 0:e.analyticsExperience)!=null?s:"unknown",shopping_session_id:""}}function c(e){r("CommerceTabFeedImpressionFalcoEvent").log(function(){return u(e)})}function d(e){r("CommerceTabFeedClickFalcoEvent").log(function(){return u(e)})}function m(e){r("CommerceTabFeedClickFalcoEvent").log(function(){return u(babelHelpers.extends({},e,{analyticsComponent:"message_seller_button"}))})}l.getTabFeedMetadata=e,l.getAttachmentModule=s,l.getBSGAttachmentBasePayload=u,l.logBSGAttachmentImpression=c,l.logBSGAttachmentProductClick=d,l.logBSGAttachmentMessageSellerButtonClick=m}),98);
__d("InstreamAdsHideAdBehaviorContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null);function d(){return u(c)}l.InstreamAdsHideAdBehaviorContext=c,l.useInstreamAdsHideAdBehavior=d}),98);
__d("MarketplaceClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743922"),s=o("FalcoLoggerInternal").create("marketplace_click",e),u=s;l.default=u}),98);
__d("MarketplaceImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743925"),s=o("FalcoLoggerInternal").create("marketplace_impression",e),u=s;l.default=u}),98);
__d("TrackingNodeTypes",[],(function(t,n,r,o,a,i){var e=Object.freeze({HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,FEED_STORY_MESSAGE_FLYOUT:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,MULTI_ATTACHMENT_VIDEO:205,VIDEO_CALL_TO_ACTION_PAUSESCREEN_RESUME:206,VOICECHAT:207,PAGE_INVITE_FRIEND:208,SEE_MORE_REDIRECT:209,VIDEO_CALL_TO_ACTION_ATTACHMENT:210,PAGE_POST_SEE_FIRST:211,PAGE_POST_DEFAULT:212,TOPIC_FEED_CUSTOMIZATION_UNIT_SUBMIT:213,TOPIC_FEED_CUSTOMIZATION_UNIT_OPTION:214,LEAD_GEN_OPEN_POPOVER:215,LEAD_GEN_SUBMIT_CLICK:216,LEAD_GEN_PRIVACY_CLICK:217,LEAD_GEN_OFFSITE_CLICK:218,EVENT_YOU_MAY_LIKE_HSCROLL:219,LEAD_GEN_CONTEXT_CARD_CLOSE:220,LEAD_GEN_CONTEXT_CARD_CTA_CLICK:221,FEED_STORY_PLACE_ATTACHMENT:222,PAGE_CALL_TO_ACTION_UNIT:224,TRANSLATION:225,FEED_STORY_ATTACHMENT_MISINFO_WARNING:226,RELATED_LOCAL_NEWS_ATTACHMENT_LINK:227,RELATED_LOCAL_NEWS_ATTACHMENT_SHARE:228,STORY_TIMESTAMP:229,STORY_HEADER:230,SPONSORED_STORY:231,EVENT_CTA_BUTTON:232,RELATED_PAGE_POSTS_ATTACHMENT_CLICK:233,RELATED_PAGE_POSTS_ATTACHMENT_SHARE:234,RELATED_PAGE_POSTS_ATTACHMENT_XOUT:235,RELATED_PAGE_POSTS_UNIT_XOUT:236,CAROUSEL_CARD_STORY:237,OFFERS_DETAILS_POPOVER:238,SPOTLIGHT:239,INSTREAM_CALL_TO_ACTION_BUTTON:240,INSTREAM_CALL_TO_ACTION_ATTACHMENT:241,SEARCH_AD_ATTACHMENT_CLICK:242,SEARCH_AD_CTA_CLICK:243,SEARCH_AD_OFFSITE_CLICK:244,MULTI_SHARE_GRID_EXPERIMENT_CARD_1:245,MULTI_SHARE_GRID_EXPERIMENT_CARD_2:246,MULTI_SHARE_GRID_EXPERIMENT_CARD_3:247,MULTI_SHARE_GRID_EXPERIMENT_CARD_4:248,MULTI_SHARE_GRID_EXPERIMENT_SEE_MORE:249,HOVERCARD:250,INSTANT_GAME_PLAYER:251,POLITICAL_AD_STORY_HEADER_CLICK:252,PHOTO_VOICE:253,PHOTO_TAG:254,ANDROID_PLAYSTORE_WATCH_AND_INSTALL_BUTTON:255,VIDEO_POLLING_IN_CREATIVE_CTA_BUTTON:256,VIDEO_SETTINGS:257,PLAYABLE_CALL_TO_ACTION_BUTTON:258,ATTACHMENT_FOOTER:259,LEAD_GEN_THANK_YOU_PAGE:260,SHOW_MENTIONS_PLUGIN:261,AD_BREAK_FULL_VIDEO_INDICATOR:262,INSTREAM_AD_IMAGE:263,INSTREAM_AD_CONTEXT:264,ATTACHMENT_FOOTER_DISCLAIMER:265,INSTREAM_LONGER_AD_CLICK_WATCH_AND_MORE:266,INSTREAM_POST_ROLL_LONGER_AD_ENDING_SCREEN:267,ACTIVATE_OFFER_CTA_BUTTON:268,INSTREAM_COLLECTION_AD_FOOTER_TITLE:269,INSTREAM_COLLECTION_AD_CONTEXT_FOOTER_SUBIMAGE:270,INSTREAM_COLLECTION_AD_DEFERRED_FOOTER_SUBIMAGE:271,WATCH_AND_MORE:272,INSTREAM_CONTEXT_CARD_IMAGE:273,INSTREAM_CONTEXT_CARD_HEADLINE:274,INSTREAM_CONTEXT_CARD_DISPLAY_LINK:275,INSTREAM_CONTEXT_CARD_STORY_MESSAGE:276,INSTREAM_CONTEXT_CARD_MAI_RATING:277,INSTREAM_DEFERRED_CTA_IMAGE:278,INSTREAM_DEFERRED_CTA_HEADLINE:279,INSTREAM_DEFERRED_CTA_DISPLAY_LINK:280,INSTREAM_DEFERRED_CTA_STORY_MESSAGE:281,BIZ_DISCO_PERSISTENT_CTA:282,STORY:301,PERMALINK_STORY:302,ARTICLE_CONTEXT_TRIGGER:303,LINK:304,ATTACHMENT_FOLLOW:305,SNOWFLAKE_STORY:306,SNOWFLAKE_PHOTO:307,BIRTHDAY_REMINDER:308,FRIEND_REQUEST:309,PYMK_JEWEL:310,BROWSE_RESULT:311,PROFILE_LINK:312,USER_PROFILE_PIC:313,GROUP_MEMBER:314,GROUP_SUGGESTION:315,REACTION_BROWSER:316,GROUP_MEMBER_SUGGESTION:317,PROFILE_NAV_ITEM:318,NOTIFICATION_JEWEL:319,NOTIFICATION_ITEM:320,SNACKS:321,PROFILE_TILE:322,FRIEND_PROFILE_TILE:323,INTRO_PROFILE_TILE:324,SUGGEST_FRIENDS_DIALOG:325,APP_COLLECTION:326,ALL_FRIENDS_COLLECTION:327,MUTUAL_FRIENDS_COLLECTION:328,OUTGOING_FRIEND_REQUESTS:329,INSTANT_ARTICLE_RECIRCULATION_STORY:330,FRIEND_CENTER_PYMK:331,PARTICIPANTS_DIALOG:332,FEED_COMPOSER:333,CONFIRM_FRIEND_REQUEST:334,GENERIC_PROFILE_BROWSER:335,INSTANT_ARTICLE_NATIVE_STORY:336,INSTANT_EXPERIENCE_DOCUMENT:337,LIVE_VIDEO_CONTEXT:338,COMMENT_ACTION:339,ATTACHED_STORY:340,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_1:341,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_2:342,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_3:343,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_4:344,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_5:345,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_6:346,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_7:347,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_8:348,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_9:349,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_10:350,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_11:351,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_12:352,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_13:353,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_14:354,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_15:355,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_16:356,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_17:357,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_18:358,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_19:359,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_20:360,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_21:361,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_22:362,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_23:363,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_24:364,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_25:365,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_26:366,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_27:367,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_28:368,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_29:369,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_30:370,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_31:371,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_32:372,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_33:373,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_34:374,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_35:375,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_36:376,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_37:377,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_38:378,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_39:379,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_40:380,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_41:381,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_42:382,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_43:383,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_44:384,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_45:385,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_46:386,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_47:387,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_48:388,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_49:389,GHOST_OWL_GENERIC_CALL_TO_ACTION_BUTTON_50:390,AGGREGATED_STORY:391,THREADED_POSITION:392,AR_ADS_OPEN_CAMERA:393,AR_ADS_TAP_TO_CAMERA:394,AR_ADS_CTA_SWIPE:395,WORK_GALAHAD_NAV_ITEM:400,WORK_GALAHAD_TAB_HOME:401,WORK_GALAHAD_TAB_NOTIFICATIONS:402,WORK_GALAHAD_TAB_CHATS:403,WORK_GALAHAD_TAB_PROFILE:404,WORK_GALAHAD_LIST_SHORTCUTS:405,WORK_GALAHAD_LIST_GROUPS:406,WORK_GALAHAD_LIST_PEOPLE:407,WORK_GALAHAD_TAB_ADMIN_PANEL:408,WORK_GALAHAD_TAB_RESELLER_CONSOLE:409,HSCROLL_LEFT_ARROW:410,HSCROLL_RIGHT_ARROW:411,GET_SHOWTIMES_CALL_TO_ACTION:412,INTERESTED_CALL_TO_ACTION:413,OTHER_CALL_TO_ACTION:414,WORK_GALAHAD_TAB_DIRECT:415,WORK_GALAHAD_LIST_BOTS:416,INTERACTIVE_POLL_OPTION:417,INTERACTIVE_POLL_BACKGROUND_CARD:418,HSCROLL_PREVIOUS_BUTTON:419,HSCROLL_NEXT_BUTTON:420,WORK_GALAHAD_TAB_MEETING:421,WORK_GALAHAD_LIST_SEE_FIRST_GROUPS:422,AR_ADS_CTA:423,PBIA_PROFILE:424,PRODUCT_TAG:425,WAM_ENTRY_POINT:426,WORK_GALAHAD_TAB_CALL:427,WORK_GALAHAD_TAB_FILES:428,VIEW_PRODUCTS:429,USER_TAG:430,VIDEO_VIEWER_LIST:431,PRODUCT_DETAIL_PAGE:432,SHOPPING_SHEET_BUTTON:433,WORK_TEAMWORK_TAB_SEARCH:434,WORK_TEAMWORK_TAB_EXPLORE:435,WORK_GALAHAD_TAB_TOOLS:436,WORK_GALAHAD_TAB_VC:437,INSTAGRAM_EXPLORE:438,REMINDER_AD_CTA_BUTTON:439,CTC_POST_CLICK_CTA:440,KNOWLEDGE_NOTE:441,CTA_MARGIN_AREA:442,WORKPLATFORM_TAB:443,FB_SHOPS_PRODUCT:444,FB_SHOPS_FOOTER:445,WORK_GARDEN_TAB_HOME:446,KNOWLEDGE_COLLECTION:447,COMMUNITY_VIEW_INLINE:448,MORE_VIDEOS_ON_WATCH:449,VIDEO_AD_VIEWER:450,BUSINESS_CONTACT_THIRD_PARTY:451,BUSINESS_CONTACT_PHONE:452,BUSINESS_CONTACT_MESSAGE:453,BUSINESS_CONTACT_WEBSITE:454,BUSINESS_CONTACT_WHATSAPP:455,MEDIA_TO_DESTINATION:456,BUSINESS_IMAGE:460,FACEBOOK_REELS_LIKE_BS_FLOATING_CTA:461,FACEBOOK_REELS_COMMENT_BS_FLOATING_CTA:462,FACEBOOK_REELS_PROFILE_FLOATING_CTA:463,FACEBOOK_GENERIC_FLOATING_CTA:464,FACEBOOK_GENERIC_FLOATING_CTA_COMMENT:527,FACEBOOK_GENERIC_FLOATING_CTA_PERMALINK:535,FACEBOOK_GENERIC_FLOATING_CTA_GROUP:550,WORK_GALAHAD_TAB_WATCH:465,IG_STORY_SHOWCASE_ADS_CLICK:466,FACEBOOK_REELS_POST_LOOP_CONTEXT_CARD_CLICK:467,FACEBOOK_REELS_POST_LOOP_DEFERRED_CARD_CLICK:468,COLLECTION_PRODUCT_TILE:469,WORKPLACE_EMBED_HEADER:470,WORKPLACE_EMBED_UFI:471,WORKPLACE_EMBED_COMMENT_CTA:472,INLINE_COMMENT:473,STICKER_ADS_CTA_BUTTON:474,STICKER_ADS_TOOLTIP:475,STICKER_ADS_PROFILE_NAME:476,FB_NOTE:477,WORKPLACE_KNOWLEDGE_LIBRARY:478,SHOP_TILE:479,WORK_GALAHAD_TAB_SHIFTS:480,FACEBOOK_REELS:482,FACEBOOK_REELS_BANNER_ADS_CLICK:483,WORKSTREAM:484,EXPLORE_GRID_ADS_CTA_BUTTON:485,EXPLORE_GRID_ADS_PROFILE_NAME:486,FACEBOOK_REELS_BANNER_ADS_CLICK_PROFILE:487,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT:488,COMMERCE_BUY_SELL_GROUPS_STORY_ATTACHMENT_MESSAGE_CTA:489,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_SELL_PILL:490,COMMERCE_MARKETPLACE_SELLING_CREATE_LISTING:491,COMMERCE_MARKETPLACE_CREATE_LISTING_DROPDOWN:492,COMMERCE_MARKETPLACE_YOUR_COMMERCE_PROFILE:493,COMMERCE_MARKETPLACE_FEED_CARD:494,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_COMPOSER:496,COMMERCE_MARKETPLACE_EDIT_LISTING_DROPDOWN:497,COMMERCE_MARKETPLACE_YOUR_LISTING_EDIT_BUTTON:498,COMMERCE_MARKETPLACE_DELETE_LISTING_DROPDOWN:499,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB:501,COMMERCE_BUY_SELL_GROUPS_YOUR_ITEMS_TAB_AVAILABLE_LISTING:502,COMMERCE_MARKETPLACE_YOUR_LISTING_DELETE_BUTTON:503,COMMERCE_MARKETPLACE_SELL_HUB:506,COMMERCE_BUY_SELL_GROUPS_GROUP_MALL_YOUR_LISTINGS_PLINK:507,COMMERCE_MARKETPLACE_YOU_SURFACE_SELLING_SECTION:511,COMMERCE_MARKETPLACE_SELLING_ACTIVITY_MODULE:512,COMMERCE_MARKETPLACE_SURFACE_HIGHLIGHTS_MODULE:513,COMMERCE_YOU_SURFACE_COMMERCE_PROFILE:514,COMMERCE_BUY_SELL_GROUPS_PDP_ACTION_BAR:515,COMMERCE_MARKETPLACE_LIST_IN_MORE_PLACES_CTA:516,COMMERCE_MARKETPLACE_UNIFIED_SEE_POSTS_ACTION_CTA:517,COMMERCE_MARKETPLACE_SELLER_LISTING_NOTICE:518,COMMERCE_MARKETPLACE_BUYER_SELLER_FLYWHEEL:519,COMMERCE_MARKETPLACE_MANAGE_YOUR_LISTINGS_FEED_UNIT:520,COMMERCE_MARKETPLACE_ACTIVE_LISTINGS_FEED_UNIT:521,COMMERCE_MARKETPLACE_BAN_WARNING_BOTTOMSHEET:522,COMMERCE_MARKETPLACE_COMMERCE_PROFILE_FEED_CARD:523,COMMERCE_SHOPS__NAVIGATION_BAR__CART_BUTTON:600,COMMERCE_SHOPS__NAVIGATION_BAR__STOREFRONT_ENTRY:601,FACEBOOK_REELS_ADS_END_SCENE:495,SAVES_LIST_CELL:500,CONTEXTUAL_TRAY:504,CONTEXTUAL_TRAY_CARD:505,WORK_GALAHAD_TAB_CONTENT_MANAGER:508,PLINK:509,KNOWLEDGE_BUNDLE:510,PAPER_DOCUMENT_CASE:524,ADS_PRODUCT_PAGE:525,ADS_TEXT_OVERLAY:526,FACEBOOK_REELS_H_SCROLL:528,CONTEXTUAL_FEED_PROFILE:529,CONTEXTUAL_FEED_SEARCH:530,SEARCH_GRID_ADS_CTA_BUTTON:531,SEARCH_GRID_ADS_PROFILE_NAME:532,WHATSAPP_CTA_BUTTON_IN_IAB:533,TOOLTIP_CTA:534,FACEBOOK_REELS_MULTI_CARD_END_CARD:536,FACEBOOK_REELS_ADS_SWIPE_LEFT:537,AD_EXTENSIONS_CARD:41,COLLECTION_HERO_MEDIA:549,COLLECTION_TILE:538,COLLECTION_HSCROLL_TILE:539,HIDE_AD:540,REPORT_AD:541,WAIST_AD:542,BOTTOM_SHEET:543,SHARE_BROWSER:544,WORK_MEETINGS_TAB_HOME:545,IAB_FOOTER:546,IAB_PRODUCT_TILE:547,ATTRIBUTION_ROW_PILL:548,WORK_GALAHAD_TAB_EVENTS:551,UFI_COPY_LINK:552,WATCH_AND_NAVIGATION:553,WATCH_AND_NAVIGATION_CTA:554,WATCH_AND_NAVIGATION_SE:555,WATCH_AND_NAVIGATION_PE:556,AD_ACTION_CHIP:557,MUTE:558,EXPAND_TO_FULLSCREEN:559,THREE_DOTS:560,COMMENT_TIMESTAMP:561,SPONSORED_LABEL:562,UNDO:563,FACEBOOK_REELS_ADS_CTA_LONG_PRESS:648,FACEBOOK_REELS_ADS_MIDSCENE_LONG_PRESS:649,FACEBOOK_REELS_ADS_TOOLTIP:564,FACEBOOK_REELS_ADS_CAPTION_BROWSE:565,FACEBOOK_REELS_ADS_LONG_PRESS:566,FACEBOOK_FEED_ADS_LONG_PRESS:642,PROFILE_TAB_PRODUCT_TILE:567,FACEBOOK_REELS_ADS_CREATIVE:568,VIDEO_HIGHLIGHTS:569,VIDEO_ENDSCENE_CARD:570,SOCIAL_CONTEXT_SHEET:571,DYNAMIC_LANDING_PAGE:572,DYNAMIC_LANDING_PAGE_CTA:573,DYNAMIC_LANDING_PAGE_SE:574,DYNAMIC_LANDING_PAGE_PE:575,DYNAMIC_LANDING_PAGE_PE_SAVE_FOR_LATER:576,DYNAMIC_LANDING_PAGE_PE_CTA:577,DYNAMIC_LANDING_PAGE_PROFILE_PHOTO:578,DYNAMIC_LANDING_PAGE_PROFILE_NAME:579,DYNAMIC_LANDING_PAGE_SE_CTA:626,BIZ_AI_AGENT_ACTION_CHIP:580,BIZ_AI_AGENT_IAB_ACTION_CHIP:651,BIZ_AI_AGENT_PROMO_CODE_CLICK:664,BIZ_AI_AGENT_PRODUCT_REC_CLICK:665,BIZ_AI_AGENT_PRICE_HISTORY_CLICK:666,WATCH_AND_NAVIGATION_FOOTER:581,END_SCENE_CTA:582,END_SCENE_TOOLTIP_CTA:583,END_SCENE_PROFILE_PHOTO:584,FACEBOOK_REELS_ADS_POST_SCROLL:585,SKIP_BUTTON:586,PRODUCT_RECOMMENDER_PRODUCT_TILE:587,HALF_SHEET_EXPANSION:588,DESTINATION_AUTOMATION_IX_LANDING_PAGE:589,FEED_PHONE_NUMBER_PERMALINK:590,FINDS_PRODUCT_COMPARE_UNIT:591,PLAY_PAUSE_BUTTON:592,METADATA_BOTTOMSHEET_CTA_BUTTON:593,PROFILE_AND_BROWSE_PROFILE_CLICK:594,FB_REELS_SINGLE_IMAGE_MEDIA_TAP:595,FB_REELS_MID_SCENE_CTA:596,FB_REELS_MULTIADS_MEDIA:597,FB_REELS_ADS_PROFILE_BROWSE:598,COMMENT_KEYWORDS_IN_PRECLICK:599,COMMENT_KEYWORSD_IN_DYNAMIC_LANDING_PAGE:606,FB_FEED_HEADER_ENTITY_BASED_METADATA:602,WATCH_AND_INSTALL_APP_DETAILS_PAGE_CTA:603,FB_REELS_END_SCENE_CTA:604,SEE_LESS:605,NON_CTA_VIDEO_AD:607,MARKETPLACE_ADS_HEADER_MINI_PAGE:608,MARKETPLACE_ADS_HEADER_MINI_PAGE_PAGE_CLICK:609,MARKETPLACE_ADS_HEADER_MINI_PAGE_LINK_CLICK:610,COMMENT_PRODUCT_LINK:611,COMMENT_PRODUCT_LINK_PREVIEW:612,FACEBOOK_REELS_ADS_SCRUBBER_SWIPE_UP:613,FACEBOOK_REELS_ADS_PRODUCT_EXTENSIONS:614,PAGE_LIKE_AD_CTA:615,AD_UGC_FEED_EXTENSION_END_CARD:616,AD_UGC_FEED_EXTENSION_CARD:617,AD_UGC_POST_VIEWER_CTA:618,IG_X_AND_BROWSE:619,IG_X_AND_BROWSE_WITH_SCREENSHOT:620,IG_FEED_DESTINATION_INFO:621,IG_INSTREAM_VIEWER_CTA:622,IG_INSTREAM_RETURN_TO_AD_VIEWER_CTA:623,IG_INSTREAM_RETURN_TO_AD_CTA:624,X_AND_BROWSE_PLACEHOLDER_WEBVIEW:625,FB_COMMENT_ADS_CTA:627,GROUP_TOPICS_STORY_TAG:628,PAGE_REVIEWS_KEYWORDS_IN_PRECLICK:629,WATCH_AND_NAVIGATION_BLOKS:630,DYNAMIC_LANDING_PAGE_FULLSCREEN:631,DYNAMIC_LANDING_PAGE_PRIMITIVES_SE:632,IG_STORY_PRODUCT_STICKER:633,FB_REELS_IMAGE_CTA:634,IG_REELS_CONSIDERATION_MID_CARD:635,AD_LIKE:636,IG_OVERFLOW_MENU_CTA:637,IG_COMMENT_LINK_PREVIEW_CARD:638,BAU_COLLECTION_LITE:639,BAU_PDP_LITE:640,IG_MEDIA_LONG_PRESS:641,INSTANT_EXPERIENCE_PRODUCT:643,IG_REELS_MIDSCENE_PILL:644,IG_COMMENT_THIRD_PARTY_REVIEW:645,FB_REELS_ADS_PRODUCT_EXTENSIONS_CTA_END_SCENE:646,METAMATE_IN_WORKPLACE:647,AFFILIATE_PRODUCT_BANNER:650,MARKETING_MESSAGE_TEMPLATE:652,MARKETING_MESSAGE_TEMPLATE_CTA:653,MARKETING_MESSAGE_TEMPLATE_MEDIA:654,MARKETING_MESSAGE_BODY_LINK:655,IG_STORY_TOOLTIP_PREVIEW_IMAGE:656,IG_STORY_MOASIC_TILE:657,FACEBOOK_REELS_ADS_POST_SCROLL_CTA:658,DYNAMIC_LANDING_PAGE_SINGLE_VIDEO:659,DIGITAL_SUBSCRIPTIONS_ONSITE_CTA:660,IG_FEED_CAROUSEL_LAST_CARD_SWIPE:661,IG_REELS_MIDSCENE_CTA:662,WATCH_AND_SHOP_BAU:663});i.default=e}),66);
__d("TrackingNodes",["DataAttributeUtils","TrackingNodeConstants","TrackingNodeTypes","decodeTrackingNode","encodeTrackingNode","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=r("react")),u={types:r("TrackingNodeTypes"),BASE_CODE_START:o("TrackingNodeConstants").BASE_CODE_START,BASE_CODE_END:o("TrackingNodeConstants").BASE_CODE_END,BASE_CODE_SIZE:o("TrackingNodeConstants").BASE_CODE_SIZE,PREFIX_CODE_START:o("TrackingNodeConstants").PREFIX_CODE_START,PREFIX_CODE_END:o("TrackingNodeConstants").PREFIX_CODE_END,PREFIX_CODE_SIZE:o("TrackingNodeConstants").PREFIX_CODE_SIZE,ENCODE_NUMBER_MAX:o("TrackingNodeConstants").ENCODE_NUMBER_MAX,ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE:o("TrackingNodeConstants").ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE,ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE:o("TrackingNodeConstants").ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE,TN_URL_PARAM:o("TrackingNodeConstants").TN_URL_PARAM,encodeTN:r("encodeTrackingNode"),decodeTN:r("decodeTrackingNode"),parseTrackingNodeString:function(t){for(var e=[];t.length>0;){var n=u.decodeTN(t);if(n.length===1)return[];e.push(n[1]),t=t.substring(n[0])}return e},getTrackingInfo:function(t,n){return'{"tn":"'+u.encodeTN(t,n).replace("\\","\\\\")+'"}'},addDataAttribute:function(t,n,o){n!==void 0&&["data-ft","data-gt"].forEach(function(e){var a;if(t.getAttribute)a=r("DataAttributeUtils").getDataAttribute(t,e)||"{}";else if(t.props)a=t.props[e]||"{}";else return;var i=u.encodeTN(n,o);try{if(a=JSON.parse(a),a.tn&&a.tn===i)return;if(a.tn=i,t.setAttribute)t.setAttribute(e,JSON.stringify(a));else if(t.props)t.props[e]=JSON.stringify(a);else return}catch(e){}})}};i.exports=u}),34);
__d("getAggregatedStoryTrackingNodeIndex",["TrackingNodes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=r("TrackingNodes").parseTrackingNodeString(e.join("")),n=0,o=0;o<t.length;o++)if(t[o][0]===340&&t[o].length>1)return n=t[o][1],n;return n}l.default=e}),98);
__d("useOpenPhotoAttachmentKeyCommand",["CometFeedStoryAttachmentCommandWidget","cometGetKeyCommandConfig","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useMemo,d=s.useRef;function m(e){var t=d(null),n=u(function(){var e=t.current;e!=null&&e.click()},[]),a=c(function(){return e?[]:[o("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","openAttachment",n)]},[n,e]);return r("CometFeedStoryAttachmentCommandWidget").useKeyCommands(a),t}l.default=m}),98);/*FB_PKG_DELIM*/
__d("DisappearingMessagesMode",[],(function(t,n,r,o,a,i){var e=Object.freeze({OFF:0,ON:1,OPEN_ON_DEPRECATED_DO_NOT_USE:2});i.default=e}),66);
__d("LSDatabaseAfterInitSyncSingleton",["Deferred","PromiseAnnotate"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new(r("Deferred")),u=function(t){t.then(function(e){return s.resolve(e)})},c=(e||(e=o("PromiseAnnotate"))).setDisplayName(s.getPromise(),"LSDatabaseSingletonAfterInitSync"),d=function(){return s.isSettled()};l.resolveInitSync=u,l.LSDatabaseAfterInitSyncSingleton=c,l.isInitSyncResolved=d}),98);
__d("LSInstagramE2EEEligibility",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});i.default=e}),66);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(67).fetch([[[e[0],e[4]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return r[1]=t.i64.of_float(Date.now()),t.db.table(67).add({query:e[0],surfaceType:e[4],statusPrimary:t.i64.cast([0,1]),statusSecondary:t.i64.cast([0,1]),startTimeMs:r[1]})},function(o){return r[2]=t.i64.cast([0,0]),r[3]=new t.Map,r[3].set("query",e[0]),r[3].set("supported_types",e[1]),r[3].set("session_id",e[2]),r[3].set("surface_type",e[4]),r[3].set("selected_participants",e[5]),r[3].set("group_id",e[6]),r[3].set("community_id",e[8]),r[3].set("thread_id",e[7]),r[3].set("query_id",e[3]),r[4]=t.createArray(),r[10]=(r[4].push("search_primary"),r[4]),r[5]=t.i64.of_float(Date.now()),r[10]=(r[4].push(t.i64.to_string(r[5])),r[4]),r[6]=t.toJSON(r[4]),r[7]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTask"),r[6],t.i64.cast([0,30]),r[7],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),r[2])},function(o){return r[8]=new t.Map,r[8].set("query",e[0]),r[8].set("supported_types",e[1]),r[8].set("session_id",e[2]),r[8].set("surface_type",e[4]),r[8].set("selected_participants",e[5]),r[8].set("group_id",e[6]),r[8].set("community_id",e[8]),r[8].set("thread_id",e[7]),r[8].set("query_id",e[3]),r[9]=t.toJSON(r[8]),t.storedProcedure(n("LSIssueNewTask"),"search_secondary",t.i64.cast([0,31]),r[9],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):(a=l.item,0)})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSSearchIssueSearchQueryStoredProcedure",e.__tables__=["search_queries"],a.exports=e}),null);
__d("LSIssueSearchQueryStoredProcedure",["LSIssueSearchQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueSearchQuery"),a.query,a.supportedTypes,a.sessionId,a.queryId,a.surfaceType,a.selectedParticipants,a.groupId,a.threadId,a.communityId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSSearchRequestStatusType",[],(function(t,n,r,o,a,i){var e=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});i.default=e}),66);
__d("MNetContactItemType",[],(function(t,n,r,o,a,i){var e=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16,MSGR_PUBLIC_CHANNEL:17,MSGR_SOCIAL_CHANNEL:18,NETEGO_IG_PUBLIC_CHANNELS:19,CONTACT_BIRTHDAY:20});i.default=e}),66);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(e){return e.length>4?"("+e.length+") "+e.join(", "):e.join(", ")}function c(e){switch(e.length){case 0:return r("gkx")("22885")?"":s._(/*BTDS*/"No participants");case 1:return e[0];case 2:return s._(/*BTDS*/"{participant1} and {participant2}",[s._param("participant1",e[0]),s._param("participant2",e[1])]);case 3:return s._(/*BTDS*/"{participant1}, {participant2} and {participant3}",[s._param("participant1",e[0]),s._param("participant2",e[1]),s._param("participant3",e[2])]);default:return s._(/*BTDS*/"{participant1}, {participant2} and {others_count} others",[s._param("participant1",e[0]),s._param("participant2",e[1]),s._param("others_count",String(e.length-2))])}}function d(t,n,r,a,i,l,s){if(s===void 0&&(s=!1),t!=null)return t;var d=o("LSMessagingThreadTypeUtil").isGroup(a),m=r.filter(function(t){return!(e||(e=o("I64"))).equal(t.contact_id,n)});return d?s?u(m.map(i)):c(m.map(i)):r.length!==1?c(m.map(l)):l(r[0])}function m(e,t,n,r,o){return o===void 0&&(o=!1),d(e,t,n,r,function(e){var t=e.name,n=e.nickname;return n!=null?n:t},function(e){var t=e.actual_name,n=e.nickname;return n!=null?n:t},o).toString()}function p(e,t,n,r){return d(e,t,n,r,function(e){var t=e.actual_name;return t},function(e){var t=e.actual_name;return t}).toString()}function _(e,t,n,r){return d(e,t,n,r,function(e){var t=e.actual_name,n=e.secondary_name;return n!=null?n:t},function(e){var t=e.actual_name,n=e.secondary_name;return n!=null?n:t}).toString()}l.getDefaultThreadTitle=m,l.getThreadTitleWithFullName=p,l.getThreadTitleWithSecondaryNames=_}),226);
__d("MWChatTemporarySearchResult",["DisappearingMessagesMode","FBLogger","I64","LSContactBitOffset","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMessagingThreadTypeUtil","LSRestrictionType","LSThreadBitOffset","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWLSContactTypeExactUtils","MWLSThreadTitle","MWSearchStandardResultTypeMappings","getLSMediaContactProfilePictureUrl","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(6))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(7))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(8))?!0:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(9))}function c(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(1))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(16))||u(t)?r("MWChatSearchResultType").USER:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(3))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(14))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(13))?r("MWChatSearchResultType").GROUP:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(4))?r("MWChatSearchResultType").PAGE:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(5))?r("MWChatSearchResultType").MESSAGE:(r("FBLogger")("messenger_web").warn("Unknown Search Result Type "+(e||(e=o("I64"))).to_string(t)),r("MWChatSearchResultType").USER)}function d(e,t){return!r("gkx")("23433")||!r("gkx")("6710")||t==null?!1:!!(t.startsWith("@")||t.trim().length===t.length&&t.indexOf(".")!==-1||t.trim()===e)}function m(e){return(e==null?void 0:e.threadType)==null?!1:o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType)}function p(e,t){var n=d(e.username,t);if(n&&e.username!=null)return e.username;var r=o("MWLSContactTypeExactUtils").isIgContact(e.contactTypeExact);return r&&e.secondaryName!=null?e.secondaryName:""}function _(e){var t=d(e.contextLine,e.query);if(t&&e.contextLine!=null)return e.contextLine;var n=m(e);return n&&e.contextLine!=null||e.contextLine!=null?e.contextLine:""}function f(t,n,a,i,l,u,c){var d,m,_=a.contactType,f=a.contactTypeExact,g=o("MWLSContactTypeExactUtils").isIgContact(f),h=p(a,c),y=i!=null?[i.e2eeEligibility,!(e||(e=o("I64"))).equal(i.e2eeEligibility,(s||(s=o("LSIntEnum"))).ofNumber(r("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],C=y[0],b=y[1];return{defaultE2eeThreadOneToOne:o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:a}),defaultE2eeThreads:o("LSContactBitOffset").has(80,a),displayName:a.name,hasCutoverThread:o("LSContactBitOffset").has(76,a),id:(e||(e=o("I64"))).to_string(a.id),imageUrl:r("getLSMediaContactProfilePictureUrl")(a),isAiBot:e.equal(a.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:e.equal(a.contactViewerRelationship,s.ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isDisappearingModeSettingOn:o("LSContactBitOffset").has(94,a),isE2EE:n===!0,isEPD:e.equal(a.restrictionType,s.ofNumber(r("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:o("LSContactBitOffset").has(68,a),isInstagramAccount:g,isInstamadilloCutover:o("LSContactBitOffset").has(95,a),isInteropEligible:o("LSContactBitOffset").has(67,a),isTTLCClipEnabled:o("LSContactBitOffset").has(96,a),isTTLCGenericXMAShareEnabled:o("LSContactBitOffset").has(97,a),isTTLCMediaShareEnabled:o("LSContactBitOffset").has(98,a),isTTLCStoryShareEnabled:o("LSContactBitOffset").has(99,a),isVerified:(d=o("LSContactBitOffset").has(23,a))!=null?d:!1,isViewerUnconnected:o("MWChatTemporarySearchResultUtils").isViewerUnconnectedForContact(a),isWAEligible:b,matchedTerms:u,rankingScore:t,reachabilityStatus:a.contactReachabilityStatusType,resultIgid:(m=i==null?void 0:i.igId)!=null?m:void 0,resultType:(e||(e=o("I64"))).equal(_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").USER))||!((e||(e=o("I64"))).equal(_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))||(e||(e=o("I64"))).equal(_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE_PERSONA)))?r("MWChatSearchResultType").USER:r("MWChatSearchResultType").PAGE,searchResultType:o("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(a),searchSource:l,section:o("MWChatTemporarySearchResultUtils").getSectionHeaderForContact(a),subtext:h,supportsE2eeSpamdStorage:i!=null?i.supportsE2eeSpamdStorage:void 0,waAddressable:e.equal(a.waConnectStatus,s.ofNumber(r("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:C}}function g(e,t,n){var r=e.threadDescription,a=e.threadName;return r!=null?r:a!=null&&a!==""?o("MWLSThreadTitle").getDefaultThreadTitle(void 0,t,n,e.threadType).toString():""}function h(t,n,r){if(o("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(t.threadType)){var a=n.find(function(t){return!(e||(e=o("I64"))).equal(t.contact_id,r)});if(a!=null)return a.contact_id}}function y(t,n,a,i,l,u,c,d,m){var p,_=g(t,a,u),f=h(t,u,a),y=f!=null?(e||(e=o("I64"))).to_string(f):void 0;return{displayName:o("MWLSThreadTitle").getDefaultThreadTitle(t.threadName,a,u,t.threadType).toString(),id:(e||(e=o("I64"))).to_string(t.threadKey),imageUrl:i,isAiBot:e.equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:e.to_int32((p=m==null?void 0:m.igDmSettingsMode)!=null?p:(e||(e=o("I64"))).zero)===r("DisappearingMessagesMode").ON,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:o("LSThreadBitOffset").has(214,t),isTTLCClipEnabled:o("LSThreadBitOffset").has(226,t),isTTLCGenericXMAShareEnabled:o("LSThreadBitOffset").has(231,t),isTTLCMediaShareEnabled:o("LSThreadBitOffset").has(228,t),isTTLCStoryShareEnabled:o("LSThreadBitOffset").has(229,t),isVerified:!1,matchedTerms:d,otherUserId:y,rankingScore:c,resultType:r("MWChatSearchResultType").GROUP,searchResultType:o("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(t.threadType),searchSource:n,secondaryImageUrl:l,section:"",subtext:_,threadKey:t.threadKey,threadType:t.threadType}}function C(t,n,a){var i,l,d=(e||(e=o("I64"))).equal(t.type_,(s||(s=o("LSIntEnum"))).ofNumber(1)),m=_(t),p=u(t.type_),f=t.defaultE2eeThreadOneToOne,g=t.defaultE2eeThreads,h=t.hasCutoverThread,y=t.isVerified,C=t.otherUserId,b=t.query,v=t.supportsE2eeSpamdStorage,S=t.waEligibility,R=n!=null&&(i=n.displayName)!=null?i:"";return b===""&&(R=o("MWChatTemporarySearchResultUtils").getSectionHeaderForContactsNullstate()),{canViewerMessage:t.canViewerMessage,communityId:t.communityId,defaultE2eeThreadOneToOne:f,defaultE2eeThreads:g,displayName:t.displayName,hasCutoverThread:h,id:t.resultId,imageUrl:t.profilePicUrl,isAiBot:e.equal(t.type_,s.ofNumber(16)),isContact:d,isDisappearingModeSettingOn:!!t.isDisappearingModeSettingOn,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType),isEPD:!1,isGroupCreationReachable:t.isGroupCreationReachable,isGroupsXacEligible:t.isGroupsXacEligible,isInstagramAccount:p,isInstamadilloCutover:!!t.isInstamadilloCutover,isInteropEligible:t.isInteropEligible,isRestrictedByViewer:t.isRestrictedByViewer,isTTLCClipEnabled:!!t.hasTtlcClipEnabled,isTTLCGenericXMAShareEnabled:!!t.hasTtlcGenericXmaShareEnabled,isTTLCMediaShareEnabled:!!t.hasTtlcMediaShareEnabled,isTTLCStoryShareEnabled:!!t.hasTtlcStoryShareEnabled,isVerified:y!=null?y:!1,isViewerUnconnected:t.isViewerUnconnected,isWAEligible:S!=null?!(e||(e=o("I64"))).equal(S,(s||(s=o("LSIntEnum"))).ofNumber(r("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:C!=null?(e||(e=o("I64"))).to_string(C):void 0,reachabilityStatus:t.reachabilityStatus,restrictionType:t.restrictionType,resultIgid:t.resultIgid,resultType:c(t.type_),searchResultType:o("MWSearchStandardResultTypeMappings").mapServerSearchResultToSearchStandardResultType(t.threadType,t.type_,a),searchSource:a,secondaryImageUrl:t.secondaryProfilePicUrl,section:R,sectionAnalyticsName:n==null?void 0:n.analyticsName,serverSearchResult:t,subtext:m,subtextAdditional:(l=t.secondaryContextLine)!=null?l:"",supportsE2eeSpamdStorage:v,threadJoinLinkHash:t.threadJoinLinkHash,threadType:t.threadType,waAddressable:t.isWaAddressable,waEligibility:t.waEligibility}}l.checkIsInstagramAccount=u,l.getResultType=c,l.fromContact=f,l.fromThread=y,l.fromServerSearchResult=C}),98);
__d("MWChatSearchFetchContactRecommendations",["FBLogger","I64","LSContactBitOffset","LSContactTypeExact","LSContactUtils","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult","MWGenAIUtils","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=(s||(s=o("react"))).useMemo;function p(e){return e<0?-1:e>0?1:0}function _(e){return e.sort(function(e,t){var n=e[0],r=n[0],o=n[1],a=t[0],i=a[0],l=a[1];return i.score!==r.score?p(i.score-r.score):o!=null&&l!=null?p(l.rank-o.rank):l==null&&o==null?0:l!=null?1:-1})}function f(e){var t=e.contactTypeExact,n=e.contactViewerRelationship;return o("MWLSContactTypeExactUtils").isIgContact(t)?(u||(u=o("I64"))).equal(n,(d||(d=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").NOT_CONTACT))?(d||(d=o("LSIntEnum"))).ofNumber(8):(u||(u=o("I64"))).equal(n,(d||(d=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER))?(d||(d=o("LSIntEnum"))).ofNumber(6):(d||(d=o("LSIntEnum"))).ofNumber(9):(u||(u=o("I64"))).equal(t,(d||(d=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT))?(d||(d=o("LSIntEnum"))).ofNumber(16):(d||(d=o("LSIntEnum"))).ofNumber(1)}function g(e){return e.map(function(e,t){var n,a=e[0],i=a[0],l=a[1],s=e[1];if(l==null||!(l!=null&&l.name)){if(l!=null&&!(l!=null&&l.name)){var c,m;r("FBLogger")("messenger_web_search").warn("Non-null contact without name field found in search results. contact_type: %s; contact_type_exact: %s",(u||(u=o("I64"))).to_string((c=l.contactType)!=null?c:(u||(u=o("I64"))).minus_one),u.to_string((m=l.contactTypeExact)!=null?m:(u||(u=o("I64"))).minus_one))}return}var p=l.contactTypeExact,_=(d||(d=o("LSIntEnum"))).toNumber(i.contactType),g=_===r("MNetContactItemType").GROUP?2:1,h;switch(_){case r("MNetContactItemType").CONTACT:h=f(l);break;case r("MNetContactItemType").GROUP:h=(d||(d=o("LSIntEnum"))).ofNumber(3);break;case r("MNetContactItemType").PAGE:case r("MNetContactItemType").BOT:case r("MNetContactItemType").GAME:case r("MNetContactItemType").STICKER:h=(d||(d=o("LSIntEnum"))).ofNumber(4);break;case r("MNetContactItemType").IG_THREAD:case r("MNetContactItemType").INTEROP_THREAD:case r("MNetContactItemType").MSGR_THREAD:h=(d||(d=o("LSIntEnum"))).ofNumber(5);break;case r("MNetContactItemType").IG_USER:h=(d||(d=o("LSIntEnum"))).ofNumber(6);break;default:h=(d||(d=o("LSIntEnum"))).ofNumber(2)}var y={blockedByViewerStatus:l.blockedByViewerStatus,contextLine:(n=l.secondaryName)!=null?n:"",defaultE2eeThreadOneToOne:o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:l}),defaultE2eeThreads:o("LSContactBitOffset").has(80,l),displayName:l.name,globalIndex:(u||(u=o("I64"))).of_int32(t),hasCutoverThread:o("LSContactBitOffset").has(76,l),isGroupsXacEligible:o("LSContactBitOffset").has(68,l),isInteropEligible:o("MWLSContactTypeExactUtils").isIgContact(p)?o("LSContactBitOffset").has(67,l):void 0,isVerified:o("LSContactBitOffset").has(23,l),isViewerUnconnected:o("LSContactBitOffset").hasWithDefault(64,l,!0),isWaAddressable:u.equal(l.waConnectStatus,d.ofNumber(r("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:r("getLSMediaContactProfilePictureUrl")(l),query:"",resultId:u.to_string(l.id),resultIgid:s==null?void 0:s.igId,threadType:d.ofNumber(g),type_:h,waEligibility:s==null?void 0:s.e2eeEligibility},C=o("MWChatTemporarySearchResult").fromServerSearchResult(y,void 0,"offline_nullstate");return[C,l]}).filter(Boolean)}function h(e,t){var n;return(n=o("ReQL")).leftJoin(n.leftJoin(n.fromTableAscending(e.tables.ranking_scores.index("scoreTypeContactId")).getKeyRange(t),n.fromTableAscending(e.tables.contacts)),n.fromTableAscending(e.tables.ig_contact_info))}function y(t){var n=o("react-compiler-runtime").c(8),a;n[0]!==t?(a=t===void 0?(d||(d=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):t,n[0]=t,n[1]=a):a=n[1];var l=a,s=(e||(e=r("useReStore")))(),u,c;n[2]!==l||n[3]!==s?(u=function(){return h(s,l)},c=[l,s],n[2]=l,n[3]=s,n[4]=u,n[5]=c):(u=n[4],c=n[5]);var m=o("ReQLSuspense").useArray(u,c,i.id+":250"),p;return n[6]!==m?(p=g(_(m)).filter(C),n[6]=m,n[7]=p):p=n[7],p}function C(e){var t=e[0],n=e[1];return t.isAiBot===!1&&o("MWGenAIUtils").isMetaAIContact(t.id)===!1&&!o("LSContactUtils").isContactRestricted(n)}function b(e){return e===void 0&&(e=(d||(d=o("LSIntEnum"))).ofNumber(r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)),(c||(c=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(t){return o("ReQL").toArrayAsync(h(t,e))}).then(function(e){return g(_(e)).filter(function(e){var t=e[0],n=e[1];return!o("LSContactUtils").isContactRestricted(n)})})}async function v(e,t,n){var r=await o("ReQL").toArrayAsync(h(e,t));return g(_(r)).filter(function(e){var t=e[0],r=e[1];return!(o("LSContactUtils").isContactRestricted(r)||((u||(u=o("I64"))).equal(n,(d||(d=o("LSIntEnum"))).ofNumber(5))||(u||(u=o("I64"))).equal(n,(d||(d=o("LSIntEnum"))).ofNumber(11)))&&o("LSContactUtils").isContactBlocked({blockedByViewerStatus:r.blockedByViewerStatus}))}).map(function(e){var t=e[0];return t})}l.sortInPlaceQueryResults=_,l.mapToServerSearchResults=g,l.makeQuery=h,l.useChatSearchContactRecommendations=y,l.fetchRecommendations=b,l.fetchContacts=v}),98);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={actual_name:"",blocked_by_viewer_status:(e||(e=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(s||(s=o("I64"))).zero,contactType:e.ofNumber(r("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:s.zero,gender:e.ofNumber(r("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:e.ofNumber(r("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:s.zero,read_watermark_timestamp_ms:s.zero,secondary_name:void 0,thread_key:s.zero,work_company_name:void 0,work_foreign_entity_info:e.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function c(t){var n,a,i=t[0],l=t[1],s=i.nickname,u=l.authorityLevel,c=l.blockedByViewerStatus,d=l.contactTypeExact,m=l.firstName,p=l.name,_=l.secondaryName,f=l.waConnectStatus;return{actual_name:p,authority_level:u,blocked_by_viewer_status:c,contact_id:i.contactId,contactType:l.contactType,delivered_watermark_timestamp_ms:i.deliveredWatermarkTimestampMs,gender:l.gender,is_admin:(n=i.isAdmin)!=null?n:!1,is_messenger_user:l.isMessengerUser,mailbox_type:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMailboxType").MESSENGER),name:(a=s!=null?s:m)!=null?a:p,nickname:s,profile_picture_url:r("getLSMediaContactProfilePictureUrl")(l),rank:l.rank,read_action_timestamp_ms:i.readActionTimestampMs,read_watermark_timestamp_ms:i.readWatermarkTimestampMs,secondary_name:o("MWLSContactTypeExactUtils").isIgContact(d)?_:void 0,thread_key:i.threadKey,wa_connect_status:f,work_company_name:l.workCompanyName,work_foreign_entity_info:l.workForeignEntityType,work_job_title:l.workJobTitle}}function d(e,t,n){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.tables.participants).getKeyRange(n),t).map(c)}l.empty=u,l.projectOpen=c,l.getAllInOpenThread=d}),98);
__d("MWSearchThreadUtils",["I64","LSIntEnum","LSMessageSearchType","MAWChatJid","MWLSParticipant","MWLSThreadTitle","ReQL","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){var i=r("getLSMediaThreadPictureUrl")(t);if(i!=null)return Promise.resolve([i,void 0]);var l,s=(l=o("ReQL")).toArrayAsync(l.leftJoin(l.fromTableAscending(a.tables.participants,[]).getKeyRange(t.threadKey),l.fromTableAscending(a.tables.contacts)).map(function(e){var t=e[0],n=e[1];return n}).filter(Boolean)),u=s.then(function(t){var a=t.length===1&&(e||(e=o("I64"))).equal(t[0].id,n);return t.sort(function(e,t){return e.rank-t.rank}).filter(function(t){return(e||(e=o("I64"))).equal(t.id,n)?a:!0}).map(function(e){return r("getLSMediaContactProfilePictureUrl")(e)})}).then(function(e){var t=e[0];return t!=null?[t,e[1]]:["",void 0]});return u}function c(e,t){return o("ReQL").toArrayAsync(o("MWLSParticipant").getAllInOpenThread(t,o("ReQL").fromTableAscending(t.tables.contacts),e.threadKey))}function d(t,n,a,i,l){if((e||(e=o("I64"))).equal(l,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageSearchType").MESSAGE))&&i!=null){var u,c=(u=a.find(function(e){return e.contact_id===i.id}))==null?void 0:u.nickname;return c!=null?c:i.name}return o("MWLSThreadTitle").getThreadTitleWithFullName(n.threadName,t,a,n.threadType)}async function m(e,t,n,r){var a=await o("MAWChatJid").toThreadKeyMaybe(e.tables,t);return a==null?null:p(e,a,n,r)}async function p(e,t,n,r){var a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t));return a==null?null:_(e,a,n,r)}async function _(e,t,n,r){var o=await Promise.all([u(t,n,e),c(t,e)]),a=o[0],i=a[0],l=a[1],s=o[1],m=await d(n,t,s,void 0,r);return{profilePicUrl:i,secondaryProfilePicUrl:l,threadDisplayName:m,threadKey:t.threadKey,threadType:t.threadType}}l.getThreadPics=u,l.getThreadParticipants=c,l.getThreadDisplayName=d,l.getThreadDataForSearchResult=m,l.getThreadDataByThreadKey=p}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactUtils","LSDatabaseAfterInitSyncSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSWhatsAppConnectStatus","MWChatSearchResultType","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchThreadUtils","ReQL","hasDefaultThreadOneToOneCapability"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return o("ReQL").firstExnAsync(o("ReQL").fromTableAscending(e.tables._user_info))}function c(t,n,a,i,l,u,c){var m,p,_=(e||(e=o("I64"))).to_float(n.lastActivityTimestampMs),f={contactId:e.zero,contactType:e.zero,score:_,scoreIndex:e.zero,scoreType:e.zero},g=a.length===2?a.find(function(n){return!(e||(e=o("I64"))).equal(n.contact_id,t)}):null;return{defaultE2eeThreadOneToOne:c!=null?c:void 0,displayName:o("MWLSThreadTitle").getDefaultThreadTitle(n.threadName,t,a,n.threadType).toString(),hasCutoverThread:u!=null?u:void 0,id:e.to_string(n.threadKey),imageUrl:i,isAiBot:e.equal(n.threadType,(s||(s=o("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:o("LSMessagingThreadTypeUtil").isArmadilloSecure(n.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:o("LSThreadBitOffset").has(214,n),isTTLCClipEnabled:o("LSThreadBitOffset").has(226,n),isTTLCGenericXMAShareEnabled:o("LSThreadBitOffset").has(231,n),isTTLCMediaShareEnabled:o("LSThreadBitOffset").has(228,n),isTTLCStoryShareEnabled:o("LSThreadBitOffset").has(229,n),isVerified:!1,otherUserName:(m=g==null?void 0:g.name)!=null?m:void 0,rankingScore:f,resultType:o("LSMessagingThreadTypeUtil").isGroup(n.threadType)?r("MWChatSearchResultType").GROUP:r("MWChatSearchResultType").USER,searchSource:"offline_nullstate",secondaryImageUrl:l,section:"",subtext:(p=n.threadDescription)!=null?p:"",threadKey:n.threadKey,threadType:n.threadType,waAddressable:o("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(n.threadType)?!d(g):void 0}}function d(t){if(t!=null)return t.authority_level!=null&&(e||(e=o("I64"))).ge(t.authority_level,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))&&t.wa_connect_status!=null&&(e||(e=o("I64"))).equal(t.wa_connect_status,(s||(s=o("LSIntEnum"))).ofNumber(r("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))}function m(e){return o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(e.tables.threads.index("parentThreadKeyLastActivityTimestampMs"))).then(async function(t){var n=await Promise.all(t.map(function(t){return _(e,t)}));return t.filter(function(e,t){return!n[t]})})}async function p(){var e=await o("LSDatabaseAfterInitSyncSingleton").LSDatabaseAfterInitSyncSingleton,t=await Promise.all([u(e),m(e)]),n=t[0],a=t[1];return Promise.all(a.map(async function(t){var a=await Promise.all([o("MWSearchThreadUtils").getThreadPics(t,n.facebookUserId,e),o("MWSearchThreadUtils").getThreadParticipants(t,e),o("LSMessagingThreadTypeUtil").isOpenOneToOne(t.threadType)?o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.cutover_threads).getKeyRange(t.threadKey)):null,o("LSMessagingThreadTypeUtil").isOpenOneToOne(t.threadType)?r("hasDefaultThreadOneToOneCapability")(t.threadKey,e):null]),i=a[0],l=a[1],s=a[2],u=a[3],d=i[0],m=i[1];return c(n.facebookUserId,t,l,d,m,!!s,u)}))}function _(e,t){return!(o("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(t.threadType)&&o("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(t.folderName))||o("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(t.threadType)&&(s||(s=o("LSIntEnum"))).toNumber(t.authorityLevel)<r("LSAuthorityLevel").AUTHORITATIVE||o("LSThreadBitOffset").has(44,t)?!0:f(e,t)}async function f(e,t){var n,r=await Promise.all([(n=o("ReQL")).firstAsync(n.fromTableAscending(e.tables.contacts).getKeyRange(t.threadKey)),n.firstExnAsync(n.fromTableAscending(e.tables._user_info).map(function(e){return e.facebookUserId}))]),a=r[0],i=r[1],l=await o("MWGetOtherContactOrSelf").getOtherContactOrSelf(t.threadKey,i,e),s=l!=null?l:a,u=!1,c=!1,d=!1;return s&&(u=o("LSContactBitOffset").has(28,s)||o("LSContactBitOffset").has(29,s)||s.blockedByViewerStatus!=null&&o("LSContactUtils").isContactBlocked(s),c=o("LSContactUtils").isContactUnreachable(s),d=o("LSContactUtils").isContactRestricted(s)),u||c||d}l.fetchThreadRecommendations=p,l.shouldFilterBlockedOrUnreachableUser=f}),98);
__d("MWChatSearchIssueLightspeedQuery",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSPlatformWaitForTaskCompletion","LSSearchRequestStatusType","LSVec","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatTemporarySearchResult","ReQL","gkx","promiseDone","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("gkx")("26360");function d(t,n){var a=t[0],i=t[1],l=[],s=0;a.sort(function(t,n){return(e||(e=o("I64"))).compare(t.globalIndex,n.globalIndex)}),i.sort(function(t,n){return(e||(e=o("I64"))).compare(t.globalIndex,n.globalIndex)});for(var u=0,c=a.length;u<c;++u)for(var d=a[u];s<i.length&&(e||(e=o("I64"))).ge(i[s].globalIndex,d.startIndex)&&(e||(e=o("I64"))).le(i[s].globalIndex,d.endIndex);){var m=i[s];l.push(o("MWChatTemporarySearchResult").fromServerSearchResult(m,d,"server")),s+=1}return l.filter(function(e){return n?!0:e.resultType!==r("MWChatSearchResultType").GROUP})}function m(e,t,n){var a=n.query;return(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(n){return n.runInTransaction(function(n){return r("LSIssueSearchQueryStoredProcedure")(r("LSFactory")(n),{query:a,supportedTypes:r("LSVec").ofArray(e),surfaceType:t})},"readwrite",void 0,void 0,i.id+":106").then(function(){return n})})}function p(t,n,a,i,l){var c=l.query;return n.length>0&&!n.includes("server")?Promise.resolve([]):(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return r("LSPlatformWaitForTaskCompletion")(e,function(e){return r("LSIssueSearchQueryStoredProcedure")(r("LSFactory")(e),{query:c,supportedTypes:r("LSVec").ofArray(t),surfaceType:a})},"issueSearchQuery").then(function(){return e})}).then(async function(t){var n,a=(n=o("ReQL")).toArrayAsync(n.fromTableAscending(t.tables.server_search_results).getKeyRange(c).filter(function(t){return(e||(e=o("I64"))).equal(t.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))})),l=n.toArrayAsync(n.fromTableAscending(t.tables.server_search_sections).getKeyRange(c)),s=await Promise.all([l,a]);return d(s,i)})}function _(e,t,n,r){return o("MWChatSearchFetchContactRecommendations").fetchRecommendations(r).then(function(e){return Promise.resolve(e.map(function(e){var t=e[0];return t}))})}function f(e,t){return!!(!t.has(e.resultType)||!e.isE2EE&&e.defaultE2eeThreadOneToOne===!0||e.hasCutoverThread===!0||e.isAiBot)}function g(e){var t=[],n=new Set;return e.forEach(function(e){n.has(e.id)||(t.push(e),n.add(e.id))}),t}async function h(){var e=await o("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations();if(e.length===0)return[];var t=new Set([r("MWChatSearchResultType").USER,r("MWChatSearchResultType").GROUP]),n=g(e);return n.filter(function(e){return!f(e,t)})}function y(t,n,a,i){var l=[],s=[],c=[],m=function(){l.length===0||s.length===0||c.length!==1||(e||(e=o("I64"))).equal(c[0].statusPrimary,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))||i(d([s,l],a))},p=t.tables.server_search_results.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_results).getKeyRange(n)),function(e){return l=e,m()})}),_=t.tables.server_search_sections.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_sections).getKeyRange(n)),function(e){return s=e,m()})}),f=t.tables.search_queries.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.search_queries).getKeyRange(n).filter(function(t){return!(e||(e=o("I64"))).equal(t.statusPrimary,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))})),function(e){return r("vulture")("RlcecyL5SqDgu-k3-bQyotRYZBM="),c=e,m()})});return function(){p(),_(),f()}}function C(t,n,a,i){return t.tables.search_queries.subscribe(function(l,s){var c=l[0];c!==n||s.operation==="delete"||(e||(e=o("I64"))).equal(s.value.statusPrimary,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))||r("promiseDone")(Promise.all([o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_results).getKeyRange(n)),o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_sections).getKeyRange(n))]).then(function(e){var t=e[0],n=e[1];i(d([n,t],a))}))})}function b(t,n,a,i,l,s){var p=l.query;return c?r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.search_queries).getKeyRange(p).filter(function(t){return!(e||(e=o("I64"))).equal(t.statusPrimary,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))})).then(function(e){return e==null||e.length!==1?m(n,a,l):o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_results).getKeyRange(p)).then(function(e){return e==null||e.length===0?m(n,a,l):o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.server_search_sections).getKeyRange(p)).then(function(t){if(t==null||t.length===0)return m(n,a,l);s(d([t,e],i))})})})):r("promiseDone")(m(n,a,l)),y(t,l.query,i,s)}function v(e,t,n,o,a,l){var s=C(e,a.query,o,l);return r("promiseDone")(e.runInTransaction(function(e){return e.search_queries.delete(a.query,n)},"readwrite",void 0,void 0,i.id+":440").then(function(){return m(t,n,a)})),s}l.toSearchResults=d,l.makeSearchQuery=m,l.fetchResults=p,l.fetchRecommendations=_,l.shouldFilterSearchResultsForSharingNS=f,l.dedupeByThreadKey=g,l.fetchThreadRecommendations=h,l.requestResults=b,l.requestResults_T200619723=v}),98);/*FB_PKG_DELIM*/
__d("Box.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["as","xstyle"],u,c,d=c||(c=o("react")),m={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(14),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,c,p;if(n[3]!==a){var _=a;c=_.as,p=_.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(_,s),n[3]=a,n[4]=l,n[5]=c,n[6]=p}else l=n[4],c=n[5],p=n[6];var f=c===void 0?"div":c,g;n[7]!==p?(g=(u||(u=r("stylex")))(m.box,p),n[7]=p,n[8]=g):g=n[8];var h;return n[9]!==f||n[10]!==l||n[11]!==i||n[12]!==g?(h=d.jsx(f,babelHelpers.extends({},l,{className:g,ref:i})),n[9]=f,n[10]=l,n[11]=i,n[12]=g,n[13]=h):h=n[13],h}l.default=p}),98);
__d("FBIconDots3HorizontalOutline20.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M458 408a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueNewError"),a.taskId,a.errorCode,a.errorTitleText,a.errorBodyText,a.errorExtraData,a.presentationStyle);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueNewFireAndForgetTask",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return n[1]=t.i64.to_string(e[1]),n[0]=t.i64.of_float(Date.now()),t.db.table(5).add({taskId:void 0,queueName:e[0],context:n[1],taskValue:e[2],enqueueTimestampMs:n[0]})},function(r){return t.filter(t.db.table(5).fetchDesc(),function(t){return t.queueName===e[0]&&t.context===n[1]&&t.taskValue===e[2]}).next().then(function(e,r){var o=e.done,a=e.value;return o?n[2]=t.i64.cast([-1,4294967295]):(r=a.item,n[2]=r.taskId)})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreIssueNewFireAndForgetTaskStoredProcedure",e.__tables__=["pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSPlatformArmadilloUtils",["MAWMIC","MAWMICSchema","Promise","cr:6998","cr:7349","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("MAWThreadConsistencyLogger").__setRef("LSPlatformArmadilloUtils"),c=(e=n("cr:6998"))!=null?e:n("cr:7349"),d=[];function m(e){d.push(e)}function p(){if(c==null||c.completeSync(),u.load().then(function(e){return e.startMAWThreadConsistencyLogger()}),d.length===0){c==null||c.maybeEndOccamadilloThreadMapping();return}r("promiseDone")((s||(s=n("Promise"))).allSettled(d.map(function(e){return e()})),function(){return c==null?void 0:c.maybeEndOccamadilloThreadMapping()})}function _(){o("MAWMIC").addPoint("ls_init_end")}function f(){o("MAWMIC").addPoint("ls_init_start")}function g(){o("MAWMIC").addPoint("ls_sync_start")}function h(){o("MAWMIC").addPoint(o("MAWMICSchema").POINTS.ls_sync_end)}function y(e){o("MAWMIC").fail("init_sync_failure",e)}l.executeOnThreadMappingEnd=m,l.occamadilloInitEnd=p,l.reportInitEnd=_,l.reportInitStart=f,l.reportSyncStart=g,l.reportSyncEnd=h,l.reportInitSyncFailure=y}),98);
__d("LSRtcCallState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});i.default=e}),66);
__d("MAWBulkCreateOrUpdateThreadInActWithMiData",["ExecutionEnvironment","I64","LSDatabaseSingleton","MAWActThreadMapping","MAWBridgeFireAndForget","MAWJids","MAWMIC","MAWThreadMappingQPL","MAWTrackPendingOccamadilloThreads","MAWUICacheServices","MWCookieUtil","MWFBLogger","ODS","WAJids","WMIWABridgeApi","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=o("MWFBLogger").MWLogger().tags(["MiActMapping","Occam"]);async function f(t,n,a,i){var l=h(n),m=l.map(function(e){var t=e.fbid,n=e.forceLoadMessages,r=n===void 0?!1:n,a=e.instanceKey,i=e.isGroupThread,l=e.jid,s=e.lastActivityTimestampMs,u=e.lastReadWatermarkTimestampMs,c=(p||(p=o("I64"))).to_string(l),d=i?o("WAJids").toGroupJid(c):o("MAWJids").toUserJid(c);return{authoritativeThreadKey:p.to_string(t),chatJid:d,forceLoadMessages:r,instanceKey:a,lastActivityTimestampMs:p.to_float(s),lastReadWatermarkTimestampMs:p.to_float(u),numOfMsgsToLoad:g({fbid:t})}}),f=l.map(function(e){var t=e.instanceKey,n=e.jid;return t!=null?{instanceKey:t,intJid:n}:null}).filter(Boolean);if((c||(c=r("ExecutionEnvironment"))).isInWorker){var C=m.map(function(e){return{status:"fulfilled",value:{adminMsgParams:null,chatJid:e.chatJid,folder:null,isCreated:!1,participants:[],shouldQueryForGroup:!1}}});return Promise.resolve(C)}else if((c||(c=r("ExecutionEnvironment"))).isInBrowser){var v=m.map(function(e){return e.chatJid}),S=o("MAWUICacheServices").getMAWUICacheServices();r("gkx")("16151")&&S.resetInMemoryCache("snippets",v),r("promiseDone")(S.checkExistingCacheOrGetFromScratchAndNotifyListenersFor("snippets",v))}(d||(d=o("ODS"))).bumpEntityKey(3303,"maw_thread_mapping","bulk_create_thread."+a);var R=await y(t,m,f,a,i);a==="init_sync"&&o("MAWMIC").addPoint("thread_mapping_received");var L=null;await Promise.all(R.map(async function(t){if(t.status==="rejected"){_.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Thread creation failed: ",""])),t.reason),L=t.reason;return}var n=t.value.chatJid,a=o("WAJids").interpretAsGroupJid(n);if(a!=null)if(t.value.isCreated||t.value.shouldQueryForGroup){_.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Querying WA server for group: ",""])),a);try{await r("WMIWABridgeApi").queryGroups({groups:[a],type:"array"})}catch(e){var i=e instanceof Error?e.message:"unknown";_.WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["queryGroups failed in bulkCreateThread. ",", groupJid: ",""])),i,a);var l=e instanceof Error&&e.message.includes('"errorCode":403');if(!l)throw e}b(a)}else t.value.isCreated||b(a),o("MAWBridgeFireAndForget").fireAndForget("backend","updateLSThreadFromGroupInfo",{groupJid:a});r("promiseDone")(o("MAWTrackPendingOccamadilloThreads").removePendingThread(n))}));var E=m.map(function(e){return e.forceLoadMessages===!0&&e.numOfMsgsToLoad!=null?{jid:e.chatJid,numOfMsgsToLoad:e.numOfMsgsToLoad}:null}).filter(Boolean);if(E.length>0&&o("MAWBridgeFireAndForget").fireAndForget("backend","bulkLoadMessagesForThread",{threads:E}),L!=null)throw _.mustfixThrow(L);return R}function g(e){var t=e.fbid,n=1,a=10,i=20,l=o("MWCookieUtil").getAutoChatTabFromCookie(),s=l?(p||(p=o("I64"))).equal(l.threadKey,t):!1,u=s?a:n,c=location.pathname.split("/");return r("gkx")("2316")&&c.indexOf((p||(p=o("I64"))).to_string(t))>-1&&(u=i),u}function h(e){var t=new Set,n=Array.from(e.reduce(function(e,n){var r=e.get((p||(p=o("I64"))).to_string(n.fbid));if(r==null)e.set((p||(p=o("I64"))).to_string(n.fbid),n);else{n.instanceKey!=null&&t.add(n.instanceKey);var a=r.lastActivityTimestampMs===n.lastActivityTimestampMs&&r.lastReadWatermarkTimestampMs===n.lastReadWatermarkTimestampMs;_.mustfix("MAWmiActBulkCreateOrUpdateThreadInActWithMiData is called with duplicated threads. Data consistency: %s",a?"true":"false")}return e},new Map).values());return e.forEach(function(t){var r=t.instanceKey;return r!=null&&o("MAWThreadMappingQPL").addAnnotations({int:{mawBulkCreateThreads:e.length,mawBulkCreateUniqueThreads:n.length}},r)}),t.forEach(function(e){o("MAWThreadMappingQPL").endCancel("thread_not_unique_in_maw_bulk_create",e)}),n}async function y(e,t,n,r,a){var i=new Map;n.forEach(function(e){var t=e.instanceKey,n=e.intJid;i.set(n,t),o("MAWThreadMappingQPL").addPoint("create_in_maw_start",t)}),o("MAWMIC").addPoint("thread_mapping_request_sent_to_worker");var l={reason:r,s2sInstanceKey:a,threads:t},s=await C(e,l),u=s.reduce(function(e,t){if(t.status==="fulfilled"){var n=o("WAJids").threadIdForChatJid(t.value.chatJid);e.set(n,t.value.isCreated)}return e},new Map);return n.forEach(function(e){var t=e.instanceKey,n=e.intJid,r=u.get((p||(p=o("I64"))).to_string(n));r==null?o("MAWThreadMappingQPL").endFailure("create_in_maw_failed",t):(o("MAWThreadMappingQPL").addAnnotations({bool:{isMawThreadCreated:r}},t),o("MAWThreadMappingQPL").addPoint("create_in_maw_success",t))}),s}async function C(e,t){var n=e!=null?Promise.resolve(e):(m||(m=o("LSDatabaseSingleton"))).LSDatabaseSingleton,r=await n.then(function(e){return o("MAWActThreadMapping").bulkVerifyThreadExistsInWorker(e,t)});return r}function b(e){o("MAWBridgeFireAndForget").fireAndForget("backend","checkIfGroupParticipant",{threadJid:e})}l.bulkCreateOrUpdateThreadInActWithMiData=f,l.getNumberOfMessagesToLoad=g,l.deduplicateThreadData=h}),98);
__d("MAWUIJob",["ExecutionEnvironment","MAWBridge","WAJobOrchestratorTypes","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d={priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},m={fireAndForget:function(n){var t;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters fireAndForget called in the worker, which is a bug for job: ",""])),n.type),o("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers.extends({},n,{scheduleConfig:(t=n.scheduleConfig)!=null?t:d}))},waitUntilCompleted:function(t,n,a){var e;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilCompleted called in the worker, which is a bug for job: ",""])),t.type);var i=o("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers.extends({},t,{scheduleConfig:(e=t.scheduleConfig)!=null?e:d}),void 0,n,a);return i},waitUntilPersisted:function(t,n,a){var e;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilPersisted called in the worker, which is a bug for job: ",""])),t.type);var i=o("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers.extends({},t,{scheduleConfig:(e=t.scheduleConfig)!=null?e:d}),void 0,n,a);return i}};l.UIJobStarters=m}),98);
__d("MAWTimedJob",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWTimedBridge","MAWUIJob","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerEvent","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e={fireAndForget:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1;return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return e=!0,o("MAWUIJob").UIJobStarters.fireAndForget(t)}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw r("FBLogger")("maw_core_lla").mustfixThrow("Failed to ack execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)},waitUntilCompleted:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,a=o("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(t.type);return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return o("MAWWorkerEvent").logStart("waitUntilCompleted",t.type,a),e=!0,o("MAWUIJob").UIJobStarters.waitUntilCompleted(t,{onAck:function(n){o("MAWWorkerEvent").logAck(a,t.type,n)},onSend:function(n){var e=n.queueMsgs,r=n.queueSize;o("MAWWorkerEvent").logSend(a,t.type,"waitUntilCompleted"),o("MAWWorkerEvent").logAnnotations(a,{int:{bridgeSize:r},string_array:{bridgeMsgs:e}})}},{bridgeQPLInstanceKey:a}).then(function(e){return o("MAWWorkerEvent").logSuccess(a),e},function(e){var t=r("getErrorSafe")(e);throw o("MAWWorkerEvent").logFailure(a,t.message),t})}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw o("MAWWorkerEvent").logTimeoutFailure(a,"Failed to complete execution of job",n),r("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)},waitUntilPersisted:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,a=o("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(t.type);return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return e=!0,o("MAWWorkerEvent").logStart("waitUntilPersisted",t.type,a),o("MAWUIJob").UIJobStarters.waitUntilPersisted(t,{onAck:function(n){o("MAWWorkerEvent").logAck(a,t.type,n)},onSend:function(n){var e=n.queueMsgs,r=n.queueSize;o("MAWWorkerEvent").logSend(a,t.type,"waitUntilPersisted"),o("MAWWorkerEvent").logAnnotations(a,{int:{bridgeSize:r},string_array:{bridgeMsgs:e}})}},{bridgeQPLInstanceKey:a}).then(function(e){return o("MAWWorkerEvent").logSuccess(a),e},function(e){var t=r("getErrorSafe")(e);throw o("MAWWorkerEvent").logFailure(a,t.message),t})}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw o("MAWWorkerEvent").logTimeoutFailure(a,"Failed to persist execution of job",n),r("FBLogger")("maw_core_lla").mustfixThrow("Failed to persist execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)}};l.TimedUIJobStarters=e}),98);
__d("MDSGlimmer.react",["cr:10389","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),r;return t[0]!==e?(r=s.jsx(n("cr:10389"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}l.default=u}),98);
__d("MDSGlimmerImpl.react",["BaseGlimmer.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle"],s,u=s||(s=o("react")),c={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(9),a,i;n[0]!==t?(i=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=r("useCurrentDisplayMode")(),s=l==="dark"?c.dark:c.light,d;n[3]!==s||n[4]!==i?(d=[s,i],n[3]=s,n[4]=i,n[5]=d):d=n[5];var m;return n[6]!==a||n[7]!==d?(m=u.jsx(r("BaseGlimmer.react"),babelHelpers.extends({xstyle:d},a)),n[6]=a,n[7]=d,n[8]=m):m=n[8],m}l.default=d}),98);
__d("MWFDSDots3Horizontal.svg.react",["cr:21631"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21631")}),98);
__d("MessengerThreadTakedownState",[],(function(t,n,r,o,a,i){var e=Object.freeze({TAKEN_DOWN:1,RESTORED:2,GEO_BLOCKED:3});i.default=e}),66);
__d("mwIsThreadDisabled",["I64","LSIntEnum","MessengerThreadTakedownState"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return n!=null&&(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(1))?!0:t!=null&&((e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessengerThreadTakedownState").TAKEN_DOWN))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessengerThreadTakedownState").GEO_BLOCKED)))}l.default=u}),98);
__d("useMWPThreadHasSpectraUser",["I64","LSContactTypeExact","LSIntEnum","ReQL","ReQLSuspense","gkx","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){var t=o("react-compiler-runtime").c(7),n=(u||(u=r("useReStore")))(),a;t[0]!==n.tables.contacts||t[1]!==n.tables.participants||t[2]!==e?(a=function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(n.tables.participants).getKeyRange(e),o("ReQL").fromTableAscending(n.tables.contacts)).filter(d)},t[0]=n.tables.contacts,t[1]=n.tables.participants,t[2]=e,t[3]=a):a=t[3];var l;t[4]!==n||t[5]!==e?(l=[n,e],t[4]=n,t[5]=e,t[6]=l):l=t[6];var s=o("ReQLSuspense").useFirst(a,l,i.id+":32");return s!=null&&r("gkx")("18988")}function d(t){var n=t[1];return(e||(e=o("I64"))).equal(n.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").MESSENGER_SPECTRA))}l.default=c}),98);
__d("MWPIsThreadUnread",["I64","ReQL","ReQLSuspense","mwCMIsCMSubthread","mwIsThreadDisabled","useMWPThreadHasSpectraUser","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return r("mwIsThreadDisabled")(e.takedownState)||r("mwCMIsCMSubthread")(e.threadType)&&(s||(s=o("I64"))).equal(e.lastReadWatermarkTimestampMs,(s||(s=o("I64"))).zero)?!1:(s||(s=o("I64"))).compare(e.lastActivityTimestampMs,e.lastReadWatermarkTimestampMs)>0}function c(t){var n,a=(e||(e=r("useReStore")))(),l=r("useMWPThreadHasSpectraUser")(t),s=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.threads,["takedownState","threadType","lastReadWatermarkTimestampMs","lastActivityTimestampMs","threadKey"]).getKeyRange(t).map(u)},[a.tables.threads,t],i.id+":60"))!=null?n:!1;return s&&!l}l.isThreadUnread=u,l.useIsThreadUnread=c}),98);
__d("MWInboxFollowUps",["$InternalEnum","DateConsts","I64","LSMessagingThreadTypeUtil","MAWCurrentUser","MWPIsThreadUnread","ReQL","ReStoreTabNotifier","WebAsyncStorage","promiseDone","react","react-compiler-runtime","useDebouncedComet"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useState,m=15,p="inbox_follow_ups_"+o("MAWCurrentUser").getID(),_=(s||(s=o("I64"))).of_string(o("MAWCurrentUser").getID()),f="cached_reminders",g=[],h=null,y=function(){g=[],h=null},C=r("ReStoreTabNotifier")("tabs_"+p),b=function(t){if(t==null)g=[],h=null;else{var e,n;h=t,g=(e=t==null||(n=t._priv)==null?void 0:n[f])!=null?e:[]}},v=function(t){r("promiseDone")(S({action:1,metadata:{lastAccessedThread:(s||(s=o("I64"))).of_float(Date.now())},threadKey:t}))},S=function(t){return new Promise(function(e,n){return r("WebAsyncStorage").upsertAndSaveAtomic(p,function(e){if(t.action===1){var n=(s||(s=o("I64"))).to_string(t.threadKey),r=babelHelpers.extends({},e,{_priv:babelHelpers.extends({},e==null?void 0:e._priv)});return r[n]=t.metadata,r}else if(t.action===2){var a;return babelHelpers.extends({},e,{_priv:(a={},a[f]=t.threadKeys,a)})}},function(t,r){if(t!=null)return n(t);C.postMessage("invalidateReminderMetadata"),b(r),e()})})},R=function(){return new Promise(function(e,t){if(h!=null)return e(h);r("WebAsyncStorage").getItem(p,function(n,r){if(n!=null)return t(n);b(r),e(r)})})},L=n("$InternalEnum").Mirrored(["None","Sender","Receiver"]),E=function(t,n){if(!o("LSMessagingThreadTypeUtil").isOneToOne(n.threadType)||o("MWPIsThreadUnread").isThreadUnread(n))return Promise.resolve(L.None);var e=n.snippetSenderContactId;return e==null||n.lastMessageCtaType!=="messenger_reply_reminder"?Promise.resolve(L.None):o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(n.threadKey)).then(function(t){if(t.length===1&&(s||(s=o("I64"))).equal(t[0].contactId,_))return L.None;var r=Date.now()-(s||(s=o("I64"))).to_float(n.lastActivityTimestampMs);if(r>=o("DateConsts").MS_PER_DAY*7)return L.None;if((s||(s=o("I64"))).equal(e,_)){if(r>=o("DateConsts").MS_PER_DAY)return L.Sender}else if(r>=o("DateConsts").MS_PER_HOUR*6)return L.Receiver;return L.None})},k=function(t){return g.find(function(e){return(s||(s=o("I64"))).equal(e,t.threadKey)})!=null},I=function(){r("promiseDone")(R()),C.onEventReceive("invalidateReminderMetadata",function(){b(null),r("promiseDone")(R())})};function T(e){var t=o("react-compiler-runtime").c(9),n=d(g),a=n[0],i=n[1],l;t[0]!==e?(l=async function(n){var t=null,a=null;return R().then(async function(l){for(var u=0;u<n.length&&u<m;u++){var c=n[u],d=c[1],p=await E(e,d);if(p!==L.None){var _=l==null?void 0:l[(s||(s=o("I64"))).to_string(d.threadKey)];if(!(_!=null&&(s||(s=o("I64"))).gt(_.lastAccessedThread,d.lastActivityTimestampMs))){if(p===L.Sender){if(a!=null)continue;a=d.threadKey}else{if(t!=null)continue;t=d.threadKey}if(a!=null&&t!=null)break}}}var f=[t,a].filter(Boolean);g=f,i(f),r("promiseDone")(S({action:2,threadKeys:f}))})},t[0]=e,t[1]=l):l=t[1];var u=l,c;t[2]!==u?(c=function(t){r("promiseDone")(u(t))},t[2]=u,t[3]=c):c=t[3];var p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={leading:!1,wait:200},t[4]=p):p=t[4];var _=r("useDebouncedComet")(c,p),f;return t[5]!==_||t[6]!==u||t[7]!==a?(f={computeInboxFollowUps:_,computeInboxFollowUpsAsync:u,reminders:a},t[5]=_,t[6]=u,t[7]=a,t[8]=f):f=t[8],f}l.clearCache_FOR_TESTING_ONLY=y,l.touchThreadMetadata=v,l.setMetadata=S,l.getMetadata=R,l.EligibilityCheck=L,l.isFollowUpTagDisplayed=k,l.setupTabsListener=I,l.useInboxFollowUps=T}),98);
__d("MWPGetThreadTitle",["fbt","CurrentEnvironment","FBLogger","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWGenAIUtils","intlList"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(r("CurrentEnvironment").workplacedotcom?s._(/*BTDS*/"Workplace user"):r("CurrentEnvironment").instagramdotcom?s._(/*BTDS*/"Instagram User"):r("CurrentEnvironment").horizondotmetadotcom?s._(/*BTDS*/"Horizon user"):s._(/*BTDS*/"Facebook user")).toString();function d(t,n,a,i){if(t===void 0&&(t=r("intlList").CONJUNCTIONS.AND),a.length>8&&r("FBLogger")("messenger_web_ia").mustfix("You are overfetching participants needed to compute a thread title. Please use ->take(MWPGetThreadTitle.amountToFetchForTitle) to limit participants fetched. Length: "+a.length),a.length!==0){if(a.length===1){var l,d=a[0],m=d[0],p=d[1];return m.nickname!=null?m.nickname:(l=p==null?void 0:p.name)!=null?l:c}if(o("LSMessagingThreadTypeUtil").isOneToOne(n)){var _,f=a.filter(function(t){return!(e||(e=o("I64"))).equal(t[0].contactId,i)});if(f.length===0){r("FBLogger")("messenger_comet").mustfix("No participants in thread");return}var g=f.sort(function(t,n){return(e||(e=o("I64"))).compare(n[0].authorityLevel,t[0].authorityLevel)})[0],h=g[0].nickname;if(h!=null)return h;var y=g[1];return(_=y==null?void 0:y.name)!=null?_:c}var C=a.filter(function(t){return!(e||(e=o("I64"))).equal(t[0].contactId,i)}).slice(0,7).sort(function(e,t){var n=t[1],r=e[1],a=o("MWGenAIUtils").isAIGroupAgentContact(e[0].contactId),i=o("MWGenAIUtils").isAIGroupAgentContact(t[0].contactId);return a&&!i?1:!a&&i?-1:r!=null&&n!=null?n.rank-r.rank:0}).map(function(t){var n,i,l=t[1];l!=null&&(e||(e=o("I64"))).equal(l.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))&&!((n=o("LSContactBitOffset").has(77,l))!=null&&n)&&!((i=o("LSContactBitOffset").has(65,l))!=null&&i)&&r("FBLogger")("messenger_web").debug("page participant in group");var s=t[0].nickname;if(s!=null)return s;if(l==null)return c;var d=l.firstName;return d!=null&&a.length>2?d:l.name});return a.length>7&&C.push(String(s._(/*BTDS*/"others"))),r("intlList")(C,t,r("intlList").DELIMITERS.COMMA).toString()}}var m=8;l.computeThreadTitle=d,l.amountToFetchForTitle=m}),226);
__d("MWXEntryPointPopoverTrigger.react",["cr:1000","cr:4755","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return n("cr:4755")!=null?s.jsx(n("cr:4755"),babelHelpers.extends({},e)):n("cr:1000")!=null?s.jsx(n("cr:1000"),babelHelpers.extends({},e)):null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXIconDots3Horizontal",["MWXSvgIcon","SVGIcon","cr:22299","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22299")),r("gkx")("23219"));l.default=e}),98);
__d("isIE11OrGreater",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isBrowser("IE >= 11"),s=e;l.default=s}),98);
__d("isMWXacGroupThread",["LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("LSThreadBitOffset").has(97,e)}l.default=e}),98);
__d("useLSGetThreadTitle.react",["MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","intlList","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(17),l=o("MWPActor.react").useActor(),s=(e||(e=r("useReStore")))(),u;a[0]!==s||a[1]!==n||a[2]!==t.threadKey?(u=function(){return n===!0?o("ReQL").empty():o("ReQL").leftJoin(o("ReQL").fromTableAscending(s.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(s.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2","secondaryName","id","contactTypeExact","blockedByViewerStatus"])).take(8)},a[0]=s,a[1]=n,a[2]=t.threadKey,a[3]=u):u=a[3];var c;a[4]!==t.threadKey?(c=[t.threadKey],a[4]=t.threadKey,a[5]=c):c=a[5];var d=o("ReQLSuspense").useArray(u,c,i.id+":65");if(n===!0){var m;return a[6]!==l||a[7]!==d?(m={actorId:l,participantsAndContacts:d,threadTitle:null},a[6]=l,a[7]=d,a[8]=m):m=a[8],m}var p;a[9]!==l||a[10]!==d||a[11]!==t.threadType?(p=o("MWPGetThreadTitle").computeThreadTitle(r("intlList").CONJUNCTIONS.NONE,t.threadType,d,l),a[9]=l,a[10]=d,a[11]=t.threadType,a[12]=p):p=a[12];var _=p,f;return a[13]!==l||a[14]!==d||a[15]!==_?(f={actorId:l,participantsAndContacts:d,threadTitle:_},a[13]=l,a[14]=d,a[15]=_,a[16]=f):f=a[16],f}l.default=s}),98);/*FB_PKG_DELIM*/
__d("CometToastDeferred",["deferredLoadComponent","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferred")("CometToast.react").__setRef("CometToastDeferred")),s=e;l.default=s}),98);
__d("FBNucleusRefreshRightFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M8 2.25A5.75 5.75 0 1 0 13.75 8a1 1 0 1 1 2 0 7.732 7.732 0 0 1-2.665 5.848 7.75 7.75 0 1 1-.358-11.99l.566-.565A1 1 0 0 1 15 2v2.25c0 .69-.56 1.25-1.25 1.25H11.5a1 1 0 0 1-.707-1.707l.504-.504a5.793 5.793 0 0 0-.748-.445A5.712 5.712 0 0 0 8 2.25z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("LSCancelTaskByQueueName",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.forEach(t.filter(t.db.table(2).fetch([[[e[0]]],"queueNameTaskId"]),function(n){return n.queueName===e[0]&&n.context===t.i64.to_string(e[1])}),function(e){var r=e.item;return t.sequence([function(e){return n[0]=r.taskDispatchPriority,t.forEach(t.filter(t.db.table(2).fetch([[[r.taskId]]]),function(e){return t.i64.eq(e.taskId,r.taskId)&&e.queueName===r.queueName}),function(e){return e.delete()})},function(e){return t.i64.eq(n[0],t.i64.cast([0,1e3]))||t.i64.eq(n[0],t.i64.cast([0,2e3]))?n[1]=t.i64.cast([0,734739218]):n[1]=t.i64.cast([0,734737036])}])})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreCancelTaskByQueueNameStoredProcedure",e.__tables__=["pending_tasks"],a.exports=e}),null);
__d("LSMarkThreadRead",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.filter(t.db.table(9).fetch([[[e[1]]]]),function(n){return t.i64.eq(n.threadKey,e[1])&&t.i64.gt(e[0],n.lastReadWatermarkTimestampMs)}),function(t){var n=t.update,r=t.item;return n({lastReadWatermarkTimestampMs:e[0]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxMarkThreadReadStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.storedProcedure(n("LSMarkThreadRead"),e[1],e[0])},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[3]=n.syncGroup,t.i64.neq(r[3],void 0)?r[2]=r[3]:r[2]=t.i64.cast([0,1]),r[0]=r[2])})},function(o){return r[2]=new t.Map,r[2].set("thread_id",e[0]),r[2].set("last_read_watermark_ts",e[1]),r[2].set("sync_group",r[0]),r[3]=r[2].get("thread_id"),r[4]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[3]),t.i64.cast([0,21]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticMarkThreadReadV2StoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("MWDeleteAllDBs",["MAWEncryptionIndexedDbV2","MAWIndexedDBDeletion","cr:10030"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){n("cr:10030")&&await n("cr:10030").deleteIndexedDB(e),await o("MAWIndexedDBDeletion").deleteMAWPersistence(),(t==null?void 0:t.deleteEncryptionDB)===!0&&await o("MAWEncryptionIndexedDbV2").deleteEncryptionDB_UNSAFE(void 0,"delete_all_dbs")}l.deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING=e}),98);
__d("MAWEncryptionErrorHandler",["FBLogger","MAWSetupWorker","MWDeleteAllDBs","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";async function e(){var e="MAWEARKeychainDecryptionError",t="error";try{return await o("MAWSetupWorker").terminateWorker(e),o("MWDeleteAllDBs").deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING(t,{deleteEncryptionDB:!0})}catch(o){var n=r("getErrorSafe")(o);r("FBLogger")("messenger_web").catching(n).mustfixThrow("Fail to delete dbs from: %s terminateWorkerReason: %s",t,e)}}l.handleEARKeychainError=e}),98);
__d("MAWMessageIntegrityTruncateStatus",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e=["threadKey"],s,u=0,c=new Map;function d(t,n,r){var a,i=(a=c.get((s||(s=o("I64"))).to_float(t)))!=null?a:{},l=n.threadKey,u=babelHelpers.objectWithoutPropertiesLoose(n,e),d=babelHelpers.extends({},i,{lastUpsertedRange:babelHelpers.extends({},u,r,{maxTimestampMs:(s||(s=o("I64"))).to_float(n.maxTimestampMs),minTimestampMs:s.to_float(n.minTimestampMs)}),updateRangeTimestamp:Date.now()});c.set(s.to_float(t),d)}function m(e){var t,n=(t=c.get((s||(s=o("I64"))).to_float(e)))!=null?t:{},r=babelHelpers.extends({},n,{truncateTimestamp:n.truncateTimestamp==null?u:Date.now()});c.set((s||(s=o("I64"))).to_float(e),r)}function p(e){var t=c.get((s||(s=o("I64"))).to_float(e));return(t==null?void 0:t.truncateTimestamp)==null?null:t}l.setThreadLastUpsertedRange=d,l.setThreadThuncated=m,l.getThreadThuncateState=p}),98);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","deepEquals","getErrorSafe","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=["count"],s,u=o("CometLruCache").create(20,2e3);async function c(t,n){var a=t.chatJid,i=t.config,l=t.count,s=t.direction,c=t.offsetMsg,p=t.timestampMs,_=u.get(a);if(_!=null){var f=_&&_.options,g=f.count,h=babelHelpers.objectWithoutPropertiesLoose(f,e);if(r("deepEquals")(h,{config:i,direction:s,offsetMsg:c,timestampMs:p})&&l<=g)try{return o("WAResultOrError").makeResult(babelHelpers.extends({},await _.result))}catch(e){}}return r("qex")._("18")?m(t,n):d(t,n)}async function d(e,t){var n=e.actionType,a=e.chatJid,i=e.config,l=e.count,c=e.direction,d=e.offsetMsg,m=e.timestampMs;try{var p,_=o("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:n,chatJid:a,config:i,direction:c,externalId:d==null?void 0:d.externalId,includeOriginalMsg:(p=d==null?void 0:d.includeOriginalMsg)!=null?p:!1,msgId:(d==null?void 0:d.messageId)==null?null:o("MAWDbMsg").toMsgId(d.messageId),numMsgs:l,sortOrderMs:m!=null?(s||(s=o("I64"))).to_float(m):null},{timeoutMs:t==null?void 0:t.timeoutMs});u.set(a,{options:{config:i,count:l,direction:c,offsetMsg:d,timestampMs:m},result:_});var f=babelHelpers.extends({},await _);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web").catching(g).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed"),o("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",g)}}async function m(e,t){var n=e.actionType,a=e.chatJid,i=e.config,l=e.count,c=e.direction,d=e.offsetMsg,m=e.timestampMs;try{var p,_=o("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:n,chatJid:a,config:i,direction:c,range:{includeLowerBoundMsg:(p=d==null?void 0:d.includeOriginalMsg)!=null?p:!1,lowerBoundExternalId:(d==null?void 0:d.externalId)==null?void 0:d.externalId,lowerBoundSortOrderMs:m!=null?(s||(s=o("I64"))).to_float(m):void 0,numMsgs:l}},{timeoutMs:t==null?void 0:t.timeoutMs});u.set(a,{options:{config:i,count:l,direction:c,offsetMsg:d,timestampMs:m},result:_});var f=babelHelpers.extends({},await _);return o("WAResultOrError").makeResult(f)}catch(e){var g=r("getErrorSafe")(e);return r("FBLogger")("messenger_web").catching(g).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed"),o("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",g)}}l.default=c}),98);
__d("MDSToastUtils",["fbt","ScreenReaderText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=e==="warning"?u.jsx(r("ScreenReaderText.react"),{text:s._(/*BTDS*/"Warning:")}):u.jsx(r("ScreenReaderText.react"),{text:s._(/*BTDS*/"Announcement:")}),t[0]=e,t[1]=n):n=t[1],n}l.useAnnouncementTitle=c}),226);
__d("MWFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(t,n,r,o,a,i,l){"use strict";l.createFocusTable=o("FocusTable.react").createFocusTable,l.tabbableScopeQuery=o("focusScopeQueries").tabbableScopeQuery}),98);
__d("MWXIconCautionTriangle",["MWXSvgIcon","SVGIcon","cr:22257","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22257")),r("gkx")("23219"));l.default=e}),98);
__d("MWXMenu.react",["cr:6941"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:6941")}),98);
__d("MWXMenuItem.react",["BaseTheme.react","FDSTextWebUtils","MWXSvgIcon","MWXThreadThemeColor","MessengerWebUXLogger","cr:2466","cr:4318","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["icon","iconColor","loggingEvent","onClick","primaryColor","secondaryColor"],u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useMemo;function _(t){var a=o("react-compiler-runtime").c(39),i,l;a[0]!==t?(l=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l):(i=a[1],l=a[2]);var u,d,m,p,_,g,h;if(a[3]!==i){var y=i;u=y.icon,d=y.iconColor,m=y.loggingEvent,p=y.onClick,g=y.primaryColor,h=y.secondaryColor,_=babelHelpers.objectWithoutPropertiesLoose(y,s),a[3]=i,a[4]=u,a[5]=d,a[6]=m,a[7]=p,a[8]=_,a[9]=g,a[10]=h}else u=a[4],d=a[5],m=a[6],p=a[7],_=a[8],g=a[9],h=a[10];var C=d instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?"primary":d,b=r("MessengerWebUXLogger").useInteractionLogger(),v;a[11]!==b||a[12]!==m||a[13]!==p?(v=function(t){p==null||p(t),m&&(b==null||b(m))},a[11]=b,a[12]=m,a[13]=p,a[14]=v):v=a[14];var S=v;if(n("cr:4318")!=null){var R;a[15]!==S||a[16]!==u||a[17]!==C||a[18]!==_||a[19]!==l?(R=c.jsx(n("cr:4318"),babelHelpers.extends({icon:u,iconColor:C,onClick:S},_,{ref:l})),a[15]=S,a[16]=u,a[17]=C,a[18]=_,a[19]=l,a[20]=R):R=a[20];var L;return a[21]!==d||a[22]!==R?(L=c.jsx(f,{iconColor:d,children:R}),a[21]=d,a[22]=R,a[23]=L):L=a[23],L}if(n("cr:2466")!=null){var E=u instanceof o("MWXSvgIcon").MWXSvgMenuItemIcon?u.component:u,k;a[24]!==g?(k=o("FDSTextWebUtils").getFDSHeadlineColor(g),a[24]=g,a[25]=k):k=a[25];var I;a[26]!==h?(I=o("FDSTextWebUtils").getFDSMetaColor(h),a[26]=h,a[27]=I):I=a[27];var T;a[28]!==S||a[29]!==C||a[30]!==_||a[31]!==l||a[32]!==E||a[33]!==k||a[34]!==I?(T=c.jsx(n("cr:2466"),babelHelpers.extends({icon:E,iconColor:C,isIconDecorative:!0,onClick:S,primaryColor_DEPRECATED:k,secondaryColor:I},_,{ref:l})),a[28]=S,a[29]=C,a[30]=_,a[31]=l,a[32]=E,a[33]=k,a[34]=I,a[35]=T):T=a[35];var D;return a[36]!==d||a[37]!==T?(D=c.jsx(f,{iconColor:d,children:T}),a[36]=d,a[37]=T,a[38]=D):D=a[38],D}return null}function f(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.iconColor,i;t[0]!==a?(i=a instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":a.color},light:{"primary-icon":a.color},type:"VARIABLES"}:void 0,t[0]=a,t[1]=i):i=t[1];var l=i;if(l==null)return n;var s;return t[2]!==n||t[3]!==l?(s=c.jsx(r("BaseTheme.react"),{config:l,children:n}),t[2]=n,t[3]=l,t[4]=s):s=t[4],s}l.default=_}),98);
__d("MWXPopoverLoadingState.react",["cr:8235"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:8235")}),98);
__d("MWXToast.react",["MDSToastUtils","cr:1339","cr:3542","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,r=o("react-compiler-runtime").c(28),a=e.actions,i=e.announcementType,l=e.assertive,u=e.body,c=e.icon,d=e.impressionLoggingRef,m=e.onDismiss,p=e.startAddOn,_=e.supressCloseButton,f=e.testid,g=e.title,h=i===void 0?"general":i,y=l===void 0?!1:l,C=p===void 0?null:p,b=_===void 0?!1:_,v=f===void 0?"mw-toast":f,S;r[0]!==(c==null?void 0:c.mds)?(S=(c==null?void 0:c.mds)!=null?{hiddenAria:!0,source:c==null?void 0:c.mds,type:"icon"}:void 0,r[0]=c==null?void 0:c.mds,r[1]=S):S=r[1];var R=S,L=(t=c==null?void 0:c.comet)!=null?t:void 0,E;if(r[2]!==u||r[3]!==g){var k;E=g!=null&&u!=null?s.jsxs(s.Fragment,{children:[g,s.jsx("br",{}),u]}):(k=g!=null?g:u)!=null?k:"",r[2]=u,r[3]=g,r[4]=E}else E=r[4];var I=E,T=o("MDSToastUtils").useAnnouncementTitle(h),D;r[5]!==I||r[6]!==T?(D=s.jsxs(s.Fragment,{children:[T,I]}),r[5]=I,r[6]=T,r[7]=D):D=r[7];var x=D,$;r[8]!==L||r[9]!==x||r[10]!==d||r[11]!==m||r[12]!==b||r[13]!==v?($={icon:L,impressionLoggingRef:d,message:x,onDismiss:m,testid:v,withoutCloseButton:b},r[8]=L,r[9]=x,r[10]=d,r[11]=m,r[12]=b,r[13]=v,r[14]=$):$=r[14];var P=$,N;return r[15]!==a||r[16]!==h||r[17]!==y||r[18]!==u||r[19]!==P||r[20]!==d||r[21]!==R||r[22]!==m||r[23]!==C||r[24]!==b||r[25]!==v||r[26]!==g?(N=n("cr:3542")!=null?s.jsx(n("cr:3542"),{actions:a,announcementType:h,assertive:y,body:u,closeButtonAriaHidden:!0,impressionLoggingRef:d,onDismiss:m,startAddOn:C!==null?C:R,testid:void 0,title:g,withCloseButton:!b}):n("cr:1339")!=null?a!=null?s.jsx(n("cr:1339"),babelHelpers.extends({},P,{action:babelHelpers.extends({},a.primaryCallToAction)})):s.jsx(n("cr:1339"),babelHelpers.extends({},P)):null,r[15]=a,r[16]=h,r[17]=y,r[18]=u,r[19]=P,r[20]=d,r[21]=R,r[22]=m,r[23]=C,r[24]=b,r[25]=v,r[26]=g,r[27]=N):N=r[27],N}l.default=u}),98);
__d("MessagingCommunityType",[],(function(t,n,r,o,a,i){var e=Object.freeze({FB_COMMUNITY:0,STANDALONE_COMMUNITY:1});i.default=e}),66);
__d("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4148"),s=o("FalcoLoggerInternal").create("messenger_discoverable_broadcast_chats_client_events",e),u=s;l.default=u}),98);
__d("ThreadStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,PAUSED:1,PAUSED_AND_UPGRADED_TO_COMMUNITY:2,UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED:3});i.default=e}),66);
__d("mwCMisStandAloneCommunity",["I64","LSIntEnum","MessagingCommunityType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return t==null?!1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingCommunityType").STANDALONE_COMMUNITY))}l.default=u}),98);
__d("mwPushToast",["ix","BaseToasterStateManager","MWXToast.react","cr:4379","cr:6570","fbicon","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("BaseToasterStateManager").getInstance();function d(e,t){var n=e.announcementType,o=e.assertive,a=e.body,i=e.icon,l=e.impressionLoggingRef,s=e.onDismiss,d=e.startAddOn,m=d===void 0?null:d,p=e.supressCloseButton,_=p===void 0?!1:p,f=e.testid,g=e.title;t===void 0&&(t=2750);var h=c.push(u.jsx(r("MWXToast.react"),{announcementType:n,assertive:o,body:a,icon:i,impressionLoggingRef:l,onDismiss:function(){c.expire(h),s==null||s()},startAddOn:m,supressCloseButton:_,testid:void 0,title:g}),t);return h}function m(e,t){var r=e.body,a=e.onDismiss,i=e.title;t===void 0&&(t=2750);var l=n("cr:6570")!==null?u.jsx(n("cr:6570"),{color:"warning",icon:o("fbicon")._(s("502062"),20)}):void 0,c=n("cr:4379")!=null?n("cr:4379"):void 0;return d({announcementType:"warning",assertive:!0,body:r,icon:{comet:l,mds:c},onDismiss:a,title:i},t)}l.mwPushToast=d,l.mwPushErrorToast=m}),98);
__d("useIsChatPreviewsEnabled",["MWLSThread","ReQL","ReQLSuspense","isUnjoinedCMThread","mwCMisStandAloneCommunity","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(4),l=(e||(e=r("useReStore")))(),s=o("MWLSThread").useThread(t,u),d,m;a[0]!==l||a[1]!==s?(d=function(){return s!=null?o("ReQL").fromTableAscending(l.tables.community_folders).getKeyRange(s):o("ReQL").empty()},m=[l,s],a[0]=l,a[1]=s,a[2]=d,a[3]=m):(d=a[2],m=a[3]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":27");return(n=o("MWLSThread").useThread(t,function(e){return c(e,p==null?void 0:p.communityType)}))!=null?n:!1}function u(e){return e.parentThreadKey}function c(e,t){return e.needsAdminApprovalForNewParticipant===!0||!o("isUnjoinedCMThread").isUnjoinedCMThread(e.threadType)?!1:r("mwCMisStandAloneCommunity")(t)}l.useIsChatPreviewsEnabled=s,l.isChatPreviewsEnabled=c}),98);
__d("useMWGetOtherUserContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t,n,a){var l=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),d=(s||(s=o("I64"))).equal(u,t),m=c(function(){return a},[].concat(a));return o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isOneToOne(n)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId"]).getKeyRange(t),o("ReQL").fromTableAscending(l.tables.contacts,a)).filter(function(e){var t=e[0],n=e[1];return d||!(s||(s=o("I64"))).equal(t.contactId,u)}).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[n,l,t,d,u,m],i.id+":35")}l.default=d}),98);
__d("useMWXPushToast",["MWXIconStrict.react","mwPushToast","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["_isWarning_DO_NOT_USE"],s,u,c=u||(u=r("react")),d=(s||(s=o("react"))).useCallback;function m(){return p}function p(t){var n=t._isWarning_DO_NOT_USE,a=babelHelpers.objectWithoutPropertiesLoose(t,e);o("mwPushToast").mwPushToast(babelHelpers.extends({},a,{icon:a.icon?{comet:c.jsx(r("MWXIconStrict.react"),{color:n===!0?"warning":void 0,icon:a.icon,isDecorative:!0,size:20}),mds:a.icon.component}:void 0}))}l.default=m}),98);
__d("useMWXPushErrorToast",["MWXIconCautionTriangle","react","react-compiler-runtime","useMWXPushToast"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=r("useMWXPushToast")(),n;return e[0]!==t?(n=function(n){t(babelHelpers.extends({},n,{_isWarning_DO_NOT_USE:!0,announcementType:"warning",assertive:!0,icon:r("MWXIconCautionTriangle")}))},e[0]=t,e[1]=n):n=e[1],n}l.default=u}),98);
__d("useStringWithSubstitutions",["fbt","CometLruCache","CurrentMessengerUser","Env","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","Promise","ReQL","ReQLSuspense","gkx","nullthrows","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=m||(m=o("react")),_=p.useEffect,f=p.useMemo,g=(c||(c=r("Env"))).isMessengerDotComOnComet?"Messenger":r("gkx")("22979")?"Instagram":"Facebook",h=s._(/*BTDS*/"{Platform Name} user",[s._param("Platform Name",g)]).toString(),y=/(\$?)\$([a-zA-Z_]+)(?:\((.*?)\))?/g,C=/()(@)(?:(\d*?)@msgr)/g,b=o("CometLruCache").create(100);function v(t,a){var i=(d||(d=o("I64"))).to_string(a);return b.has(i)?(e||(e=n("Promise"))).resolve():(b.set(i,!0),r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(t),{authorityLevel:d.of_int32(r("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:d.of_int32(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:d.of_int32(r("LSContactIdType").FBID),contactType:d.of_int32(r("LSContactType").USER),contactViewerRelationship:d.of_int32(r("LSContactViewerRelationship").UNKNOWN),gender:d.of_int32(r("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:d.to_string(a)===o("CurrentMessengerUser").getID(),workForeignEntityType:d.of_int32(r("LSContactWorkForeignEntityType").UNKNOWN)}))}function S(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1;e[o][0]<t?n=o+1:r=o-1}return r}function R(e,t,n,r){var o=[[-1,0]],a=e.replace(n,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=n[n.length-2],l=r.apply(void 0,[e].concat(n));return l.length===e.length||o.push([i,e.length-l.length+o[o.length-1][1]]),l});if(o.length===1)return{textWithSubstitutions:a,updatedRanges:t};var i=[];for(var l of t){var s=S(o,l.offset);i.push(babelHelpers.extends({},l,{length:l.length-(o[s+1]!=null&&o[s+1][0]<=l.offset+l.length?o[s+1][1]-o[s][1]:0),offset:l.offset-o[s][1]}))}return{textWithSubstitutions:a,updatedRanges:i}}var L={CONTACT_FIRST_NAME:[function(e){return function(t){return o("ReQL").fromTableAscending(e.tables.contacts,["name","firstName","id"]).getKeyRange(t).map(function(e){var t=e.firstName,n=e.name;return t!=null?t:n})}},function(e){return h},v],CONTACT_FULL_NAME:[function(e){return function(t){return o("ReQL").fromTableAscending(e.tables.contacts,["name"]).getKeyRange(t).map(function(e){var t=e.name;return t})}},function(e){return h},v],PARTICIPANT_FIRST_NAME:[function(e){return(function(t,n){var r=n.threadKey;return o("ReQL").fromTableAscending(e.tables.contacts,["name","firstName","id"]).getKeyRange(t).map(function(t){var n,a,l=t.firstName,s=t.id,u=t.name,c=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,s),i.id+":188");return(n=(a=c==null?void 0:c.nickname)!=null?a:l)!=null?n:u})})},function(e){return h},v],PARTICIPANT_FULL_NAME:[function(e){return(function(t,n){var r=n.threadKey;return o("ReQL").fromTableAscending(e.tables.contacts,["name","id"]).getKeyRange(t).map(function(t){var n,a=t.id,l=t.name,s=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,a),i.id+":207");return(n=s==null?void 0:s.nickname)!=null?n:l})})},function(e){return h},v]};function E(t,a,l,s,c,m){var p=function(t){var e;return((e=t.entity)==null?void 0:e.__typename)==="Thread"},g=a.filter(p),h=a.filter(function(e){return!p(e)}),y=(u||(u=r("useReStore")))(),C=o("Int64Hooks").useMemoInt64(function(){return{threadKey:l}},[l]),b=f(function(){var e,n=[],a=0;if(t!=null){s.lastIndex=0;for(var i=function(){var t=r("nullthrows")(e),i=t[0],l=t[1],s=t[2],u=t[3];if(!l){var p=(d||(d=o("I64"))).of_string_opt(u);if(p==null||u==="0")m&&r("FBLogger")("messenger_web").mustfix("Invalid user id for substitution key %s: %s",s,u);else{var _=a,f=c[s];f!=null&&(n.push([f[0](y)(p,C).take(1).map(function(e){return[_,e]}),function(e){return f[2](e,p)}]),a++)}}};(e=s.exec(t))!==null;)i()}return n},[C,y,t,s,c]),v=o("ReQLSuspense").useArray(function(){return b.length?b.length===1?b[0][0]:o("ReQL").union.apply(void 0,b.map(function(e){return e[0]})):o("ReQL").empty()},[b],i.id+":295"),S=f(function(){return new Map(v)},[v]);return _(function(){var t=b.map(function(e,t){var n=e[0],r=e[1];return S.has(t)?null:r}).filter(Boolean);t.length&&r("promiseDone")(y.runInTransaction(function(r){return(e||(e=n("Promise"))).all(t.map(function(e){return e(r)}))},"readwrite",void 0,void 0,i.id+":322"))},[y,b,S]),f(function(){if(t==null)return null;var e=0,n=R(t,h,s,function(t,n,r,a){var i=c[r];return n||i==null||(d||(d=o("I64"))).of_string_opt(a)==null?t:S.get(e++)||c[r][1](a)}),r=n.textWithSubstitutions,a=n.updatedRanges;return{textWithSubstitutions:r,updatedRanges:[].concat(a,g)}},[t,h,g,s,S,c])}function k(e,t){var n;return(n=E(e,[],t,y,L,!0))==null||(n=n.textWithSubstitutions)==null||n.replace==null?void 0:n.replace(/\$\$/g,"$$")}function I(e,t,n,r){var a=f(function(){return{"@":[function(e){return function(t){return n.has((d||(d=o("I64"))).to_string(t))?o("ReQL").fromTableAscending(e.tables.contacts,["name","id"]).getKeyRange(t).map(function(t){var n,a=t.id,l=t.name,s=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,a),i.id+":411"),u=(n=s==null?void 0:s.nickname)!=null?n:l;return"@"+u}):o("ReQL").empty()}},function(e){return n.has(e)?"@"+h:"@"+e+"@msgr"},v]}},[n]);return E(e,t,void 0,C,a,!1)}l.useStringWithSubstitutions=k,l.useStringWithMentionSubstitutionsAndUpdatedRanges=I}),226);/*FB_PKG_DELIM*/
__d("CacheStorage",["ErrorGuard","ExecutionEnvironment","WebStorage","cr:6943","cr:8958","emptyFunction","err","getErrorSafe"],(function(t,n,r,o,a,i,l){var e,s,u,c,d="_@_",m="3b",p="CacheStorageVersion",_={length:0,getItem:c=r("emptyFunction"),setItem:c,clear:c,removeItem:c,key:c},f=(function(){function e(e){this._store=e}var t=e.prototype;return t.getStore=function(){return this._store},t.keys=function(){for(var e=[],t=0;t<this._store.length;t++){var n=this._store.key(t);n!=null&&e.push(n)}return e},t.get=function(t){return this._store.getItem(t)},t.set=function(t,n){this._store.setItem(t,n)},t.remove=function(t){this._store.removeItem(t)},t.clear=function(){this._store.clear()},t.clearWithPrefix=function(t){t=t||"";for(var e=this.keys(),n=0;n<e.length;n++){var r=e[n];r!=null&&r.startsWith(t)&&this.remove(r)}},e})(),g=(function(t){function n(){var n;return t.call(this,(n=(e||(e=r("WebStorage"))).getLocalStorage())!=null?n:_)||this}return babelHelpers.inheritsLoose(n,t),n.available=function(){return!!(e||(e=r("WebStorage"))).getLocalStorage()},n})(f),h=(function(t){function n(){var n;return t.call(this,(n=(e||(e=r("WebStorage"))).getSessionStorage())!=null?n:_)||this}return babelHelpers.inheritsLoose(n,t),n.available=function(){return!!(e||(e=r("WebStorage"))).getSessionStorage()},n})(f),y=(function(){function e(){this._store={}}var t=e.prototype;return t.getStore=function(){return this._store},t.keys=function(){return Object.keys(this._store)},t.get=function(t){return this._store[t]===void 0?null:this._store[t]},t.set=function(t,n){this._store[t]=n},t.remove=function(t){t in this._store&&delete this._store[t]},t.clear=function(){this._store={}},t.clearWithPrefix=function(t){t=t||"";for(var e=this.keys(),n=0;n<e.length;n++){var r=e[n];r.startsWith(t)&&this.remove(r)}},e.available=function(){return!0},e})(),C={memory:y,localstorage:g,sessionstorage:h},b=(function(){function t(e,t){this._changeCallbacks=[],this._key_prefix="_cs_";var o;this._exception=null,t&&(this._key_prefix=t),e==="AUTO"||!e?o="memory":o=e,o&&(!C[o]||!C[o].available()?((s||(s=r("ExecutionEnvironment"))).canUseDOM,this._backend=new y):this._backend=new C[o]);var a=this.useBrowserStorage();a&&n("cr:6943").listen(window,"storage",this._onBrowserValueChanged.bind(this));var i=a?this._backend.getStore().getItem(p):this._backend.getStore()[p];i!==m&&this.clearOwnKeys()}var o=t.prototype;return o.useBrowserStorage=function(){return this._backend.getStore()===(e||(e=r("WebStorage"))).getLocalStorage()||this._backend.getStore()===(e||(e=r("WebStorage"))).getSessionStorage()},o.addValueChangeCallback=function(t){var e=this;return this._changeCallbacks.push(t),{remove:function(){e._changeCallbacks.slice(e._changeCallbacks.indexOf(t),1)}}},o._onBrowserValueChanged=function(t){this._changeCallbacks&&String(t.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(e){e(t.key,t.oldValue,t.newValue)})},o.keys=function(){var e=this,t=[];return(u||(u=r("ErrorGuard"))).guard(function(){if(e._backend)for(var n=e._backend.keys(),r=e._key_prefix.length,o=0;o<n.length;o++)n[o].substr(0,r)==e._key_prefix&&t.push(n[o].substr(r))},{name:"CacheStorage"})(),t},o.set=function(o,a,i){if(this._backend){if(this.useBrowserStorage()&&t._persistentWritesDisabled)return this._exception=r("err")("writes disabled"),!1;var e;typeof a=="string"?e=d+a:i?e=n("cr:8958").stringify(a):(e={__t:Date.now(),__v:a},e=n("cr:8958").stringify(e));for(var l=this._backend,s=this._key_prefix+o,u=!0,c=null;u;)try{c=null,l.set(s,e),u=!1}catch(e){c=r("getErrorSafe")(e);var m=l.keys().length;this._evictCacheEntries(),u=l.keys().length<m}return c!==null?(this._exception=c,!1):(this._exception=null,!0)}return this._exception=r("err")("no back end"),!1},o.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null},o.getLastSetException=function(){return this._exception},o.getStorageKeyCount=function(){var e=this._backend;return e?e.keys().length:0},o._evictCacheEntries=function(){var e=[],r=this._backend;r.keys().forEach(function(o){if(o!==p){var a=r.get(o);if(a===void 0){r.remove(o);return}if(!t._hasMagicPrefix(a)){try{a=n("cr:8958").parse(a,i.id)}catch(e){r.remove(o);return}a&&a.__t!==void 0&&a.__v!==void 0&&e.push([o,a.__t])}}}),e.sort(function(e,t){return e[1]-t[1]});for(var o=0;o<Math.ceil(e.length/2);o++)r.remove(e[o][0])},o.get=function(o,a){var e;if(this._backend)if((u||(u=r("ErrorGuard"))).applyWithGuard(function(){e=this._backend.get(this._key_prefix+o)},this,[],{onError:function(){e=null},name:"CacheStorage:get"}),e!=null)if(t._hasMagicPrefix(e))e=e.substr(d.length);else try{e=n("cr:8958").parse(e,i.id),e&&e.__t!==void 0&&e.__v!==void 0&&(e=e.__v)}catch(t){e=void 0}else e=void 0;return e===void 0&&a!==void 0&&(e=a,this.set(o,e)),e},o.remove=function(t){this._backend&&(u||(u=r("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+t],{name:"CacheStorage:remove"})},o._setVersion=function(){var e=this;(u||(u=r("ErrorGuard"))).applyWithGuard(function(){e.useBrowserStorage()?e._backend.getStore().setItem(p,m):e._backend.getStore()[p]=m},this,[],{name:"CacheStorage:setVersion"})},o.clear=function(){this._backend&&((u||(u=r("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())},o.clearOwnKeys=function(){this._backend&&((u||(u=r("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())},t.getAllStorageTypes=function(){return Object.keys(C)},t._hasMagicPrefix=function(t){return t.substr(0,d.length)===d},t.disablePersistentWrites=function(){t._persistentWritesDisabled=!0},t})();b._persistentWritesDisabled=!1,i.exports=b}),34);
__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(t,n,r,o,a,i){"use strict";i.default=n("CometEventListener")}),66);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(t,n,r,o,a,i){var e="client_event",l="navigation",s=18e4,u="marauder",c="marauder_last_event_time",d="marauder_last_session_id",m={},p=[],_=!1,f=null,g=null,h=null,y=0,C,b,v=!1,S=null;function R(){P().set(c,L())}n("Banzai").subscribe(n("Banzai").SHUTDOWN,R);function L(){return C=C||P().get(c)||0,C}function E(){v||(b=P().get(d),v=!0);var e=Date.now();return(!b||e-s>L())&&(b=e.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),P().set(d,b)),b}function k(){var e;return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:(e=window.screen.devicePixelRatio)!=null?e:null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function I(){return{locale:navigator.language}}function T(e,t,n,r,o,a,i){var l=i!=null&&i!=0?i:Date.now();C=i!=null&&i!=0?Date.now():l;var s=t!=null&&t!=""?t:f;return{name:e,time:l/1e3,module:s,obj_type:r,obj_id:o,uuid:a,extra:n}}function D(e,t,n){return T("content",null,{flags:t},null,null,e,n)}function x(e){var t=window.__mrdr;if(t)for(var n in t){var r=t[n];if(r[3]!==0){if(delete t[n],n==="1")if(h!==null)n=h;else continue;e.push(D(n,1,r[1])),e.push(D(n,2,r[2])),e.push(D(n,3,r[3]))}}}function $(t,r){if(x(t),t.length!==0){_&&t.push(T("counters",null,m));var o=n("Banzai").BASIC;r==="vital"&&(o=n("Banzai").VITAL);var a=n("MarauderConfig").gk_enabled;if(y===0&&a&&(t.push(T("device_status",null,I())),o={delay:5e3}),r==="signal"&&(o={signal:!0}),a&&Math.random()<.01&&t.push(T("device_info",null,k())),h!==null)for(var i=0;i<t.length;i++){var l=t[i];l.uuid==null&&(l.uuid=h)}var s={app_ver:n("MarauderConfig").app_version,data:t,device_id:void 0,log_type:e,seq:y++,session_id:E()},c=P().get("device_id");c&&(s.device_id=c),m={},_=!1,n("Banzai").post(u,s,o)}}function P(){return S||(S=new(n("CacheStorage"))("localstorage","")),S}function N(e){m[e]||(m[e]=0),m[e]++,_=!0}function M(e,t,n,r,o,a,i,l){$([T(e,t,n,r,o,a,i)],l)}function w(e,t){f!==t&&(p.push(T(l,f,{dest_module:t,source_url:g,destination_url:e})),f=t,g=e)}function A(e,t){f!==t&&(h=null,w(e,t))}function F(e,t,n){M(t?"show_module":"hide_module",e,n)}function O(e){f=e}function B(){return f}function W(e){h===null&&(h=e,e!==null&&($(p),p=[]))}a.exports={count:N,log:M,navigateTo:A,navigateWithinSession:w,toggleModule:F,setUUID:W,setNavigationModule:O,getNavigationModule:B}}),null);
__d("MqttConfig",["MqttWebConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("MqttWebConfig")}),98);
__d("MqttEnvWebSocket",[],(function(t,n,r,o,a,i){"use strict";function e(e){return new WebSocket(e)}i.createWebSocket=e}),66);
__d("MqttEnv",["MqttEnvWebSocket","clearTimeout","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15}),s=(function(){function e(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}var t=e.prototype;return t.random=function(){return this.$1!=null?this.$1():Math.random()},t.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0},t.setIsUserLoggedInNow=function(t){this.$2=t},t.clearTimeout=function(t){if(this.$3!=null){this.$3(t);return}r("clearTimeout")(t)},t.setTimeout=function(t,n){for(var e=arguments.length,o=new Array(e>2?e-2:0),a=2;a<e;a++)o[a-2]=arguments[a];return this.$4!=null?this.$4.apply(null,arguments):r("setTimeout").apply(null,arguments)},t.getLoggerInstance=function(){return this.$5!=null?this.$5():u.getInstance()},t.genGk=function(t){return this.$6!=null?this.$6(t):!1},t.createSocket=function(t,n){return this.$7!=null?this.$7(t,n):o("MqttEnvWebSocket").createWebSocket(t)},t.scheduleCallback=function(t){return this.$8!=null?this.$8(t):t()},t.scheduleLoggingCallback=function(t){return this.$9!=null?this.$9(t):t()},t.configRead=function(t,n){return this.$10!=null?this.$10(t,n):n},t.configWrite=function(t,n){this.$11!=null&&this.$11(t,n)},t.initialize=function(t,n,r,o,a,i,l,s,u,c,d){this.$1=t,this.$2=n,this.$3=r,this.$4=o,this.$5=a,this.$6=i,this.$7=l,this.$8=s,this.$9=u,this.$10=c,this.$11=d},e})(),u=(function(){function e(){}e.getInstance=function(){return new e};var t=e.prototype;return t.setAppId=function(t){},t.eventLogConnect=function(t){},t.eventLogPull=function(t){},t.eventLogPullFinish=function(t){},t.eventLogDisconnect=function(t){},t.eventLogOutgoingPublish=function(t){},t.eventLogIncomingPublish=function(t){},t.eventLogPublishTimeout=function(t){},t.eventLogMiscellaneousError=function(t){},t.logIfLoggedOut=function(){},t.logError=function(t){},t.logErrorWarn=function(t){},t.logWarn=function(t){},t.debugTrace=function(t){},t.bumpCounter=function(t){},t.getBrowserConnectivity=function(){return!0},e})(),c=new s;function d(e){c.setIsUserLoggedInNow(e)}l.MqttGkNames=e,l.Env=c,l.setIsUserLoggedInNow=d}),98);
__d("MqttProtocolUtils",["MqttEnv"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(e==null)return t;var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function s(e,t){var n=t,r=0,o=1,a;do{if(n===e.length)return null;a=e[n++],r+=(a&127)*o,o*=128}while((a&128)!==0);return{offset:n,value:r}}function u(e){for(var t=e,n=new Array(1),r=0;r<4;r++){var o=t%128;if(t>>=7,t>0)n[r]=o|128;else{n[r]=o;break}}return n}function c(e,t,n){var r=n;return t[r++]=e>>8,t[r++]=e%256,r}function d(e,t){return 256*e[t]+e[t+1]}function m(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);o<128?t+=1:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,n++):t+=3}return t}function p(e,t,n,r){var o=c(t,n,r);return _(e,n,o),o+t}function _(e,t,n){for(var r=n,o=0,a=e.length;o<a;o++){var i=e.charCodeAt(o);i<128?t[r++]=i:i<2048?(t[r++]=192|i>>6,t[r++]=128|i&63):i<55296||i>=57344?(t[r++]=224|i>>12,t[r++]=128|i>>6&63,t[r++]=128|i&63):(i=65536+((i&1023)<<10|e.charCodeAt(++o)&1023),t[r++]=240|i>>18,t[r++]=128|i>>12&63,t[r++]=128|i>>6&63,t[r++]=128|i&63)}}function f(e,t,n){for(var r=[],o=t,a=0;o<t+n;){var i=e[o++];if(i<128)r[a++]=String.fromCharCode(i);else if(i>191&&i<224){var l=e[o++];r[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){var s=e[o++],u=e[o++],c=e[o++],d=((i&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;r[a++]=String.fromCharCode(55296+(d>>10)),r[a++]=String.fromCharCode(56320+(d&1023))}else{var m=e[o++],p=e[o++];r[a++]=String.fromCharCode((i&15)<<12|(m&63)<<6|p&63)}}return r.join("")}var g=(function(){function e(e,t,n,r){this.$1=e,this.$2=t,this.$5=n,this.$6=r,this.$4=!1}var t=e.prototype;return t.$7=function(){var e=this;this.$4?(this.$4=!1,this.$5(),this.$3=o("MqttEnv").Env.setTimeout(function(){e.$7()},this.$2()*1e3)):this.$6()},t.reset=function(){var e=this;this.$4=!0,this.$3&&(o("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var t=this.$1()*1e3;t>0&&(this.$3=o("MqttEnv").Env.setTimeout(function(){e.$7()},t))},t.cancel=function(){this.$3&&(o("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)},e})();l.UTF8Length=m,l.convertStringToUTF8=_,l.concatBuffers=e,l.decodeMultiByteInt=s,l.convertUTF8ToString=f,l.encodeMultiByteInt=u,l.writeUInt16BE=c,l.readUInt16BE=d,l.writeString=p,l.Pinger=g}),98);
__d("MqttUtils",["MqttEnv"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return u(e,"sid",t.toString())}function s(e,t){var n=e;return t.forEach(function(e,t){n=u(n,t,e)}),n}function u(e,t,n){return e.indexOf("?")>0?e+"&"+t+"="+n:e+"?"+t+"="+n}function c(){return Math.floor(o("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)}function d(e,t,n){var r=arguments.length>1?e.then(t,n):e;r.then(null,function(e){o("MqttEnv").Env.setTimeout(function(){throw e instanceof Error?e:new Error("promiseDone")},0)})}function m(e,t,n,r){var a=!1;o("MqttEnv").Env.setTimeout(function(){a||(a=!0,n(new Error("promise timeout")))},r),d(e,function(e){a||(a=!0,t(e))},function(e){a||(a=!0,n(e))})}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0;return e.replace(/%s/g,function(){return String(n[o++])})}l.endpointWithSessionId=e,l.endpointWithExtraParameters=s,l.endpointWithExtraParameter=u,l.generateSessionId=c,l.promiseDone=d,l.promiseDoneWithTimeout=m,l.sprintf=p}),98);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(t,n,r,o,a,i,l){"use strict";var e=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),s=[0,6,77,81,73,115,100,112,3];function u(t,n){var a=n,i=a,l=t[a],s=l>>4;a+=1;var u=o("MqttProtocolUtils").decodeMultiByteInt(t,a);if(u==null)return{position:i,wireMessage:null};a=u.offset;var c=a+u.value;if(c>t.length)return{position:i,wireMessage:null};var d;switch(s){case e.CONNACK:{var p=t[a++],h=!!(p&1),y=t[a++];d=new f(h,y);break}case e.PUBLISH:{var v=l&15,S=v>>1&3,R=o("MqttProtocolUtils").readUInt16BE(t,a);a+=2;var L=o("MqttProtocolUtils").convertUTF8ToString(t,a,R);a+=R;var E=null;S===1&&(E=o("MqttProtocolUtils").readUInt16BE(t,a),a+=2);var k=C.createWithBytes(t.subarray(a,c)),I=(v&1)===1,T=(v&8)===8;d=new b(L,k,S,E,I,T);break}case e.PINGREQ:d=new m("PINGREQ");break;case e.PINGRESP:d=new m("PINGRESP");break;case e.PUBACK:case e.UNSUBACK:{var D=o("MqttProtocolUtils").readUInt16BE(t,a);d=new g(s===e.PUBACK?"PUBACK":"UNSUBACK",D);break}case e.SUBACK:{var x=o("MqttProtocolUtils").readUInt16BE(t,a);a+=2;var $=t.subarray(a,c);d=new _(x,$);break}default:throw r("err")(o("MqttUtils").sprintf("Invalid MQTT message type %s.",s))}return{position:c,wireMessage:d}}function c(e){for(var t=[],n=0;n<e.length;){var r=u(e,n),o=r.wireMessage;if(n=r.position,o)t.push(o);else break}var a=null;return n<e.length&&(a=e.subarray(n)),{messages:t,remaining:a}}var d=(function(){function t(t){this.messageType=e[t]}var n=t.prototype;return n.encode=function(){throw new TypeError("Cannot abstract class WireMessage")},t})(),m=(function(e){function t(t){return e.call(this,t)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=new ArrayBuffer(2),t=new Uint8Array(e);return t[0]=(this.messageType&15)<<4,e},t})(d),p=(function(e){function t(){return e.call(this,"DISCONNECT")||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=(this.messageType&15)<<4,t=new ArrayBuffer(2),n=new Uint8Array(t);return n[0]=e,n.set(o("MqttProtocolUtils").encodeMultiByteInt(0),1),t},t})(d),_=(function(e){function t(t,n){var r;return r=e.call(this,"SUBACK")||this,r.messageIdentifier=t,r.returnCode=n,r}return babelHelpers.inheritsLoose(t,e),t})(d),f=(function(e){function t(t,n){var r;return r=e.call(this,"CONNACK")||this,r.sessionPresent=t,r.returnCode=n,r}return babelHelpers.inheritsLoose(t,e),t})(d),g=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.messageIdentifier=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=(this.messageType&15)<<4,t=2,n=o("MqttProtocolUtils").encodeMultiByteInt(t),r=n.length+1,a=new ArrayBuffer(t+r),i=new Uint8Array(a);return i[0]=e,i.set(n,1),r=o("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,i,r),a},t})(d),h=(function(e){function t(t,n){var r;return r=e.call(this,"CONNECT")||this,r.clientId=t,r.connectOptions=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e,t=(this.messageType&15)<<4,n=s.length+3;n+=(e=o("MqttProtocolUtils")).UTF8Length(this.clientId)+2,n+=e.UTF8Length(this.connectOptions.userName)+2;var r=e.encodeMultiByteInt(n),a=new ArrayBuffer(1+r.length+n),i=new Uint8Array(a);i[0]=t;var l=1;i.set(r,1),l+=r.length,i.set(s,l),l+=s.length;var u=130;return i[l++]=u,l=e.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),i,l),l=e.writeString(this.clientId,e.UTF8Length(this.clientId),i,l),l=e.writeString(this.connectOptions.userName,e.UTF8Length(this.connectOptions.userName),i,l),a},t})(d),y=(function(t){function n(e,n,r,a){var i;if(i=t.call(this,e)||this,i.topic=n,r<0&&r>1||r===1&&a==null)throw new TypeError(o("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",r,e));return i.qos=r,i.messageIdentifier=a,i}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.encode=function(){var t=(this.messageType&15)<<4;t|=2;var n=o("MqttProtocolUtils").UTF8Length(this.topic),r=2+n+2;this.messageType===e.SUBSCRIBE&&(r+=1);var a=o("MqttProtocolUtils").encodeMultiByteInt(r),i=new ArrayBuffer(1+a.length+r),l=new Uint8Array(i);l[0]=t;var s=1;return l.set(a,1),s+=a.length,this.messageIdentifier!=null&&(s=o("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,l,s)),s=o("MqttProtocolUtils").writeString(this.topic,n,l,s),this.messageType===e.SUBSCRIBE&&this.qos!=null&&(l[s++]=this.qos),i},n})(d),C=(function(){function e(e,t){this.payloadString=e,this.payloadBytes=t}e.createWithString=function(n){var t=new Uint8Array(new ArrayBuffer(o("MqttProtocolUtils").UTF8Length(n)));return o("MqttProtocolUtils").convertStringToUTF8(n,t,0),new e(n,t)},e.createWithBytes=function(n){var t=o("MqttProtocolUtils").convertUTF8ToString(n,0,n.length);return new e(t,n)};var t=e.prototype;return t.string=function(){return this.payloadString},t.bytes=function(){return this.payloadBytes},e})(),b=(function(e){function t(t,n,r,o,a,i){var l;if(l=e.call(this,"PUBLISH")||this,l.topic=t,l.payloadMessage=n,l.qos=r,l.messageIdentifier=o,l.retained=a!=null?a:!1,l.duplicate=i!=null?i:!1,l.qos===1&&l.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return l}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=(this.messageType&15)<<4;this.duplicate&&(e|=8),e=e|=this.qos<<1,this.retained&&e!=1;var t=o("MqttProtocolUtils").UTF8Length(this.topic),n=t+2,r=this.qos===0?0:2;n+=r;var a=this.payloadMessage.bytes();n+=a.byteLength;var i=o("MqttProtocolUtils").encodeMultiByteInt(n),l=new ArrayBuffer(1+i.length+n),s=new Uint8Array(l);s[0]=e,s.set(i,1);var u=1+i.length;return u=o("MqttProtocolUtils").writeString(this.topic,t,s,u),this.qos!==0&&this.messageIdentifier!=null&&(u=o("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,s,u)),s.set(a,u),l},t})(d),v=C.createWithString,S=C.createWithBytes,R={Base:d,ConnAck:f,Connect:h,Disconnect:p,Ping:m,PubAckUnsubAck:g,Publish:b,Subscription:y};l.MESSAGE_TYPE=e,l.decodeMessage=u,l.decodeByteMessages=c,l.Message=C,l.createMessageWithString=v,l.createMessageWithBytes=S,l.WireMessage=R}),98);
__d("MqttTypes",[],(function(t,n,r,o,a,i){"use strict";var e=function(t,n,r){this.errorCode=t,this.errorName=n,this.errorMessage=r},l=Object.freeze({APP_DISCONNECT:new e(7,"APP_DISCONNECT","Disconnect initiated by app"),BROWSER_CLOSE:new e(11,"BROWSER_CLOSE","Browser closed"),CONNACK_FAILURE:new e(5,"CONNACK_FAILURE","Connection failure due to connack"),CONNECT_TIMEOUT:new e(4,"CONNECT_TIMEOUT","Connect timed out"),INVALID_DATA_TYPE:new e(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),PING_TIMEOUT:new e(6,"PING_TIMEOUT","Ping timeout"),RECONNECT:new e(10,"RECONNECT","Reconnecting"),SERVER_DISCONNECT:new e(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new e(9,"SOCKET_CLOSE","Socket connection closed"),SOCKET_ERROR:new e(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new e(2,"SOCKET_MESSAGE","Unable to parse invalid socket message")}),s=function(t,n){this.mqttError=t,this.connAck=n},u=(function(e){function t(t,n,r){var o;return r===void 0&&(r=null),o=e.call(this,n)||this,o.isRecoverable=t,o.originalError=r,o}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.MqttError=e,i.MqttErrors=l,i.ConnectFailure=s,i.MqttChannelError=u}),66);
__d("MqttUserNameUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e!=null?e:typeof document=="object"&&document!=null&&"hasFocus"in document&&document.hasFocus()}function l(){return navigator.userAgent}i.getMqttForegroundStatus=e,i.getUserAgent=l}),66);
__d("MqttUserName",["MqttUserNameUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r,a,i,l,s,u,c,d,m){l===void 0&&(l=null),s===void 0&&(s=""),u===void 0&&(u="websocket"),c===void 0&&(c=null),d===void 0&&(d=null),m===void 0&&(m=null),this.$1=e,this.$2=t,this.$3=n,this.$4=r,this.$5=a,this.$6=i,this.$7=o("MqttUserNameUtils").getMqttForegroundStatus(),this.$8=l,this.$9=s,this.$10=u,this.$11=c,this.$12=d,this.$13=m}var t=e.prototype;return t.gen=function(t,n,r,a){a===void 0&&(a=[]);var e=o("MqttUserNameUtils").getMqttForegroundStatus(this.$7),i=r.map(function(e){var t={isBase64Publish:!1,messageId:e.messageId,payload:e.payload,qos:e.qos,topic:e.topic};return typeof t.payload!="string"&&(t.payload=btoa(String.fromCharCode.apply(null,t.payload)),t.isBase64Publish=!0),t}),l={a:o("MqttUserNameUtils").getUserAgent(),asi:this.$13,aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:"",ecp:this.$2,fg:e,gas:this.$8,mqtt_sid:"",no_auto_fg:!0,p:this.$11,pack:a,php_override:this.$9,pm:i,s:t,st:n,u:this.$1};return JSON.stringify(l)},t.setForegroundState=function(t){this.$7=t},t.setChatVisibility=function(t){this.$6=t},t.getEndpointCapabilities=function(){return this.$2},t.getDeviceId=function(){return this.$4},t.setEndpointCapabilities=function(t){this.$2=t},t.getIsGuestAuthStringPresent=function(){return this.$8!==null},e})();l.default=e}),98);
__d("MqttWebSocketUtils",[],(function(t,n,r,o,a,i){"use strict";function e(){return"WebSocket"in t&&t.WebSocket!=null&&"CLOSING"in t.WebSocket.prototype}i.hasWSSupport=e}),66);/*FB_PKG_DELIM*/
__d("CometFeedClickEventsLoggerProvider.react",["CometFeedClickEventsLoggerContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.onPress,i;t[0]!==a?(i=function(t,n,r,o,i,l,s){a(t,n,r,o,i,l,s)},t[0]=a,t[1]=i):i=t[1];var l=i,u;return t[2]!==n||t[3]!==l?(u=s.jsx(r("CometFeedClickEventsLoggerContext").Provider,{value:l,children:n}),t[2]=n,t[3]=l,t[4]=u):u=t[4],u}l.default=c}),98);
__d("useCometFeedLoggingExtraFields",["CometFeedLoggingExtraFieldsContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometFeedLoggingExtraFieldsContext"))}l.default=u}),98);
__d("CometFeedLoggingExtraFieldsProvider.react",["CometFeedLoggingExtraFieldsContext","react","shallowEqual","useCometFeedLoggingExtraFields","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=t.children,o=t.extraFields,a=(e||(e=r("useUnsafeRef_DEPRECATED")))({}),i=r("useCometFeedLoggingExtraFields")(),l=babelHelpers.extends({},i,o);return r("shallowEqual")(a.current,l)||(a.current=l),u.jsx(r("CometFeedLoggingExtraFieldsContext").Provider,{value:a.current,children:n})}c.displayName=c.name+" [from "+i.id+"]";var d=u.memo(c);l.default=d}),98);
__d("CometMetricsClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1950603"),s=o("FalcoLoggerInternal").create("comet_metrics_click",e),u=s;l.default=u}),98);
__d("CometFeedStoryClickLoggerImpl.react",["CometFeedClickEventsLoggerProvider.react","CometFeedLoggingExtraFieldsProvider.react","CometMetricsClickFalcoEvent","react","react-compiler-runtime","useMigrateURLParamsToRouteParams","useMinifiedProductAttribution","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t,n,o,a,i,l){if(!(n==null||n==="")){var s=r("uuidv4")(),u=o===1?"middle_click":o===2?"right_click":o===-1?"dummy_click":"",c=l!=null?l:s;r("CometMetricsClickFalcoEvent").logImmediately(function(){return{click_type:u,event_trace_id:c,extra_fields:i,href:a,tn:t.join(""),ts:e.toString(),xt:n}})}}function c(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=r("useMigrateURLParamsToRouteParams")(),i=a.notif_t!=null?String(a.notif_t):null,l=a.notif_id!=null?+a.notif_id:null,c=r("useMinifiedProductAttribution")(),d;t[0]!==c||t[1]!==l||t[2]!==i?(d={nav_attribution_id_v2:c,notif_id:l,notif_type:i},t[0]=c,t[1]=l,t[2]=i,t[3]=d):d=t[3];var m;return t[4]!==n||t[5]!==d?(m=s.jsx(r("CometFeedClickEventsLoggerProvider.react"),{onPress:u,children:s.jsx(r("CometFeedLoggingExtraFieldsProvider.react"),{extraFields:d,children:n})}),t[4]=n,t[5]=d,t[6]=m):m=t[6],m}l.default=c}),98);
__d("DebugOwl",["cr:1801726"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){},s=n("cr:1801726")!=null?n("cr:1801726"):{burrow:e,flap:e,fly:e,hoot:e,listen:function(){return e},nest:e,peck:e,perch:e,swoop:e,getBlockedDebugOwlElements:function(){return new Map}},u=s;l.default=u}),98);
__d("cometGHLContentDisplayCheck",["cr:1824699"],(function(t,n,r,o,a,i,l){"use strict";var e=!0,s=!1;function u(t){if(c(t))return e;var r=document.body,o=r==null||!r.contains(t);if(n("cr:1824699")&&n("cr:1824699").flap(t,{notMounted:o}),o)return e;var a=t.offsetHeight===0;if(n("cr:1824699")&&n("cr:1824699").flap(t,{zeroHeight:a}),a)return s;var i=Array.from(t.getElementsByTagName("img")),l=i.length===0;if(n("cr:1824699")&&n("cr:1824699").flap(t,{noImages:l}),i.length===0)return e;var u=i.find(d)!=null;if(n("cr:1824699")&&n("cr:1824699").flap(t,{hasImageWithSize:u}),u)return e;var p=Array.from(t.getElementsByTagName("svg"));if(p.find(m)!=null)return e;var _=Array.from(t.getElementsByTagName("i"));return _.find(m)!=null?e:(n("cr:1824699")&&n("cr:1824699").flap(t,{noSuccessfulChecks:!0}),s)}var c=function(t){for(var e of t.children){var n;if(((n=e.dataset)==null?void 0:n.virtualized)==="true")return!t.style.display}return!1},d=function(t){return t.offsetHeight+t.offsetWidth>0},m=function(t){var e=t.getBoundingClientRect();return e.height*e.width>0};l.default=u}),98);
__d("CometGHLDisplayMonitor",["DebugOwl","FBLogger","GHLGating","clearTimeout","cometGHLContentDisplayCheck","setTimeoutCometLoggingPri"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=1e3,u=null,c=!1,d=new Set,m=function(n,o){e.has(n)||e.set(n,new Set);var t=e.get(n);return t==null?(r("FBLogger")("GHL").mustfix("Expected Set to be declared for container"),{dispose:function(){}}):(t.add(o),u===null&&p(),{dispose:function(){t.delete(o),t.size===0&&(e.delete(n),e.size===0&&(r("clearTimeout")(u),u=null))}})},p=function(){e.forEach(function(e,t){var n=t.current;n==null||g(n)||!r("cometGHLContentDisplayCheck")(n)||e.forEach(function(e,t){var n=t.onLogBlockCallback,o=t.startTime,a=t.targetRef,i=a.current;if(r("DebugOwl").hoot(i),i!=null){var l=g(i)!=null;if(r("DebugOwl").flap(i,{hiddenByFB:l}),!l){var s=r("cometGHLContentDisplayCheck")(i);if(!s){var u=Date.now()-o;n(u),f()}}}})}),u=r("setTimeoutCometLoggingPri")(p,s)},_=function(t){return d.add(t),c&&t(),{dispose:function(){d.delete(t)}}},f=function(){c!==!0&&(c=!0,d.forEach(function(e){return e()}))},g=function(t){return t.closest==null||t.closest(h)},h=(function(){return"."+"x1s85apg".split(" ").pop()+(o("GHLGating").getCometGhlContentVisibility()?",."+"xdps06".split(" ").pop():"")})();l.m=m,l.subscribeAny=_}),98);
__d("GhlTennisKnobsConfig.experimental",["cr:19611"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:19611")}),98);
__d("GHLBox",["FBLogger","GhlTennisKnobsConfig.experimental","Promise","WebStorage","getErrorSafe","gkx","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("json-bigint").__setRef("GHLBox"),c=atob("YXJlc19sYXN0X3NpZ25hbF9mbHVzaA=="),d=atob("YmR6X3BsYXliYWNrX3N0YXRl"),m=36,p=r("gkx")("20995"),_=r("GhlTennisKnobsConfig.experimental").ghlbox_log_validity_in_mins*60*1e3,f=r("GhlTennisKnobsConfig.experimental").ghlbox_initialize_in_mins*60*1e3,g=1,h=function(){return new(s||(s=n("Promise")))(function(e){u.onReady(function(t){var n=y(t,!0),r=y(t);return n===0&&r===0?e(!1):n!==r?(b(Date.now()),e(!0)):Date.now()-r<=_?e(!0):e(!1)})})},y=function(n,o){o===void 0&&(o=!1);var t=(e||(e=r("WebStorage"))).getLocalStorageForRead();if(!t||!p)return 0;var a,i;if(o){var s,u;a=(s=(u=n.parse(t.getItem(d)))==null?void 0:u.session_key)!=null?s:"",i=Number.parseInt(a,m)}else{var l;a=(l=t.getItem(c))!=null?l:"",i=Number.parseInt(a,10)}return Number.isFinite(i)?i:0},C=function(){var t=(e||(e=r("WebStorage"))).getLocalStorage();!t||!p||t.getItem(c)===null&&t.getItem(d)===null&&b(Date.now()-f)},b=function(n){u.onReady(function(t){var o=(e||(e=r("WebStorage"))).getLocalStorage();if(o&&p){var a=n.toString();try{o.setItem(c,a)}catch(e){r("FBLogger")("GHLBox").warn("Exception while writing to local storage exception: %s, tss: %s, tss.length: (%d)",r("getErrorSafe")(e).message,a,a.length)}var i={session_key:n.toString(m),buffer_length:60};o.setItem(d,t.stringify(i))}})},v=b,S=h,R=C;l.MinimumHiddenAdsToUpdateLocalStorage=g,l.s=v,l.r=S,l.i=R}),98);
__d("CometGHLTracker",["DebugOwl","GHLBox"],(function(t,n,r,o,a,i,l){"use strict";var e=new Set;function s(t){r("DebugOwl").swoop(t),e.add(t),e.size>o("GHLBox").MinimumHiddenAdsToUpdateLocalStorage&&o("GHLBox").s(Date.now())}function u(t){return e.has(t)}function c(t){return e.delete(t)}function d(){return e.size>0}function m(){return e.size}l.m=s,l.c=u,l.d=c,l.b=d,l.s=m}),98);
__d("CometHomeRightSideEgoMenuQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9735285883248825"}),null);
__d("CometLegacyClickableListItemBase.react",["CometLegacyListItemBase.react","CometPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["addon","attributionsrc","brid","children","fbclid","href","indented","lynxMode","onClick","rel","replace","right","routeTarget","selected","target"],u,c=u||(u=o("react")),d=u.useId,m={button:{":active_transform":"x1pdlv7q",$$css:!0},indented:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"x13jy36j",$$css:!0},listItem:{borderTop:"x6umtig",borderInlineEnd:"x12wdn4z",borderBottom:"xaqea5y",borderInlineStart:"x1f0uuog",borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",cursor:"x1ypdohk",fontFamily:"xjb2p0i",marginTop:"xdj266r",marginInlineEnd:"x1xegmmw",marginBottom:"xat24cr",marginInlineStart:"x13fj5qh",textAlign:"x1yc453h",$$css:!0},selected:{backgroundColor:"x1iutvsz",$$css:!0},unindented:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},unselected:{":active_backgroundColor":"x1164lod",":hover_backgroundColor":"x8du52y",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(58),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,u,p,_,f,g,h,y,C,b,v,S,R,L,E,k;if(n[3]!==a){var I=a;S=I.addon,l=I.attributionsrc,u=I.brid,p=I.children,_=I.fbclid,f=I.href,R=I.indented,g=I.lynxMode,h=I.onClick,C=I.rel,b=I.replace,L=I.right,v=I.routeTarget,E=I.selected,k=I.target,y=babelHelpers.objectWithoutPropertiesLoose(I,s),n[3]=a,n[4]=l,n[5]=u,n[6]=p,n[7]=_,n[8]=f,n[9]=g,n[10]=h,n[11]=y,n[12]=C,n[13]=b,n[14]=v,n[15]=S,n[16]=R,n[17]=L,n[18]=E,n[19]=k}else l=n[4],u=n[5],p=n[6],_=n[7],f=n[8],g=n[9],h=n[10],y=n[11],C=n[12],b=n[13],v=n[14],S=n[15],R=n[16],L=n[17],E=n[18],k=n[19];var T=S===void 0?null:S,D=R===void 0?!1:R,x=L===void 0?null:L,$=E===void 0?!1:E,P=d(),N=i,M;n[20]===Symbol.for("react.memo_cache_sentinel")?(M={className:"x1n2onr6"},n[20]=M):M=n[20];var w;n[21]!==l||n[22]!==u||n[23]!==_||n[24]!==f||n[25]!==g||n[26]!==C||n[27]!==b||n[28]!==v||n[29]!==k?(w={attributionsrc:l,brid:u,fbclid:_,lynxMode:g,rel:C,replace:b,routeTarget:v,target:k,url:f},n[21]=l,n[22]=u,n[23]=_,n[24]=f,n[25]=g,n[26]=C,n[27]=b,n[28]=v,n[29]=k,n[30]=w):w=n[30];var A=D&&m.indented,F=!D&&m.unindented,O=$&&m.selected,B=!$&&m.unselected,W;n[31]!==B||n[32]!==A||n[33]!==F||n[34]!==O?(W=[m.listItem,A,F,O,B],n[31]=B,n[32]=A,n[33]=F,n[34]=O,n[35]=W):W=n[35];var q;n[36]!==P||n[37]!==p?(q=c.jsx("div",{id:P,suppressHydrationWarning:!0,children:p}),n[36]=P,n[37]=p,n[38]=q):q=n[38];var U;n[39]!==T||n[40]!==W||n[41]!==q?(U=c.jsx(r("CometLegacyListItemBase.react"),{addon:T,xstyle:W,children:q}),n[39]=T,n[40]=W,n[41]=q,n[42]=U):U=n[42];var V;n[43]!==P||n[44]!==N||n[45]!==h||n[46]!==y||n[47]!==U||n[48]!==w?(V=c.jsx(r("CometPressable.react"),babelHelpers.extends({},y,{"aria-labelledby":P,expanded:!0,linkProps:w,onPress:h,ref:N,xstyle:m.button,children:U})),n[43]=P,n[44]=N,n[45]=h,n[46]=y,n[47]=U,n[48]=w,n[49]=V):V=n[49];var H;n[50]!==x?(H=x!=null&&c.jsx("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xdg88n9 x10l6tqk x13vifvy",children:x}),n[50]=x,n[51]=H):H=n[51];var G;n[52]!==y.disabled?(G=y.disabled===!0?c.jsx("div",{className:"x1f2gare x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy x6umtig x12wdn4z xaqea5y x1f0uuog x1i5p2am x1whfx0g xr2y4jy x1ihp6rs x1ypdohk xjb2p0i xdj266r x1xegmmw xat24cr x13fj5qh x1yc453h"}):null,n[52]=y.disabled,n[53]=G):G=n[53];var z;return n[54]!==V||n[55]!==H||n[56]!==G?(z=c.jsxs("div",babelHelpers.extends({},M,{children:[V,H,G]})),n[54]=V,n[55]=H,n[56]=G,n[57]=z):z=n[57],z}l.default=p}),98);
__d("CometMetricsChannel2ViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1960868"),s=o("FalcoLoggerInternal").create("comet_metrics_channel2_viewability",e),u=s;l.default=u}),98);
__d("CometMetricsViewableImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1900896"),s=o("FalcoLoggerInternal").create("comet_metrics_viewable_impression",e),u=s;l.default=u}),98);
__d("XPrivacySandboxTopicsAPIReportingControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/privacy_sandbox/topics/reporting/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("getCentralImpressionScrollSpeed",["cr:5662"],(function(t,n,r,o,a,i){"use strict";var e=0,l=Date.now(),s=null,u=null;function c(e){n("cr:5662").listen(window,"scroll",function(){u&&clearTimeout(u),u=setTimeout(function(){return e()},100)},n("cr:5662").Priority.NORMAL,{passive:!0})}function d(){var t=window.scrollY,n=Date.now();if(s!=null&&n!==l){var r=t-s;e=r/(n-l)*1e3}s=t,l=n}c(function(){e=0,s=null}),n("cr:5662").listen(window,"scroll",function(){return d()},n("cr:5662").Priority.NORMAL,{passive:!0}),a.exports=function(){return e}}),null);
__d("getCentralImpressionTimeAfterRefresh",[],(function(t,n,r,o,a,i){"use strict";var e=null;window.addEventListener("load",function(){e=Date.now()},{passive:!0});function l(){return e!=null?Date.now()-e:0}i.default=l}),66);
__d("gpsTopicsConstants",[],(function(t,n,r,o,a,i){"use strict";var e={LOGGING_EVENT_NAME:"topics_api_reporting",LOGGING_PROJECT_NAME:"privacy_sandbox_topics_api",MESSAGE_PREFIX:"[Topics API][Comet Reporting]"},l=e;i.default=l}),66);
__d("isTopicsAPIEnabledForReporting",["FBLogger","gkx","gpsTopicsConstants","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(){if(navigator.userAgent.indexOf("Chrome")<0){if(r("justknobx")._("4782")){var e=r("gpsTopicsConstants").MESSAGE_PREFIX+" user-agent topic reporting check failed for agent: "+navigator.userAgent;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).debug(e)}return!1}return r("gkx")("6546")}l.default=e}),98);
__d("localStorageAccessor",["FBLogger","WebStorage","gpsTopicsConstants"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){try{var t=(e||(e=r("WebStorage"))).getLocalStorage();if(t==null)return!1}catch(e){var n=e instanceof Error&&Object.prototype.hasOwnProperty.call(e,"message")?e.message:"Unknown",o=r("gpsTopicsConstants").MESSAGE_PREFIX+" isLocalItemSupported issue: "+n;return r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(o),!1}return!0},u=function(n,o){if(s()){var t=(e||(e=r("WebStorage"))).getLocalStorage();e.setItemGuarded(t,n,o.toString())}},c=function(n){if(!s())return null;var t=(e||(e=r("WebStorage"))).getLocalStorage();if(t==null)return null;var o=t.getItem(n);if(o==null)return null;var a=Number(o);return a};l.isLocalItemSupported=s,l.getLocalItem=c,l.setLocalItem=u}),98);
__d("registerSourceForView",["DTSG","DTSGUtils","SprinkleConfig","XCometPrivacySandboxRegisterSourceControllerRouteBuilder","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(r("justknobx")._("1464")){var n={eventSourceEligible:!0,triggerEligible:!1},a={},i=r("XCometPrivacySandboxRegisterSourceControllerRouteBuilder").buildUri({}).toString();e!=null&&e.length>0?a.eid=e:t!=null&&t.length>0&&(a.xt=t);var l=o("DTSG").getToken();l!=null&&l.length>0&&(a.fb_dtsg=l,r("SprinkleConfig").param_name.length>0&&(a[r("SprinkleConfig").param_name]=r("DTSGUtils").getNumericValue(l)));var s=Object.keys(a).map(function(e){return[encodeURIComponent(e),encodeURIComponent(a[e])].join("=")}).join("&");window.fetch(i,{attributionReporting:n,body:s,headers:{"Content-Type":"application/x-www-form-urlencoded"},keepalive:!0,method:"POST"}).catch(function(){})}}l.default=e}),98);
__d("shouldReportTopicsOnSchedule",["FBLogger","gpsTopicsConstants","justknobx","localStorageAccessor"],(function(t,n,r,o,a,i,l){"use strict";var e="topicsLastReportingTime",s=36e5;function u(){var t=r("justknobx")._("4782"),n=o("localStorageAccessor").isLocalItemSupported();if(t){var a=r("gpsTopicsConstants").MESSAGE_PREFIX+" on-schedule reporting support status: "+String(n)+", for reporting agent: "+navigator.userAgent;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).debug(a)}if(!n)return!1;var i=!1;try{var l=o("localStorageAccessor").getLocalItem(e);if(l==null)return o("localStorageAccessor").setLocalItem(e,Date.now()),!0;var u=Number(l),c=Date.now(),d=Number(c),m=r("justknobx")._("4792");i=d-u>=m*s,i&&o("localStorageAccessor").setLocalItem(e,Date.now())}catch(e){var p=e instanceof Error&&Object.prototype.hasOwnProperty.call(e,"message")?e.message:"Unknown",_=r("gpsTopicsConstants").MESSAGE_PREFIX+" shouldReportTopicsOnSchedule issue: "+p;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(_),i=!1}return i}l.default=u}),98);
__d("reportTopicsForView",["DTSG","DTSGUtils","FBLogger","SprinkleConfig","XPrivacySandboxTopicsAPIReportingControllerRouteBuilder","gkx","gpsTopicsConstants","isTopicsAPIEnabledForReporting","shouldReportTopicsOnSchedule"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){var e={};e.token=t;var n=o("DTSG").getToken();return n!=null&&n.length>0&&(e.fb_dtsg=n,r("SprinkleConfig").param_name.length>0&&(e[r("SprinkleConfig").param_name]=r("DTSGUtils").getNumericValue(n))),e},s=function(t){window.fetch(r("XPrivacySandboxTopicsAPIReportingControllerRouteBuilder").buildURL({}),{body:Object.keys(t).map(function(e){return[encodeURIComponent(e),encodeURIComponent(t[e])].join("=")}).join("&"),browsingTopics:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},keepalive:!0,method:"POST",skipObservation:!0}).catch(function(e){var t=e==null?"Unknown":e.message,n=r("gpsTopicsConstants").MESSAGE_PREFIX+" reportTopicsThroughRouter issue: "+t;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(n)})};function u(t){if(!(t==null||t.length===0))try{if(!r("isTopicsAPIEnabledForReporting")()||!r("shouldReportTopicsOnSchedule")())return;s(e(t))}catch(e){var n=e instanceof Error&&Object.prototype.hasOwnProperty.call(e,"message")?e.message:"Unknown",o=r("gpsTopicsConstants").MESSAGE_PREFIX+" reportTopicsForView issue: "+n;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(o)}}function c(e){e==null||e.length===0||r("gkx")("13576")&&u(e)}l.reportTopicsForView=u,l.reportTopicsForViewMainObserver=c}),98);
__d("sendImpressionEnterActionValidationData",["CometMetricsChannel2ViewabilityFalcoEvent","CometTimeSpentNavigation","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){var i=t.impressedAt,l=r("CometTimeSpentNavigation").getPathInfo(),s=r("uuidv4")(),u=r("getCentralImpressionScrollSpeed")(),c=o("WebSession").getId(),d={intersect_rect:t.intersectionRect,root:t.rootBounds,target_rect:t.boundingClientRect};r("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{csp:a.csp!=null?String(a.csp):"",cts:i.toString(),eid:a.eid!=null?String(a.eid):"",event_trace_id:s,framework:e,me:l?l.name:null,pre_rs:n?n.invisibleReason:null,rects:d,scroll_speed:u.toString(),sk:c,time_from_load:r("getCentralImpressionTimeAfterRefresh")().toString(),vp:t.visiblePercentage.toString(),xt:a.xt!=null?String(a.xt):""}})}l.default=e}),98);
__d("sendImpressionExitActionValidationData",["CometMetricsChannel2ViewabilityFalcoEvent","CometTimeSpentNavigation","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){var i=t.impressedAt,l=r("CometTimeSpentNavigation").getPathInfo(),s=r("uuidv4")(),u=i!=null&&i!==0?Date.now()-i:null,c={intersect_rect:t.intersectionRect,root:t.rootBounds,target_rect:t.boundingClientRect};r("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{csp:a.csp!=null?String(a.csp):"",cts:String(i),duration:u!=null?String(u):null,eid:a.eid!=null?String(a.eid):"",event_trace_id:s,exit_rs:t.invisibleReason,framework:e,me:l?l.name:null,pre_rs:Object.prototype.hasOwnProperty.call(a,"pre_rs")?String(a.pre_rs):"",pre_vp:n?String(n.visiblePercentage):null,rects:c,scroll_speed:r("getCentralImpressionScrollSpeed")().toString(),sk:o("WebSession").getId(),time_from_load:r("getCentralImpressionTimeAfterRefresh")().toString(),vp:t.visiblePercentage!=null?t.visiblePercentage.toString():null,xt:a.xt!=null?String(a.xt):""}})}l.default=e}),98);
__d("useCometGHLDisplayMonitor",["CometGHLDisplayMonitor","GHLSurfaceContainerContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useRef;function m(e,t){var n=o("react-compiler-runtime").c(5),a=d(null),i=u(r("GHLSurfaceContainerContext")),l,s;return n[0]!==i||n[1]!==e||n[2]!==t?(l=function(){var n=null,r=Date.now();if(i!==null&&e)return n=o("CometGHLDisplayMonitor").m(i,{onLogBlockCallback:t,startTime:r,targetRef:a}),(function(){n&&n.dispose()})},s=[i,e,t],n[0]=i,n[1]=e,n[2]=t,n[3]=l,n[4]=s):(l=n[3],s=n[4]),c(l,s),a}l.default=m}),98);
__d("useMenuButtonVisibilityState",["FocusManager","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useMemo,d=s.useReducer,m={btnFocused:!1,btnHovered:!1,itemFocused:!1,itemHovered:!1,menuOpened:!1};function p(e,t){switch(t.type){case"menubtnhover":return babelHelpers.extends({},e,{btnHovered:t.value});case"menubtnfocus":return babelHelpers.extends({},e,{btnFocused:t.value});case"listitemhover":return babelHelpers.extends({},e,{itemHovered:t.value},!t.value&&{btnFocused:!1});case"listitemfocus":return babelHelpers.extends({},e,{itemFocused:t.value});case"menuopen":return t.value?babelHelpers.extends({},e,{menuOpened:t.value}):{btnFocused:e.btnFocused,btnHovered:!1,itemFocused:e.itemFocused,itemHovered:!1,menuOpened:!1};default:return e}}function _(e){var t=o("react-compiler-runtime").c(13),n=e===void 0?!1:e,r=d(p,m),a=r[0],i=r[1],l=a.btnFocused,s=a.btnHovered,u=a.itemFocused,c=a.itemHovered,_=a.menuOpened,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=function(t){i({type:"menubtnhover",value:t})},t[0]=f):f=t[0];var g=f,h;t[1]===Symbol.for("react.memo_cache_sentinel")?(h=function(t){i({type:"listitemhover",value:t})},t[1]=h):h=t[1];var y=h,C;t[2]===Symbol.for("react.memo_cache_sentinel")?(C=function(t){i({type:"menuopen",value:t})},t[2]=C):C=t[2];var b=C,v;t[3]!==n?(v=function(t){t?(n||!o("FocusManager").isFocusingWithoutUserIntent())&&i({type:"menubtnfocus",value:!0}):i({type:"menubtnfocus",value:!1})},t[3]=n,t[4]=v):v=t[4];var S=v,R;t[5]!==n?(R=function(t){t?(n||!o("FocusManager").isFocusingWithoutUserIntent())&&i({type:"listitemfocus",value:!0}):i({type:"listitemfocus",value:!1})},t[5]=n,t[6]=R):R=t[6];var L=R,E=l||s||c||u||_,k;t[7]!==L||t[8]!==S?(k={setListItemFocused:L,setListItemHovered:y,setMenuBtnFocused:S,setMenuBtnHovered:g,setMenuOpened:b},t[7]=L,t[8]=S,t[9]=k):k=t[9];var I;return t[10]!==E||t[11]!==k?(I=[E,k],t[10]=E,t[11]=k,t[12]=I):I=t[12],I}l.default=_}),98);/*FB_PKG_DELIM*/
__d("CometAdsRenderingValidationContext",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({dispatcher:function(t){r("FBLogger")("comet_ads").mustfix("CometAdsRenderingValidationLoggingContext is not initialized with a valid dispatcher")},sponsoredData:null,state:null});l.default=u}),98);
__d("CometAggregatedEntitiesTooltipRenderer_entities.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n=[e,t];return{argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometAggregatedEntitiesTooltipRenderer_entities",selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:n,type:"User",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_prioritize_ig_display_name",storageKey:null}],type:"InstagramUserV2",abstractKey:null}],storageKey:null}],type:"AggregatedEntitiesAtRange",abstractKey:null}})();a.exports=e}),null);
__d("CometAggregatedEntitiesTooltipRenderer",["fbt","BaseTooltipMultilineContent.react","CometAggregatedEntitiesTooltipRenderer_entities.graphql","FDSTooltip.react","react","translatedServerString"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));e!==void 0||(e=n("CometAggregatedEntitiesTooltipRenderer_entities.graphql"));function d(e,t){var n,o,a=(n=t.count)!=null?n:0,i=(o=t.sample_entities)!=null?o:[];i=i.filter(function(e){return e.__typename==="User"||e.__typename==="Page"||e.__typename==="InstagramUserV2"});var l=a-i.length,u=l>0,d=[];return i.forEach(function(e){if((e.__typename==="User"||e.__typename==="Page")&&e.name!=null)d.push(r("translatedServerString")(e.name));else if(e.__typename==="InstagramUserV2"){var t=e.name!=null&&e.name!=="",n=t&&e.should_prioritize_ig_display_name===!0?e.name:e.username;n!=null&&d.push(r("translatedServerString")(n))}}),u&&d.push(s._(/*BTDS*/"and {count} more...",[s._param("count",l)])),i.length!==0?c.jsx(r("FDSTooltip.react"),{forceInlineDisplay:!0,tooltip:c.jsx(r("BaseTooltipMultilineContent.react"),{children:d}),children:c.jsx("span",{className:"xzsf02u x1ypdohk x1s688f",children:e})}):null}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("CometFeedUnitOnFeedUnitErrorContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometFeedUnitShouldPropagateErrorContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!0);l.default=u}),98);
__d("useOnInitialMount",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(2),n=c(!1),r;t[0]!==e?(r=function(){n.current||(n.current=!0,e())},t[0]=e,t[1]=r):r=t[1],u(r,void 0)}l.default=d}),98);
__d("CometOnInitialMount.react",["useOnInitialMount"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.onInitialMount;return r("useOnInitialMount")(t),null}l.default=e}),98);
__d("useCommitCountRef",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useRef;function d(){var e=o("react-compiler-runtime").c(1),t=c(0),n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=function(){t.current=t.current+1},e[0]=n):n=e[0],u(n,void 0),t}l.default=d}),98);
__d("CometFeedMatchRenderer.react",["CometErrorBoundary.react","CometFeedUnitLoggingContext","CometFeedUnitOnFeedUnitErrorContext","CometFeedUnitShouldPropagateErrorContext","CometOnInitialMount.react","CometRelay","FBLogger","ODS","XPlatReactEnvironment","react","react-compiler-runtime","requireDeferred","useCommitCountRef"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext,p=c.useEffect,_=c.useRef,f=r("requireDeferred")("CometFeedStoriesStrategyErrorsTypedLoggerLite").__setRef("CometFeedMatchRenderer.react");function g(e){var t=o("react-compiler-runtime").c(33),n=e.match,a=e.matchRequired,i=e.onUnsupported,l=e.preventErrorsFromFailingTheFeedUnit_USE_WITH_CAUTION,c=e.props,d=e.section,g=e.trackingData,h=a===void 0?!1:a,y=n!=null&&n.__module_component!=null?n:null,C=r("useCommitCountRef")(),b=m(r("CometFeedUnitOnFeedUnitErrorContext")),v=m(r("CometFeedUnitShouldPropagateErrorContext")),S=m(r("CometFeedUnitLoggingContext")),R=S.position,L=S.renderLocation,E;t[0]!==y?(E=y!=null?o("CometRelay").ModuleResource.getModuleId(y):null,t[0]=y,t[1]=E):E=t[1];var k=E,I=_(!1),T,D;t[2]!==k?(T=function(){!I.current&&k!=null&&o("XPlatReactEnvironment").isWeb()&&((s||(s=o("ODS"))).bumpFraction(3478,"comet_feed_strategy_errors",k,0,1),s.bumpEntityKey(3478,"comet_feed_strategy_impressions",k),I.current=!0)},D=[k],t[2]=k,t[3]=T,t[4]=D):(T=t[3],D=t[4]),p(T,D);var x;t[5]!==h||t[6]!==i||t[7]!==d?(x=function(){i!=null&&i(),h&&r("FBLogger")("comet_feed").mustfix("match required for Comet Feed section %s and none was found",d)},t[5]=h,t[6]=i,t[7]=d,t[8]=x):x=t[8];var $=x,P=l!=null?!l:v,N;t[9]!==C||t[10]!==R||t[11]!==b||t[12]!==L||t[13]!==d||t[14]!==P||t[15]!==k||t[16]!==g?(N=function(t){if(k!=null&&o("XPlatReactEnvironment").isWeb()&&(s||(s=o("ODS"))).bumpFraction(3478,"comet_feed_strategy_errors",k,1,0),f.onReady(function(e){e.log({error_name:t.message,error_propagated_to_feed_unit:b!=null&&P,is_within_feed_unit:b!=null,num_commits_before_error:C.current,position:R,render_location:L!=="%future added value"?L:null,section:d,strategy:k,tracking_data:g})}),b==null)throw r("FBLogger")("CometFeedSectionErrorOutsideFeedUnit").info("%s threw a js error outside of CometFeedUnit.",k!=null?k:"Unknown Strategy/Attachment Renderer"),t;P&&b(t)},t[9]=C,t[10]=R,t[11]=b,t[12]=L,t[13]=d,t[14]=P,t[15]=k,t[16]=g,t[17]=N):N=t[17];var M=N;if(y==null){var w;return t[18]!==$?(w=u.jsx(r("CometOnInitialMount.react"),{onInitialMount:$}),t[18]=$,t[19]=w):w=t[19],w}var A;t[20]===Symbol.for("react.memo_cache_sentinel")?(A={project:"CometFeedSectionErrorBoundary"},t[20]=A):A=t[20];var F;t[21]!==$?(F=u.jsx(r("CometOnInitialMount.react"),{onInitialMount:$}),t[21]=$,t[22]=F):F=t[22];var O;t[23]!==y||t[24]!==c||t[25]!==F?(O=u.jsx(o("CometRelay").MatchContainer,{fallback:F,match:y,props:c}),t[23]=y,t[24]=c,t[25]=F,t[26]=O):O=t[26];var B;t[27]!==P||t[28]!==O?(B=u.jsx(r("CometFeedUnitShouldPropagateErrorContext").Provider,{value:P,children:O}),t[27]=P,t[28]=O,t[29]=B):B=t[29];var W;return t[30]!==M||t[31]!==B?(W=u.jsx(r("CometErrorBoundary.react"),{context:A,onError:M,children:B}),t[30]=M,t[31]=B,t[32]=W):W=t[32],W}l.default=g}),98);
__d("CometFeedStandardAttachedStoryLevelContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(0);l.default=u}),98);
__d("CometFeedStoryAttachmentCommandWidget",["createKeyCommandWidget"],(function(t,n,r,o,a,i,l){"use strict";var e=r("createKeyCommandWidget")(),s=e,u=e.useKeyCommands;function c(e){return u(e,!0)}e.useKeyCommands=c,l.default=s}),98);
__d("CometFeedStoryInfoIconSection_story.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryInfoIconSection_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"17xwNy"}],concreteType:null,kind:"LinkedField",name:"info_icon",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryInfoIconSection_story",fragmentName:"CometFeedStoryArticleContextIconStrategy_infoIcon",fragmentPropName:"infoIcon",kind:"ModuleImport"}],type:"CometStoryArticleContextIconStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryInfoIconSection_story",fragmentName:"CometFeedStoryBrandedContentIconStrategy_infoIcon",fragmentPropName:"infoIcon",kind:"ModuleImport"}],type:"CometStoryBrandedContentIconStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryInfoIconSection_story",fragmentName:"CometFeedStoryRightsManagerAttributionIconStrategy_infoIcon",fragmentPropName:"infoIcon",kind:"ModuleImport"}],type:"CometStoryRightsManagerAttributionIconStrategy",abstractKey:null}],storageKey:'info_icon(supported:"17xwNy")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],type:"Story",abstractKey:null};a.exports=e}),null);
__d("CometFeedStoryInfoIconSection.react",["CometFeedMatchRenderer.react","CometFeedStoryInfoIconSection_story.graphql","CometRelay","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i,l=o("react-compiler-runtime").c(4),s=t.story,c=o("CometRelay").useFragment(e!==void 0?e:e=n("CometFeedStoryInfoIconSection_story.graphql"),s);if((c==null||(a=c.comet_sections)==null?void 0:a.info_icon)==null)return null;var d=c==null||(i=c.comet_sections)==null?void 0:i.info_icon,m;l[0]===Symbol.for("react.memo_cache_sentinel")?(m={},l[0]=m):m=l[0];var p=c==null?void 0:c.encrypted_tracking,_;return l[1]!==d||l[2]!==p?(_=u.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:303,children:u.jsx(r("CometFeedMatchRenderer.react"),{match:d,props:m,section:"info_icon",trackingData:p})}),l[1]=d,l[2]=p,l[3]=_):_=l[3],_}l.default=c}),98);
__d("CometFeedUnitIsFocusedStoryViewContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("CometFeedUnitTranslationLabelContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometFocusedStoryViewPortableVideoContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometGHLScrambledLabelMitigationLoggerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({trackingData:null});l.default=u}),98);
__d("CometGHLScrambledLabelScreenReaderContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=!1,c=s.createContext(u),d=c;l.default=d}),98);
__d("CometGroupFeedOptimizeStructureContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("CometImageEntityRenderer_entity.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"CometImageEntityRenderer_entity",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],type:"ImageAtRange",abstractKey:null};a.exports=e}),null);
__d("CometImageEntityRenderer",["CometImage.react","CometImageEntityRenderer_entity.graphql","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={image:{display:"x1rg5ohu",verticalAlign:"x1dg2w4v",$$css:!0}};e!==void 0||(e=n("CometImageEntityRenderer_entity.graphql"));function d(e){return e===void 0&&(e={imageXStyle:null}),function(t,n){var o,a,i=(o=(a=n.entity_with_image)==null?void 0:a.image)!=null?o:{},l=i.height,s=i.scale,d=i.uri,m=i.width;return l==null||d==null||m==null||s==null?t:u.jsxs(u.Fragment,{children:[u.jsx(r("CometImage.react"),{height:l/s,src:d,width:m/s,xstyle:[c.image,e.imageXStyle]})," "]})}}l.default=d}),98);
__d("CometStoryAttachmentFooter.react",["fbt","BaseRow.react","BaseRowItem.react","CometEmojiTransform","CometFeedGating","CometImage.react","CometPressable.react","CometTextWithEntities.react","FBLogger","FDSText.react","FDSTextPairing.react","FDSTextWithBadge.react","ODS","XPlatReactEnvironment","gkx","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect,_=d.useMemo,f=d.useState,g={body:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},container:{marginInlineEnd:"x1ws5yxj",marginInlineStart:"xw01apr",paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xz9dl7a",$$css:!0},containerWithFooterImage:{alignItems:"x6s0dn4",columnGap:"xtqikln",display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"xwib8y2",paddingLeft:"xf18ygs",paddingRight:"xnuq7ks",paddingInlineStart:null,paddingInlineEnd:null,paddingTop:"x1y1aw1k",$$css:!0},ctaWithFooterImage:{display:"x78zum5",marginLeft:"xl8cphy",marginInlineStart:null,marginInlineEnd:null,paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",$$css:!0},footerImage:{alignItems:"x1cy8zhl",borderTopColor:"x1exxf4d",borderInlineEndColor:"xpv9jar",borderBottomColor:"x1nb4dca",borderInlineStartColor:"x1nmn18",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",display:"x78zum5",flexShrink:"x2lah0s",height:"xn3w4p2",width:"x187nhsf",$$css:!0},footerImageContainer:{display:"x78zum5",marginBottom:"x1jyxor1",marginTop:"x1y332i5",$$css:!0},hasBody:{boxSizing:"x9f619",fontSize:"x1lkfr7t",marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},hasBodyLineLimit1:{maxHeight:"xd183bf",$$css:!0},item:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},meta:{marginBottom:"x1e56ztr",textTransform:"xtvhhri",$$css:!0},metaWithNoHeadline:{textTransform:"xtvhhri",$$css:!0},pressable:{display:"x1lliihq",$$css:!0},root:{backgroundColor:"xmjcpbm",position:"x1n2onr6",textDecoration:"x1lku1pv",$$css:!0},rootDivider:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},textWithFooterImage:{paddingBottom:"xjkvuk6",paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",paddingTop:"x1iorvi4",$$css:!0}},h=o("CometFeedGating").shouldEnableFeedUFIUIModernization(),y=[r("CometEmojiTransform")({size:18})],C=[r("CometEmojiTransform")()];function b(e){var t=o("react-compiler-runtime").c(73),n=e.addOn,a=e.body,i=e.bodyLineLimit,l=e.centerAlignAddOn,d=e.cta,m=e.footerImageUri,_=e.headline,b=e.headlineBadge,v=e.headlineLineLimit,S=e.href,R=e.isAd,L=e.meta,E=e.metaColor,k=e.onPress,I=e.passthroughProps,T=e.xstyle,D=i===void 0?1:i,x;t[0]!==S||t[1]!==I?(x={passthroughProps:I,url:S},t[0]=S,t[1]=I,t[2]=x):x=t[2];var $=x,P;t[3]!==a?(P=a!=null?a.toString().trim():null,t[3]=a,t[4]=P):P=t[4];var N=P,M;t[5]!==L?(M=L!=null?L.toString():null,t[5]=L,t[6]=M):M=t[6];var w=M,A=r("gkx")("6877"),F=r("gkx")("538"),O=f(!1),B=O[0],W=O[1],q=m!=null&&m.length>0&&!B,U;t[7]!==N||t[8]!==w?(U=function(){o("XPlatReactEnvironment").isWeb()&&A&&((u||(u=o("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","footer_count"),N!=null&&N.length>0&&(u||(u=o("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","body_string_count"),w!=null&&w.length>0&&(u||(u=o("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","meta_string_count"))},t[7]=N,t[8]=w,t[9]=U):U=t[9];var V;t[10]===Symbol.for("react.memo_cache_sentinel")?(V=[],t[10]=V):V=t[10],p(U,V);var H;t[11]!==B||t[12]!==m?(H=function(){var e=m!=null&&m.length>0&&!B;e&&((u||(u=o("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","footer_image_load_count",1),u.bumpEntityKey(3478,"comet_story_attachment_footer_stats","footer_image_error_count",0),W(!1))},t[11]=B,t[12]=m,t[13]=H):H=t[13];var G=H,z;t[14]!==m?(z=function(){r("FBLogger")("CometStoryAttachmentFooter").warn("Footer image failed to load: %s",m!=null?m:"unknown"),(u||(u=o("ODS"))).bumpEntityKey(3478,"comet_story_attachment_footer_stats","footer_image_error_count",1),W(!0)},t[14]=m,t[15]=z):z=t[15];var j=z,K;t[16]!==B||t[17]!==m||t[18]!==j||t[19]!==G?(K=m!=null&&m.length>0&&!B?c.jsx(r("BaseRowItem.react"),{xstyle:g.footerImageContainer,children:c.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,children:c.jsx(r("CometImage.react"),{alt:s._(/*BTDS*/"Image"),objectFit:"cover",onError:j,onLoad:G,src:m,xstyle:g.footerImage})})}):null,t[16]=B,t[17]=m,t[18]=j,t[19]=G,t[20]=K):K=t[20];var Q=K,X;t[21]!==T?(X=[g.root,T,!h&&g.rootDivider],t[21]=T,t[22]=X):X=t[22];var Y=q?g.containerWithFooterImage:g.container,J;t[23]!==n||t[24]!==l?(J=n!=null?c.jsx(r("BaseRowItem.react"),{verticalAlign:l!=null?"center":"top",xstyle:g.item,children:n}):null,t[23]=n,t[24]=l,t[25]=J):J=t[25];var Z=q?g.textWithFooterImage:g.item,ee;t[26]!==_||t[27]!==R||t[28]!==E||t[29]!==w?(ee=w!=null&&w.length>0?c.jsx(o("react-strict-dom").html.div,{"data-ad-rendering-role":"meta","data-testid":void 0,style:[(A&&R===!0||F&&R!==!0)&&_===""?g.metaWithNoHeadline:g.meta],children:c.jsx(r("FDSText.react"),{color:E,numberOfLines:1,type:"meta3",children:w})}):null,t[26]=_,t[27]=R,t[28]=E,t[29]=w,t[30]=ee):ee=t[30];var te=a!=null&&g.hasBody,ne=a!=null&&D===1&&g.hasBodyLineLimit1,re;t[31]!==te||t[32]!==ne?(re=[g.body,te,ne],t[31]=te,t[32]=ne,t[33]=re):re=t[33];var oe;t[34]!==N?(oe=N!=null&&N.length>0?c.jsx(o("react-strict-dom").html.span,{"data-ad-rendering-role":"description","data-testid":void 0,children:c.jsx(r("CometTextWithEntities.react"),{text:N,transforms:C})}):null,t[34]=N,t[35]=oe):oe=t[35];var ae;t[36]!==_?(ae=_.toString(),t[36]=_,t[37]=ae):ae=t[37];var ie;t[38]!==ae?(ie=c.jsx(r("CometTextWithEntities.react"),{text:ae,transforms:y}),t[38]=ae,t[39]=ie):ie=t[39];var le;t[40]!==b||t[41]!==ie?(le=c.jsx(o("react-strict-dom").html.span,{"data-ad-rendering-role":"title","data-testid":void 0,children:c.jsx(r("FDSTextWithBadge.react"),{badgeAfter:b,children:ie})}),t[40]=b,t[41]=ie,t[42]=le):le=t[42];var se=v!=null?v:2,ue;t[43]!==D||t[44]!==oe||t[45]!==le||t[46]!==se?(ue=c.jsx(r("FDSTextPairing.react"),{body:oe,bodyColor:"secondary",bodyLineLimit:D,headline:le,headlineLineLimit:se,level:3}),t[43]=D,t[44]=oe,t[45]=le,t[46]=se,t[47]=ue):ue=t[47];var ce;t[48]!==re||t[49]!==ue?(ce=c.jsx(o("react-strict-dom").html.div,{style:re,children:ue}),t[48]=re,t[49]=ue,t[50]=ce):ce=t[50];var de;t[51]!==Z||t[52]!==ee||t[53]!==ce?(de=c.jsxs(r("BaseRowItem.react"),{expanding:!0,useDeprecatedStyles:!0,xstyle:Z,children:[ee,ce]}),t[51]=Z,t[52]=ee,t[53]=ce,t[54]=de):de=t[54];var me;t[55]!==d||t[56]!==q?(me=d!=null?c.jsx(r("BaseRowItem.react"),{xstyle:q?g.ctaWithFooterImage:g.item,children:d}):null,t[55]=d,t[56]=q,t[57]=me):me=t[57];var pe;t[58]!==Q||t[59]!==Y||t[60]!==J||t[61]!==de||t[62]!==me?(pe=c.jsxs(r("BaseRow.react"),{verticalAlign:"center",xstyle:Y,children:[Q,J,de,me]}),t[58]=Q,t[59]=Y,t[60]=J,t[61]=de,t[62]=me,t[63]=pe):pe=t[63];var _e;t[64]!==X||t[65]!==pe?(_e=c.jsx(o("react-strict-dom").html.div,{style:X,children:pe}),t[64]=X,t[65]=pe,t[66]=_e):_e=t[66];var fe=_e,ge;return t[67]!==fe||t[68]!==_||t[69]!==S||t[70]!==$||t[71]!==k?(ge=S!=null?c.jsx(r("CometPressable.react"),{display:"block",label:_,linkProps:$,onPress:k,overlayDisabled:!0,testid:void 0,xstyle:g.pressable,children:fe}):fe,t[67]=fe,t[68]=_,t[69]=S,t[70]=$,t[71]=k,t[72]=ge):ge=t[72],ge}l.default=b}),226);
__d("ConsumptionFocusPointVpvFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("90"),s=o("FalcoLoggerInternal").create("consumption_focus_point_vpv",e),u=s;l.default=u}),98);
__d("getIsBizWebFeedLocation",[],(function(t,n,r,o,a,i){"use strict";var e=["BUSINESS_COMMENT_INBOX_TAB","BIZWEB","BIZWEB_HOME_AD_PREVIEW","BIZWEB_HOME_CARDS","BIZWEB_POSTS_TAB_INSPO_PANEL","BIZWEB_RECENT_POSTS_FEED_CARD","BIZWEB_SELF_VIEW","BUSINESS_FEED","CM_FEED_VIEW"];function l(t){return t!=null&&e.includes(t)}i.default=l}),66);
__d("useCometFeedStandardAttachedStoryNestingLevel",["CometFeedStandardAttachedStoryLevelContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometFeedStandardAttachedStoryLevelContext"))}l.default=u}),98);
__d("useCometFeedStoryRenderLocationIsPermalink",["CometFeedUnitQueryVariablesContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(r("CometFeedUnitQueryVariablesContext"));return(e==null?void 0:e.feedLocation)==="PERMALINK"||(e==null?void 0:e.feedLocation)==="PAGE_TIMELINE_PERMALINK"||(e==null?void 0:e.feedLocation)==="GROUP_PERMALINK"||(e==null?void 0:e.feedLocation)==="WORKPLACE_LONG_READ_POST"||(e==null?void 0:e.feedLocation)==="WORKPLACE_REPOST"||(e==null?void 0:e.feedLocation)==="POST_PERMALINK_DIALOG"||(e==null?void 0:e.feedLocation)==="META_AI_ANSWERSHEET_PERMALINK"}l.default=u}),98);
__d("useCometPhotoViewerPlaceholderPassthroughProps_photo.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useCometPhotoViewerPlaceholderPassthroughProps_photo",selections:[{alias:"viewer_image",args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],type:"Photo",abstractKey:null};a.exports=e}),null);
__d("useCometPhotoViewerPlaceholderPassthroughProps",["CometRelay","react-compiler-runtime","useCometPhotoViewerPlaceholderPassthroughProps_photo.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r,a,i=o("react-compiler-runtime").c(5),l=t.photo,s=t.placeholderImageSrc,u=t.productTagReferralCode,c=o("CometRelay").useFragment(e!==void 0?e:e=n("useCometPhotoViewerPlaceholderPassthroughProps_photo.graphql"),l),d=c==null||(r=c.viewer_image)==null?void 0:r.height,m=c==null||(a=c.viewer_image)==null?void 0:a.width,p;return i[0]!==s||i[1]!==u||i[2]!==d||i[3]!==m?(p={origHeight:d,origSrc:s,origWidth:m,productTagReferralCode:u},i[0]=s,i[1]=u,i[2]=d,i[3]=m,i[4]=p):p=i[4],p}l.default=s}),98);
__d("usePageletMatchMetadata",["RelayFBModuleResource","react-compiler-runtime","usePageletMetadata"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(2),a;n[0]!==t?(a=t!=null?o("RelayFBModuleResource").getModuleId(t):null,n[0]=t,n[1]=a):a=n[1];var i=a;r("usePageletMetadata")("ddd_"+e,i)}l.default=e}),98);/*FB_PKG_DELIM*/
__d("CastingStateHooks",["CastingContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(o("CastingContext").CastingStateContext);return(e==null?void 0:e.receiverIsConnected)||!1}function c(){var e=L();return e==null?null:e.currentVideoID}function d(){var e=c();return e!=null}function m(){var e=L();return e==null?0:e.currentPosition||0}function p(){var e=L();return e==null?0:e.currentDuration||0}function _(){var e=L();if(e==null)return!1;var t=e.currentPlaybackState;return t==="play"||t==="seeking"}function f(){var e=L();if(e==null)return!1;var t=e.currentPlaybackState;return t==="paused"}function g(){var e=L();if(e==null)return!1;var t=e.currentPlaybackState;return t==="ended"}function h(){var e=s(o("CastingContext").CastingStateContext);return e==null||!e.receiverIsConnected?!1:e.receiverIsMuted===!0}function y(){var e=s(o("CastingContext").CastingStateContext);return e==null||!e.receiverIsConnected?0:e.receiverVolume||0}function C(){var e=s(o("CastingContext").CastingStateContext);return e==null||!e.receiverIsConnected?null:e.receiverFriendlyName}function b(){var e=E();return e!=null}function v(){var e=k();return e==null?!1:e.currentPlaybackState==="paused"}function S(){var e=k();return e==null?!1:e.currentPlaybackState==="play"}function R(){var e=k();return e==null?null:e.currentAssetID}function L(){var e=s(o("CastingContext").CastingStateContext),t=s(o("CastingContext").CastingExperienceStateContext);return e==null||!e.receiverIsConnected||(t==null?void 0:t.type)!=="video_channel"?null:t}function E(){var e=s(o("CastingContext").CastingStateContext),t=s(o("CastingContext").CastingExperienceStateContext);return e==null||!e.receiverIsConnected||(t==null?void 0:t.type)!=="photo"?null:t}function k(){var e=s(o("CastingContext").CastingStateContext),t=s(o("CastingContext").CastingExperienceStateContext);return e==null||!e.receiverIsConnected||(t==null?void 0:t.type)!=="photo_album"?null:t}l.useIsCastingConnected=u,l.useCastingVideoID=c,l.useIsCastingAnyVideo=d,l.useCastingCurrentTime=m,l.useCastingDuration=p,l.useCastingIsPlaying=_,l.useCastingIsPaused=f,l.useCastingIsEnded=g,l.useCastingIsMuted=h,l.useCastingVolume=y,l.useCastingReceiverFriendlyName=C,l.useIsCastingPhotoExperience=b,l.useCastingIsAlbumPaused=v,l.useCastingIsAlbumPlaying=S,l.useCastingAlbumAssetID=R}),98);
__d("CometButtonCommandStopper.react",["CometComponentWithKeyCommands.react","CometKeys","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.label,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={key:r("CometKeys").SPACE},t[0]=i):i=t[0];var l;t[1]!==a?(l={command:i,description:a,handler:d},t[1]=a,t[2]=l):l=t[2];var u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u={key:r("CometKeys").ENTER},t[3]=u):u=t[3];var m;t[4]!==a?(m={command:u,description:a,handler:c},t[4]=a,t[5]=m):m=t[5];var p;t[6]!==l||t[7]!==m?(p=[l,m],t[6]=l,t[7]=m,t[8]=p):p=t[8];var _=p,f;return t[9]!==n||t[10]!==_?(f=s.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:_,debugName:"Button",children:n}),t[9]=n,t[10]=_,t[11]=f):f=t[11],f}function c(){}function d(){}l.default=u}),98);
__d("CometTrackingCodeProvider.react",["CometTrackingCodeContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo;function m(e,t){return e&&e!==""?t.concat(e):t}function p(e){var t=o("react-compiler-runtime").c(16),n=e.children,a=e.trackingCode,i=a.click_tracking_linkshim_cb,l=a.encrypted_click_tracking,u=a.encrypted_tracking,d=c(r("CometTrackingCodeContext")),p;t[0]!==i||t[1]!==d.click_tracking_linkshim_cb?(p=m(i,d.click_tracking_linkshim_cb),t[0]=i,t[1]=d.click_tracking_linkshim_cb,t[2]=p):p=t[2];var _;t[3]!==l||t[4]!==d.encrypted_click_tracking?(_=m(l,d.encrypted_click_tracking),t[3]=l,t[4]=d.encrypted_click_tracking,t[5]=_):_=t[5];var f;t[6]!==u||t[7]!==d.encrypted_tracking?(f=m(u,d.encrypted_tracking),t[6]=u,t[7]=d.encrypted_tracking,t[8]=f):f=t[8];var g;t[9]!==p||t[10]!==_||t[11]!==f?(g={click_tracking_linkshim_cb:p,encrypted_click_tracking:_,encrypted_tracking:f},t[9]=p,t[10]=_,t[11]=f,t[12]=g):g=t[12];var h=g,y;return t[13]!==n||t[14]!==h?(y=s.jsx(r("CometTrackingCodeContext").Provider,{value:h,children:n}),t[13]=n,t[14]=h,t[15]=y):y=t[15],y}var _=s.memo(p);l.default=_}),98);
__d("VideoPlayerControlsHiddenContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("VideoPlayerControlIcon.react",["BaseFocusRing.react","BaseTooltip.react","CometPressable.react","CometTooltipImpl.react","FDSIcon.react","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["tooltipOffsetY","children"],s=["color","disabled","icon","label","tooltip","tooltipAlign","tooltipImpl","tooltipOffsetY"],u,c=u||(u=o("react")),d=u.useContext,m={default:{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderInlineEnd:"xtmcdsl",borderBottom:"x112ta8",borderInlineStart:"x4gj9lk",cursor:"x1ypdohk",display:"x1rg5ohu",height:"x1qx5ct2",marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",opacity:"x1iy03kw",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",":hover_opacity":"x1o7uuvo",$$css:!0},disabled:{cursor:"xt0e3qv",opacity:"xbyyjgo",":hover_opacity":"xj34u2y",$$css:!0},dropShadow:{filter:"x1qo4wvw",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(21),a,i,l;n[0]!==t?(l=t.tooltipOffsetY,a=t.children,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s=Math.min(0,l!=null?l:0),u;n[4]===Symbol.for("react.memo_cache_sentinel")?(u="xuk3077 x78zum5 x14atkfc",n[4]=u):u=n[4];var d;n[5]!==s?(d={marginTop:s},n[5]=s,n[6]=d):d=n[6];var m;n[7]===Symbol.for("react.memo_cache_sentinel")?(m="xuk3077 x78zum5 x14atkfc",n[7]=m):m=n[7];var p=-s,_;n[8]!==p?(_={paddingTop:p},n[8]=p,n[9]=_):_=n[9];var f;n[10]!==a?(f=typeof a=="function"?a(void 0):a,n[10]=a,n[11]=f):f=n[11];var g;n[12]!==_||n[13]!==f?(g=c.jsx("span",{className:m,style:_,children:f}),n[12]=_,n[13]=f,n[14]=g):g=n[14];var h;n[15]!==i||n[16]!==g?(h=c.jsx(r("BaseTooltip.react"),babelHelpers.extends({},i,{children:g})),n[15]=i,n[16]=g,n[17]=h):h=n[17];var y;return n[18]!==d||n[19]!==h?(y=c.jsx("span",{className:u,style:d,children:h}),n[18]=d,n[19]=h,n[20]=y):y=n[20],y}function _(e){var t=o("react-compiler-runtime").c(23),n,a,i,l,u,_,f,g,h;t[0]!==e?(u=e.color,a=e.disabled,i=e.icon,l=e.label,_=e.tooltip,f=e.tooltipAlign,g=e.tooltipImpl,h=e.tooltipOffsetY,n=babelHelpers.objectWithoutPropertiesLoose(e,s),t[0]=e,t[1]=n,t[2]=a,t[3]=i,t[4]=l,t[5]=u,t[6]=_,t[7]=f,t[8]=g,t[9]=h):(n=t[1],a=t[2],i=t[3],l=t[4],u=t[5],_=t[6],f=t[7],g=t[8],h=t[9]);var y=u===void 0?"white":u,C=_===void 0?null:_,b=f===void 0?"start":f,v=d(r("VideoPlayerControlsHiddenContext")),S=g!=null?g:r("CometTooltipImpl.react"),R;t[10]!==n||t[11]!==y||t[12]!==a||t[13]!==i||t[14]!==v||t[15]!==l?(R=c.jsx(r("BaseFocusRing.react"),{children:function(t){return c.jsx(r("CometPressable.react"),babelHelpers.extends({},n,{disabled:a,display:"inline",label:l,overlayDisabled:!0,testid:void 0,xstyle:[m.default,a===!0&&m.disabled,t,v===!0&&m.dropShadow],children:c.jsx(r("FDSIcon.react"),{color:y,icon:i,size:20})}))}}),t[10]=n,t[11]=y,t[12]=a,t[13]=i,t[14]=v,t[15]=l,t[16]=R):R=t[16];var L;return t[17]!==S||t[18]!==R||t[19]!==C||t[20]!==b||t[21]!==h?(L=c.jsx(p,{align:b,position:"above",tooltip:C,tooltipImpl:S,tooltipOffsetY:h,children:R}),t[17]=S,t[18]=R,t[19]=C,t[20]=b,t[21]=h,t[22]=L):L=t[22],L}l.default=_}),98);
__d("VideoPlayerControlsBottomRowAddOnContext",["react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useEffect,m=u.useState,p=s.createContext(null);function _(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=r("useStable")(f),i;return t[0]!==n||t[1]!==a?(i=s.jsx(p.Provider,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function f(){var e=null,t=null,n=null;return{getBottomRowAddOn:function(){return t},initialize:function(o){n=function(n){t=n,o(n)},e!=null&&(n(e),e=null)},setBottomRowAddOn:function(r){if(n==null){e=r;return}n(r)}}}function g(e){var t=o("react-compiler-runtime").c(3),n=c(p),r=m(e),a=r[0],i=r[1],l,s;return t[0]!==n?(l=function(){n!=null&&n.initialize(i)},s=[n],t[0]=n,t[1]=l,t[2]=s):(l=t[1],s=t[2]),d(l,s),a}function h(e){var t=o("react-compiler-runtime").c(4),n=c(p),r,a;t[0]!==e||t[1]!==n?(r=function(){n!=null&&n.setBottomRowAddOn(e)},a=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=a):(r=t[2],a=t[3]),d(r,a)}l.VideoPlayerControlsBottomRowAddOnContext=p,l.VideoPlayerControlsBottomRowAddOnContextProvider=_,l.useVideoPlayerControlsBottomRowAddOn=g,l.useSetVideoPlayerControlsBottomRowAddOn=h}),98);
__d("VideoPlayerInteractionOverlay.react",["VideoPlayerHooks","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d={hiddenCursor:{cursor:"xjfk50j",$$css:!0},pointer:{cursor:"x1ypdohk",$$css:!0},root:{bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(14),a=t.children,i=t.pressInteraction,l=t.ref,s=t.style,m=t.xstyle,p=i==null?void 0:i.handler,_=i==null?void 0:i.onPressStart,f=i==null?void 0:i.onMouseEnter,g=i==null?void 0:i.onMouseLeave,h=(u||(u=o("VideoPlayerHooks"))).useIsFullscreen(),y=u.useIsMouseIdle(),C;n[0]!==h||n[1]!==y||n[2]!==p||n[3]!==m?(C=(e||(e=r("stylex")))(d.root,!!p&&d.pointer,h&&y&&d.hiddenCursor,m),n[0]=h,n[1]=y,n[2]=p,n[3]=m,n[4]=C):C=n[4];var b;return n[5]!==a||n[6]!==f||n[7]!==g||n[8]!==p||n[9]!==_||n[10]!==l||n[11]!==s||n[12]!==C?(b=c.jsx("div",{className:C,onClick:p,onMouseEnter:f,onMouseLeave:g,onPointerDown:_,ref:l,role:"presentation",style:s,children:a}),n[5]=a,n[6]=f,n[7]=g,n[8]=p,n[9]=_,n[10]=l,n[11]=s,n[12]=C,n[13]=b):b=n[13],b}var p=m;l.VideoPlayerInteractionOverlay=p}),98);
__d("formatDurationSeconds",["fbt","padNumber"],(function(t,n,r,o,a,i,l,s){function e(e){var t=Math.floor(e/3600),n=Math.floor(e/60%60),o=Math.floor(e%60);return t?s._(/*BTDS*/"{hours}:{minutes}:{seconds}",[s._param("hours",t),s._param("minutes",r("padNumber")(n,2)),s._param("seconds",r("padNumber")(o,2))]):s._(/*BTDS*/"{minutes}:{seconds}",[s._param("minutes",n),s._param("seconds",r("padNumber")(o,2))])}l.default=e}),226);
__d("VideoPlayerTimeIndicator.react",["FDSText.react","formatDurationSeconds","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e.shouldCenterSelf,a=e.timestampSec,i=n===!0?"var(--always-black)":"var(--always-dark-overlay)",l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l="x18l40ae xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1wa3icf x123j3cw x1gabggj xs9asl8 xaso8d8 x10l6tqk xuxw1ft",t[0]=l):l=t[0];var u;t[1]!==i?(u={backgroundColor:i},t[1]=i,t[2]=u):u=t[2];var c;t[3]!==a?(c=r("formatDurationSeconds")(Math.round(a)),t[3]=a,t[4]=c):c=t[4];var d;t[5]!==c?(d=s.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c}),t[5]=c,t[6]=d):d=t[6];var m;t[7]!==u||t[8]!==d?(m=s.jsx("div",{className:l,style:u,children:d}),t[7]=u,t[8]=d,t[9]=m):m=t[9];var p=m,_;return t[10]!==n||t[11]!==p?(_=n===!0?s.jsx("div",{className:"x78zum5 xl56j7k x1n2onr6",children:p}):p,t[10]=n,t[11]=p,t[12]=_):_=t[12],_}l.default=u}),98);
__d("VideoPlayerUserInteractionCounter",["FBLogger","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t,n){var a=o("react-compiler-runtime").c(12),i=d(e),l,s;a[0]!==e?(l=function(){if(e!==i.current)throw r("FBLogger")("comet_video_player").mustfixThrow("User interaction name should not change between renders ('%s' -> '%s').",i.current,e)},s=[e],a[0]=e,a[1]=l,a[2]=s):(l=a[1],s=a[2]),c(l,s);var u=d(n),m,p;a[3]!==n?(m=function(){u.current=n},p=[n],a[3]=n,a[4]=m,a[5]=p):(m=a[4],p=a[5]),c(m,p);var _=r("usePrevious")(t),f=d(!1),g,h;a[6]!==t||a[7]!==_?(g=function(){var e=i.current,n=u.current;n&&(_===null||t!==_)&&(t?(f.current=!0,n({name:e,type:"started"})):_!==null&&(f.current=!1,n({name:e,type:"ended"})))},h=[t,_],a[6]=t,a[7]=_,a[8]=g,a[9]=h):(g=a[8],h=a[9]),c(g,h);var y,C;a[10]===Symbol.for("react.memo_cache_sentinel")?(y=function(){var e=i.current,t=u.current;return(function(){t&&f.current&&t({name:e,type:"ended"})})},C=[],a[10]=y,a[11]=C):(y=a[10],C=a[11]),c(y,C)}function _(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Set,e[0]=t):t=e[0];var n=d(t),r=m(0),a=r[0],i=r[1],l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=function(t){var e=n.current;t.type==="started"||t.type==="happening"?(e.add(t.name),i(e.size)):t.type==="ended"&&(e.delete(t.name),i(e.size))},e[1]=l):l=e[1];var s=l,u;return e[2]!==a?(u={ongoingInteractionsCount:a,onUserInteraction:s},e[2]=a,e[3]=u):u=e[3],u}l.useVideoPlayerUserInteraction=p,l.useVideoPlayerUserInteractionCounter=_}),98);
__d("VideoPlayerWithLiveVideoInterruptedOverlay.react",["fbt","FDSLoadingAnimation.react","FDSTextPairing.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(){var e=o("react-compiler-runtime").c(3),t=(u||(u=o("VideoPlayerHooks"))).useStreamInterrupted(),n=u.useIsLiveRewindActive();if(!t||n)return null;var a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x18l40ae x1ey2m1c x9f619 x78zum5 xdt5ytf xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy"},e[0]=a):a=e[0];var i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"The broadcast is waiting for a signal. It should resume shortly."),e[1]=i):i=e[1];var l;return e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(o("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{children:c.jsxs("div",babelHelpers.extends({},a,{children:[c.jsx("div",{children:c.jsx(r("FDSTextPairing.react"),{body:i,bodyColor:"white",headline:s._(/*BTDS*/"Waiting for Live Video Signal"),headlineColor:"white",level:2,textAlign:"center"})}),c.jsx("div",{className:"xc9qbxq x1sy10c2 x1n2onr6 x14qfxbe",children:c.jsx(r("FDSLoadingAnimation.react"),{size:36})})]}))}),e[2]=l):l=e[2],l}l.default=d}),226);
__d("computeAspectRatio",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e!=null&&t!=null&&e!==0&&t!==0?e/t:null}i.default=e}),66);
__d("createVideoStateHook",["VideoPlayerHooks","emptyFunction","gkx","react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useMemo,m=u.useSyncExternalStore,p=new Set,_=function(t){var e=new Map;p.add(e);var n=r("emptyFunction");function a(t,n){var r=e.get(t);return r||(r={consumers:new Set,key:t,lastValue:n},e.set(t,r)),r}function i(t,n){return{getSnapshot:function(){var r=e.get(t);return r==null?n:r.lastValue},setValue:function(r){var e=a(t,n),o;typeof r=="function"?o=r(e.lastValue):o=r,e.lastValue=o,e.consumers.forEach(function(e){e(o)})},subscribe:function(r){var e=a(t,n);return e.consumers.add(r),function(){e.consumers.delete(r)}}}}function l(e){var t=o("react-compiler-runtime").c(10),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.getSnapshot,p=c.setValue,_=c.subscribe,f;t[5]!==a?(f=function(){return a},t[5]=a,t[6]=f):f=t[6];var g=m(_,d,f),h;return t[7]!==p||t[8]!==g?(h=[g,p],t[7]=p,t[8]=g,t[9]=h):h=t[9],h}function u(e){var t=o("react-compiler-runtime").c(5),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.setValue;return d}function c(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n),l=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),u;t[2]!==a||t[3]!==l?(u=i(l,a),t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=u,d=c.getSnapshot,p=c.subscribe,_;return t[5]!==a?(_=function(){return a},t[5]=a,t[6]=_):_=t[6],m(p,d,_)}return{setterHook:u,stateHook:l,valueHook:c}};function f(e){var t=o("react-compiler-runtime").c(3),n,r;t[0]!==e?(n=function(){return(function(){p.forEach(function(t){t.delete(e)})})},r=[e],t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]),c(n,r)}var g=_,h=f;l.createVideoStateHookImpl_SafeForConcurrentRendering=_,l.createVideoStateHook=g,l.useCleanupVideoStateHooks_INTERNAL=h}),98);
__d("useVideoPlayerControllerSubscriptionHavingController",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e,t){var n=o("react-compiler-runtime").c(9),r;n[0]!==e||n[1]!==t?(r=function(){return t(e,null)},n[0]=e,n[1]=t,n[2]=r):r=n[2];var a=d(r),i=a[0],l=a[1],s=c(t),m,p;n[3]!==t?(m=function(){s.current=t},p=[t],n[3]=t,n[4]=m,n[5]=p):(m=n[4],p=n[5]),u(m,p);var _,f;return n[6]!==e?(_=function(){l(function(t){return s.current(e,t)});var t=e.subscribe(function(){l(function(t){return s.current(e,t)})});return(function(){t.remove()})},f=[e],n[6]=e,n[7]=_,n[8]=f):(_=n[7],f=n[8]),u(_,f),i}l.default=m}),98);
__d("useVideoPlayerControllerSubscription",["VideoPlayerHooks","useVideoPlayerControllerSubscriptionHavingController"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("useVideoPlayerControllerSubscriptionHavingController")((e||(e=o("VideoPlayerHooks"))).useController(),t)}l.default=s}),98);
__d("useAudioAvailabilityAtPlayhead",["VideoPlayerAudioAvailabilityInfo","VideoPlayerHooks","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(2),n=(e||(e=o("VideoPlayerHooks"))).useAudioAvailabilityInfo(),a;t[0]!==n?(a=function(t,r){var e=t.getPlayheadPosition(),a=o("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityAtPlayheadInfo(n,{playheadPosition:e});return r!=null&&r.isPlayheadWithinMutedSegment===a.isPlayheadWithinMutedSegment&&r.isSilentAtPlayhead===a.isSilentAtPlayhead&&r.volumeControlState===a.volumeControlState?r:a},t[0]=n,t[1]=a):a=t[1];var i=a;return r("useVideoPlayerControllerSubscription")(i)}l.default=s}),98);
__d("useFeedClickEventHandler",["react","react-compiler-runtime","useStoryClickEventLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(4),a=r("useStoryClickEventLogger")(),i;return n[0]!==t||n[1]!==a||n[2]!==e?(i=function(r){e&&e(r);var n=r.type;if(n==="click"||n==="contextmenu"||n==="mousedown"&&typeof r.button=="number"&&(r.button===1||r.button===2)||n==="keydown"&&(r.key==="Enter"||r.key===" ")){var o=typeof r.button=="number"?r.button:0;a(r.timeStamp,o,t)}},n[0]=t,n[1]=a,n[2]=e,n[3]=i):i=n[3],i}l.default=u}),98);
__d("useRelayClientStateWithLocalStorage",["CometRelay","FBLogger","WebStorage","react","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useEffect,m=new Set;function p(t,n,a,i){var l=m.has(n),s=o("CometRelay").useRelayEnvironment(),u=r("useStable")((e||(e=r("WebStorage"))).getLocalStorage),p=r("useStable")(function(){if(l||u==null)return i;var e=u.getItem(n);try{return e==null||e===""?i:JSON.parse(e)}catch(e){return i}}),_=c(function(e){o("CometRelay").commitLocalUpdate(s,function(r){var o=r.get(t);o!=null&&o.getValue(a)!==e&&(o.setValue(e,a),m.add(n))})},[s,a,t,n]);return d(function(){if(u!=null&&l){var e=JSON.stringify(i);if(e!=null)try{u.setItem(n,e)}catch(e){e!=null&&typeof e=="object"&&e.code===22&&u.clear();var t=r("FBLogger")("use_local_storage");e instanceof Error&&(t=t.catching(e)),t.mustfix("Cannot save to local storage.")}}},[n,l,u,i]),[l?i:p,_]}l.useRelayClientStateWithLocalStorage=p}),98);
__d("useSelectedLatencySetting",["react-compiler-runtime","useRelayClientStateWithLocalStorage"],(function(t,n,r,o,a,i,l){"use strict";var e="_video_LiveVideoLatencyMenuContextProvider_selected_latency_setting";function s(e){if(e==null)return null;switch(e){case"low":case"normal":return e;default:return null}}function u(t,n){var r=o("react-compiler-runtime").c(5),a;if(r[0]!==n){var i;a=(i=s(n))!=null?i:"normal",r[0]=n,r[1]=a}else a=r[1];var l=o("useRelayClientStateWithLocalStorage").useRelayClientStateWithLocalStorage(t,e,"selected_latency_setting",a),u=l[0],c=l[1],d;return r[2]!==u||r[3]!==c?(d=[u,c],r[2]=u,r[3]=c,r[4]=d):d=r[4],d}l.default=u}),98);
__d("useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video",selections:[{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_country",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};a.exports=e}),null);
__d("useVideoPlayerAvailableCaptionsLocalesFromRelay",["CometRelay","react","react-compiler-runtime","useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t){var r=o("react-compiler-runtime").c(2),a=o("CometRelay").useFragment(e!==void 0?e:e=n("useVideoPlayerAvailableCaptionsLocalesFromRelay_video.graphql"),t);a==null||a.video_available_captions_locales;var i;if(r[0]!==(a==null?void 0:a.video_available_captions_locales)){var l;i=a==null||(l=a.video_available_captions_locales)==null?void 0:l.map(d),r[0]=a==null?void 0:a.video_available_captions_locales,r[1]=i}else i=r[1];var s=i;return s}function d(e){return{captionsUrl:e.captions_url,locale:e.locale,localizedCountry:e.localized_country,localizedCreationMethod:e.localized_creation_method,localizedLanguage:e.localized_language}}l.default=c}),98);
__d("useVideoPlayerHasStartedPlayingAtLeastOnce",["VideoPlayerHooks","createVideoStateHook","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect,c=o("createVideoStateHook").createVideoStateHook(null),d=c.stateHook;function m(){var e=o("react-compiler-runtime").c(4),t=d(!1),n=t[0],r=t[1],a=(s||(s=o("VideoPlayerHooks"))).usePlaying(),i,l;return e[0]!==a||e[1]!==r?(i=function(){a&&r(!0)},l=[a,r],e[0]=a,e[1]=r,e[2]=i,e[3]=l):(i=e[2],l=e[3]),u(i,l),n}l.default=m}),98);/*FB_PKG_DELIM*/
__d("ColorUtils",[],(function(t,n,r,o,a,i){"use strict";var e=new RegExp("^[#]{0,1}([\\w]{1,2})?([\\w]{1,2})([\\w]{1,2})([\\w]{1,2})$"),l=function(n,r){if(n==null)return null;var t=n.match(e);if(t==null)return null;var o=t.slice(1).map(function(e){return parseInt(e.length===1?e+e:e,16)});return o.length===4?(r==="ARGB"&&o.push(o.shift()),"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]/100+")"):"rgb("+o[0]+","+o[1]+","+o[2]+")"};function s(e){return l(e,"ARGB")}function u(e){return l(e,"RGBA")}i.hexARGBToCSSRGBA=s,i.hexRGBAToCSSRGBA=u}),66);
__d("FDSTabInternal.react",["BaseNonBreakingSpace.react","CometFocusGroupContext","FBLogger","FDSIcon.react","FDSPressable.react","FDSText.react","FDSTextWithBadge.react","MetaConfig","XPlatReactEnvironment","react","react-compiler-runtime","react-strict-dom","useIntersectionObserver","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","badge","badgeCap","containerRef","highlightColor","icon","iconColor","iconLocation","iconSize","label","labelIsHidden","onHidden","pressableXStyle","reduceEmphasis","selected","selectedColor","shouldLogOnIntersectionObserver","tabRef","underlineColor","xstyle"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=c.useLayoutEffect,_=c.useRef,f=c.useState,g=r("MetaConfig")._("339"),h={highlightColor:function(t){return[{color:t!=null?"x14rh7hd":t,$$css:!0},{"--x-color":t!=null?t:void 0}]},icon:{lineHeight:"x14ju556",paddingInlineEnd:"xptfeew",$$css:!0},iconEnd:{marginInlineStart:"x1wq9rni",$$css:!0},iconEnd8:{marginInlineStart:"x13fj5qh",$$css:!0},iconStart:{marginInlineEnd:"x1mmqav5",$$css:!0},iconStart8:{marginInlineEnd:"x1xegmmw",$$css:!0},pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",backgroundImage:"x18o3ruo",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",color:"x1heor9g",cursor:"x1ypdohk",display:"x78zum5",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",textAlign:"x16tdsg8",textDecoration:"x1hl2dhg",zIndex:"x1vjfegm",$$css:!0},tab:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexShrink:"x2lah0s",minHeight:"x1hshjfz",position:"x1n2onr6",$$css:!0},underline:{backgroundColor:"xholzvs",borderStartEndRadius:"x91jh78",borderStartStartRadius:"xkqq1k2",bottom:"x1ey2m1c",height:"x13np604",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",$$css:!0},underlineColor:function(t){return[{backgroundColor:t!=null?"xl8spv7":t,$$css:!0},{"--x-backgroundColor":t!=null?t:void 0}]}};function y(t){var n=o("react-compiler-runtime").c(97),a,i,l,s,c,d,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P;n[0]!==t?(v=t.ref,a=t.badge,i=t.badgeCap,l=t.containerRef,s=t.highlightColor,c=t.icon,S=t.iconColor,R=t.iconLocation,L=t.iconSize,d=t.label,E=t.labelIsHidden,y=t.onHidden,b=t.pressableXStyle,k=t.reduceEmphasis,I=t.selected,T=t.selectedColor,D=t.shouldLogOnIntersectionObserver,x=t.tabRef,$=t.underlineColor,P=t.xstyle,C=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=y,n[8]=C,n[9]=b,n[10]=v,n[11]=S,n[12]=R,n[13]=L,n[14]=E,n[15]=k,n[16]=I,n[17]=T,n[18]=D,n[19]=x,n[20]=$,n[21]=P):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],y=n[7],C=n[8],b=n[9],v=n[10],S=n[11],R=n[12],L=n[13],E=n[14],k=n[15],I=n[16],T=n[17],D=n[18],x=n[19],$=n[20],P=n[21]);var N=S===void 0?"secondary":S,M=R===void 0?"right":R,w=L===void 0?16:L,A=E===void 0?!1:E,F=k===void 0?!1:k,O=I===void 0?!1:I,B=T===void 0?"highlight":T,W=D===void 0?!0:D,q=f(!1),U=q[0],V=q[1],H=_(y),G,z;n[22]!==y?(z=function(){H.current=y},G=[y],n[22]=y,n[23]=G,n[24]=z):(G=n[23],z=n[24]),p(z,G);var j=m(r("CometFocusGroupContext")),K=j.FocusItem,Q;n[25]!==U?(Q=function(t){var e=t.intersectionRatio,n=e<.5;n!==U&&(V(n),H.current&&H.current(n))},n[25]=U,n[26]=Q):Q=n[26];var X=Q,Y;n[27]!==l?(Y=function(){var e;return(e=l)==null?void 0:e.current},n[27]=l,n[28]=Y):Y=n[28];var J=Y,Z;n[29]!==J?(Z={root:J,threshold:.5},n[29]=J,n[30]=Z):Z=n[30];var ee=r("useIntersectionObserver")(X,Z),te=O?B:"secondary",ne;n[31]!==a||n[32]!==i||n[33]!==d||n[34]!==A||n[35]!==te?(ne=!A&&a!=null?typeof a=="number"?u.jsxs(u.Fragment,{children:[d,u.jsx(r("BaseNonBreakingSpace.react"),{size:.75}),u.jsx(r("FDSText.react"),{color:te,type:"body4",children:i!=null&&a>i?i+"+":a})]}):u.jsx(r("FDSTextWithBadge.react"),{badgeAfter:a,spacing:.75,children:d}):A?null:d,n[31]=a,n[32]=i,n[33]=d,n[34]=A,n[35]=te,n[36]=ne):ne=n[36];var re=ne;if(O&&s!=null){var oe;n[37]!==s?(oe=h.highlightColor(s),n[37]=s,n[38]=oe):oe=n[38];var ae;n[39]!==re||n[40]!==oe?(ae=u.jsx(o("react-strict-dom").html.span,{style:oe,children:re}),n[39]=re,n[40]=oe,n[41]=ae):ae=n[41],re=ae}if(F){var ie;n[42]!==re||n[43]!==te?(ie=u.jsx(r("FDSText.react"),{color:te,type:"body3",children:re}),n[42]=re,n[43]=te,n[44]=ie):ie=n[44],re=ie}else{var le;n[45]!==re||n[46]!==te?(le=u.jsx(r("FDSText.react"),{color:te,type:"bodyLink3",children:re}),n[45]=re,n[46]=te,n[47]=le):le=n[47],re=le}var se;n[48]!==c||n[49]!==N||n[50]!==M||n[51]!==w||n[52]!==A||n[53]!==O||n[54]!==B?(se=c!=null&&M==="left"?u.jsx(o("react-strict-dom").html.div,{style:[h.icon,!A&&(w===16?h.iconStart:h.iconStart8)],children:u.jsx(r("FDSIcon.react"),{color:O?B:N,icon:c,isDecorative:!0,size:w})}):null,n[48]=c,n[49]=N,n[50]=M,n[51]=w,n[52]=A,n[53]=O,n[54]=B,n[55]=se):se=n[55];var ue=se,ce;n[56]!==c||n[57]!==N||n[58]!==M||n[59]!==w||n[60]!==A||n[61]!==ue||n[62]!==O||n[63]!==B?(ce=c!=null&&M==="right"?u.jsx(o("react-strict-dom").html.div,{style:[h.icon,(ue!=null||!A)&&(w===16?h.iconEnd:h.iconEnd8)],children:u.jsx(r("FDSIcon.react"),{color:O?B:N,icon:c,isDecorative:!0,size:w})}):null,n[56]=c,n[57]=N,n[58]=M,n[59]=w,n[60]=A,n[61]=ue,n[62]=O,n[63]=B,n[64]=ce):ce=n[64];var de=ce,me=r("useMergeRefs")(ee,v),pe;n[65]!==P?(pe=[h.tab,P],n[65]=P,n[66]=pe):pe=n[66];var _e;n[67]!==O||n[68]!==$?(_e=O&&$!=null&&h.underlineColor($),n[67]=O,n[68]=$,n[69]=_e):_e=n[69];var fe;n[70]!==_e?(fe=u.jsx(o("react-strict-dom").html.div,{style:[h.underline,_e]}),n[70]=_e,n[71]=fe):fe=n[71];var ge;n[72]!==re||n[73]!==ue||n[74]!==de||n[75]!==pe||n[76]!==fe||n[77]!==x?(ge=u.jsxs(o("react-strict-dom").html.div,{ref:x,style:pe,children:[ue,re,de,fe]}),n[72]=re,n[73]=ue,n[74]=de,n[75]=pe,n[76]=fe,n[77]=x,n[78]=ge):ge=n[78];var he=ge,ye=!1;try{ye=IntersectionObserver!=null}catch(e){var Ce=e;W&&r("FBLogger")("comet_ui").catching(Ce).warn("IntersectionObserver is not available in current environment")}if(C.onPress!=null||C.linkProps!=null){var be=!U,ve=A?d:void 0,Se=ye?me:v,Re;n[79]!==b?(Re=[h.pressable,b],n[79]=b,n[80]=Re):Re=n[80];var Le;n[81]!==he||n[82]!==U||n[83]!==C||n[84]!==O||n[85]!==be||n[86]!==ve||n[87]!==Se||n[88]!==Re?(Le=u.jsx(r("FDSPressable.react"),babelHelpers.extends({},C,{"aria-hidden":U,"aria-selected":O,disabled:U,display:o("XPlatReactEnvironment").isWeb()?"inline":void 0,focusable:be,label:ve,overlayDisabled:O,ref:Se,role:"tab",xstyle:Re,children:he})),n[81]=he,n[82]=U,n[83]=C,n[84]=O,n[85]=be,n[86]=ve,n[87]=Se,n[88]=Re,n[89]=Le):Le=n[89];var Ee=Le;if(g){if(K!=null){var ke;return n[90]!==K||n[91]!==Ee||n[92]!==U?(ke=u.jsx(K,{disabled:U,children:Ee}),n[90]=K,n[91]=Ee,n[92]=U,n[93]=ke):ke=n[93],ke}return Ee}else{if(K&&!U){var Ie;return n[94]!==K||n[95]!==Ee?(Ie=u.jsx(K,{children:Ee}),n[94]=K,n[95]=Ee,n[96]=Ie):Ie=n[96],Ie}return Ee}}return he}l.default=y}),98);
__d("FDSTab.react",["FDSTabInternal.react","ServerJsRuntimeEnvironment","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react")),c=!o("ServerJsRuntimeEnvironment").isRunningServerJsRuntime();function d(t){var n=o("react-compiler-runtime").c(6),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l;return n[3]!==a||n[4]!==i?(l=u.jsx(r("FDSTabInternal.react"),babelHelpers.extends({},a,{ref:i,shouldLogOnIntersectionObserver:c})),n[3]=a,n[4]=i,n[5]=l):l=n[5],l}l.default=d}),98);
__d("FDSTabs.react",["fbt","CometComponentWithKeyCommands.react","CometFocusGroup.react","CometKeys","CometVisualCompletionAttributes","CurrentLocale","FDSDeferredPopoverTrigger.react","FDSTab.react","Locale","ReactDOM","SVGIcon","TriangleDownFilled20.svg.react","focusScopeQueries","mergeRefs","react","react-compiler-runtime","requireDeferred","stylex","useResizeObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["linkProps","onPress"],u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useEffect,f=m.useId,g=m.useMemo,h=m.useRef,y=m.useState,C=r("requireDeferred")("FDSTabMenu.react").__setRef("FDSTabs.react"),b={left:"",right:"",position:"x10l6tqk",top:"x13vifvy",$$css:!0},v={invisible:{opacity:"xg01cxk",$$css:!0},moreTab:{height:"x1itg65n",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},moreTabHidden:{display:"x1s85apg",$$css:!0},moreTabVisible:function(t){return[b,{insetInlineStart:t!=null?"x1lxsm33":t,$$css:!0},{"--x-insetInlineStart":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},moreTabVisual:{display:"x3nfvp2",$$css:!0},moreWrapper:{display:"x1rg5ohu",height:"x1itg65n",position:"x1n2onr6",verticalAlign:"x16dsc37",$$css:!0},moreWrapperAdaptive:{height:"x1x4j4od",maxHeight:"xyhpeqk",minHeight:"x2lwn1j",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},root:{height:"x1itg65n",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},tab:{display:"x3nfvp2",float:"xj87blo",height:"x1itg65n",verticalAlign:"x16dsc37",$$css:!0},tabsContainer:{bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",$$css:!0}},S={default:{width:"x1k51ox",$$css:!0},englishOrShorter:{width:"x192njpj",$$css:!0}},R=["en_US","en_GB","nl_NL","vi_VN","af_ZA","fy_NL","kk_KZ","cs_CZ","sw_KE","it_IT","pt_BR","pt_PT","bg_BG","hr_HR","nn_NO","es_ES","es_LA","fr_FR","ca_ES","fr_CA","si_LK","sr_RS","nb_NO","sv_SE","zh_HK","zh_TW","he_IL","ne_NP","eo_EO"],L=o("Locale").isRTL();function E(t){var n=o("react-compiler-runtime").c(67),a=t["aria-label"],i=t.heightXStyle,l=t.maxHeightXStyle,c=t.maxTabs,m=t.menuSize,p=t.moreTabRef,g=t.moreTabStyles,b=t.moreTabXStyle,E=t.moreWrapperXStyle,$=t.onMoreTabPress,P=t.tabs,N=t.tabsContainerStyle,M=t.truncateMenu,w=M===void 0?!1:M,A=c!=null?c:P.length,F=f(),O=f(),B=h(null),W;n[0]===Symbol.for("react.memo_cache_sentinel")?(W=[],n[0]=W):W=n[0];var q=h(W),U=h(null),V=h(I),H;n[1]===Symbol.for("react.memo_cache_sentinel")?(H=function(){V.current()},n[1]=H):H=n[1];var G=H,z=r("useResizeObserver")(G),j;n[2]!==A||n[3]!==P.length?(j=x(P.length,A,[]),n[2]=A,n[3]=P.length,n[4]=j):j=n[4];var K=y(j),Q=K[0],X=K[1],Y=y(!1),J=Y[0],Z=Y[1],ee,te;n[5]!==A||n[6]!==P.length?(ee=function(){X(function(e){return x(P.length,A,e)})},te=[P.length,A],n[5]=A,n[6]=P.length,n[7]=ee,n[8]=te):(ee=n[7],te=n[8]),_(ee,te);var ne;n[9]!==A||n[10]!==P?(ne=A<P.length?P.slice(0,A):P,n[9]=A,n[10]=P,n[11]=ne):ne=n[11];var re=ne,oe=A>=P.length,ae;if(n[12]!==Q||n[13]!==P){var ie;n[15]!==P?(ie=function(t){var e;return(e=P[t])==null?void 0:e.selected},n[15]=P,n[16]=ie):ie=n[16],ae=Q.some(ie),n[12]=Q,n[13]=P,n[14]=ae}else ae=n[14];var le=ae,se=y(null),ue=se[0],ce=se[1],de=y(!1),me=de[0],pe=de[1],_e=h(null),fe,ge;n[17]===Symbol.for("react.memo_cache_sentinel")?(ge=function(){var e=function(){var e=_e.current,t=e==null?void 0:e.parentElement;if(e!=null&&t!=null){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(n.height<5){ce(null);return}ce(L?r.right-n.right:n.left-r.left)}};e();var t=null,n=function(){t!=null&&window.clearTimeout(t),o("ReactDOM").flushSync(function(){pe(!0)}),t=window.setTimeout(function(){e(),pe(!1)},300)};return V.current=n,(function(){V.current=k,t!=null&&window.clearTimeout(t)})},fe=[],n[17]=fe,n[18]=ge):(fe=n[17],ge=n[18]),_(ge,fe);var he;n[19]!==oe||n[20]!==i||n[21]!==me||n[22]!==ue||n[23]!==E?(he=(u||(u=r("stylex"))).props(v.moreWrapper,S.default,R.includes(r("CurrentLocale").get())&&S.englishOrShorter,E,i,oe&&v.moreWrapperAdaptive,v.moreTabVisual,ue!=null&&!me&&v.invisible),n[19]=oe,n[20]=i,n[21]=me,n[22]=ue,n[23]=E,n[24]=he):he=n[24];var ye;n[25]===Symbol.for("react.memo_cache_sentinel")?(ye=o("SVGIcon").svgIcon(r("TriangleDownFilled20.svg.react")),n[25]=ye):ye=n[25];var Ce;n[26]===Symbol.for("react.memo_cache_sentinel")?(Ce=s._(/*BTDS*/"More"),n[26]=Ce):Ce=n[26];var be;n[27]!==le||n[28]!==J||n[29]!==F||n[30]!==O||n[31]!==g||n[32]!==b?(be=d.createElement(r("FDSTab.react"),babelHelpers.extends({},g,{"aria-controls":F,"aria-expanded":J,"aria-haspopup":"menu",icon:ye,iconSize:16,id:O,key:"more-tab-visual",label:Ce,role:"tab",selected:le,testid:void 0,xstyle:b})),n[27]=le,n[28]=J,n[29]=F,n[30]=O,n[31]=g,n[32]=b,n[33]=be):be=n[33];var ve;n[34]!==he||n[35]!==be?(ve=d.jsx("div",babelHelpers.extends({"aria-hidden":!0},he,{ref:_e,children:be})),n[34]=he,n[35]=be,n[36]=ve):ve=n[36];var Se=ve,Re;n[37]!==i||n[38]!==le||n[39]!==J||n[40]!==me||n[41]!==l||n[42]!==ue||n[43]!==F||n[44]!==O||n[45]!==p||n[46]!==g||n[47]!==b||n[48]!==E||n[49]!==$?(Re=function(t,n){var e=r("mergeRefs")(t,U,p),a=[{command:{key:r("CometKeys").DOWN},description:s._(/*BTDS*/"Open Menu"),handler:n}];return d.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:a,xstyle:[S.default,R.includes(r("CurrentLocale").get())&&S.englishOrShorter,E,l,ue==null?v.moreTabHidden:v.moreTabVisible(ue),me&&v.invisible],children:d.jsx(r("FDSTab.react"),babelHelpers.extends({},g,{"aria-controls":F,"aria-expanded":J,"aria-haspopup":"menu",icon:o("SVGIcon").svgIcon(r("TriangleDownFilled20.svg.react")),iconSize:16,id:O,label:s._(/*BTDS*/"More"),onPress:function(){n(),$==null||$()},pressableXStyle:[v.moreTab,i],ref:e,role:"tab",selected:le,testid:void 0,xstyle:b}))},"more-tab-functional")},n[37]=i,n[38]=le,n[39]=J,n[40]=me,n[41]=l,n[42]=ue,n[43]=F,n[44]=O,n[45]=p,n[46]=g,n[47]=b,n[48]=E,n[49]=$,n[50]=Re):Re=n[50];var Le=Re,Ee;return n[51]!==oe||n[52]!==a||n[53]!==i||n[54]!==Q||n[55]!==m||n[56]!==ue||n[57]!==F||n[58]!==Le||n[59]!==O||n[60]!==Se||n[61]!==z||n[62]!==P||n[63]!==N||n[64]!==w||n[65]!==re?(Ee=d.jsx(r("CometFocusGroup.react"),{hideArrowSignifiers:!0,orientation:"horizontal",preventScrollOnFocus:!0,role:"tablist",tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:function(n){return d.jsx("div",babelHelpers.extends({"aria-label":a,"aria-orientation":"horizontal",className:(u||(u=r("stylex")))(v.root,n,i),role:"tablist"},r("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:d.jsxs("div",{className:"x14ju556 x1n2onr6",children:[oe&&d.jsx("div",{className:"x6ikm8r x10wlt62 xlshs6z",children:re.map(function(t,n){var o=t.linkProps,a=t.onPress,i=babelHelpers.objectWithoutPropertiesLoose(t,e);return d.createElement(r("FDSTab.react"),babelHelpers.extends({},i,{key:n+"tab",ref:function(t){return q.current[n]=t},role:"tab",selected:i.selected,xstyle:[v.tab,i.xstyle]}))})}),d.jsxs("div",babelHelpers.extends({},u.props(v.tabsContainer,N),{"data-testid":void 0,ref:z,children:[Se,re.map(function(e,t){return d.createElement(r("FDSTab.react"),babelHelpers.extends({},e,{containerRef:B,key:t+"tab",onHidden:function(n){X(function(e){return n?T(e,t):D(e,t)})},pressableXStyle:v.tab,ref:function(n){return q.current[t]=n},role:"tab",selected:e.selected}))}),ue!=null&&d.jsx(r("FDSDeferredPopoverTrigger.react"),{onVisibilityChange:Z,popoverProps:{ariaLabelledby:O,id:F,menuItems:Q.map(function(e){return P[e]}).filter(Boolean),menuSize:m,truncate:w},popoverResource:C,children:Le})]}))]})}))}}),n[51]=oe,n[52]=a,n[53]=i,n[54]=Q,n[55]=m,n[56]=ue,n[57]=F,n[58]=Le,n[59]=O,n[60]=Se,n[61]=z,n[62]=P,n[63]=N,n[64]=w,n[65]=re,n[66]=Ee):Ee=n[66],Ee}function k(){}function I(){}function T(e,t){return e.includes(t)?e:[].concat(e,[t]).sort(function(e,t){return e-t})}function D(e,t){return e.includes(t)?e.filter(function(e){return e!==t}):e}function x(e,t,n){var r=Array(e).fill(0).map(function(e,t){return t}).filter(function(e){return e>=t}),o=Array.from(new Set([].concat(r,n)));return o.filter(function(t){return t<e})}l.default=E}),226);
__d("FDSEntityHeaderTabs.react",["FDSTabs.react","XPlatReactEnvironment","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={entityHeaderTab:{height:"xng8ra",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(8),n=e.maxTabs,a=e.menuSize,i=e.onMoreTabPress,l=e.tabs,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={overlayOffset:o("XPlatReactEnvironment").isWeb()?{bottom:-4,left:0,right:0,top:-4}:{bottom:4,left:0,right:0,top:4},overlayRadius:6,underlineColor:"var(--accent)"},t[0]=c):c=t[0];var m;t[1]!==l?(m=l.map(d),t[1]=l,t[2]=m):m=t[2];var p;return t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==m?(p=s.jsx(r("FDSTabs.react"),{maxTabs:n,menuSize:a,moreTabStyles:c,moreTabXStyle:u.entityHeaderTab,onMoreTabPress:i,tabs:m,truncateMenu:!0}),t[3]=n,t[4]=a,t[5]=i,t[6]=m,t[7]=p):p=t[7],p}function d(e){return babelHelpers.extends({},e,{overlayOffset:o("XPlatReactEnvironment").isWeb()?{bottom:-4,left:0,right:0,top:-4}:{bottom:4,left:0,right:0,top:4},overlayRadius:6,underlineColor:"var(--accent)",xstyle:u.entityHeaderTab})}l.default=c}),98);
__d("FDSEntityHeaderTabBar.react",["FDSEntityHeaderTabs.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["isActive","linkProps"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(13),a=t.maxTabs,i=t.menuSize,l=t.tabs,s=t.tabsRouteTarget,c=s===void 0?"self":s,m;n[0]!==l?(m=l.findIndex(d),n[0]=l,n[1]=m):m=n[1];var p=m,_;if(n[2]!==p||n[3]!==l||n[4]!==c){var f;n[6]!==p||n[7]!==c?(f=function(n,r){var t=n.isActive,o=n.linkProps,a=babelHelpers.objectWithoutPropertiesLoose(n,e);return o?babelHelpers.extends({},a,{linkProps:babelHelpers.extends({},o,{routeTarget:c}),selected:r===p}):babelHelpers.extends({},a,{selected:r===p})},n[6]=p,n[7]=c,n[8]=f):f=n[8],_=l.map(f),n[2]=p,n[3]=l,n[4]=c,n[5]=_}else _=n[5];var g=_,h;return n[9]!==g||n[10]!==a||n[11]!==i?(h=u.jsx(r("FDSEntityHeaderTabs.react"),{maxTabs:a,menuSize:i,tabs:g}),n[9]=g,n[10]=a,n[11]=i,n[12]=h):h=n[12],h}function d(e){return e.isActive()}l.default=c}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("d3-axis-1.0.8",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(t,n){n(typeof e=="object"&&typeof l!="undefined"?e:t.d3=t.d3||{})})(this,(function(e){var t=Array.prototype.slice,n=function(e){return e},r=1,o=2,a=3,i=4,l=1e-6;function s(e){return"translate("+(e+.5)+",0)"}function u(e){return"translate(0,"+(e+.5)+")"}function c(e){return function(t){return+e(t)}}function d(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function m(){return!this.__axis}function p(e,p){var _=[],f=null,g=null,h=6,y=6,C=3,b=e===r||e===i?-1:1,v=e===i||e===o?"x":"y",S=e===r||e===a?s:u;function R(t){var s=f==null?p.ticks?p.ticks.apply(p,_):p.domain():f,u=g==null?p.tickFormat?p.tickFormat.apply(p,_):n:g,R=Math.max(h,0)+C,L=p.range(),E=+L[0]+.5,k=+L[L.length-1]+.5,I=(p.bandwidth?d:c)(p.copy()),T=t.selection?t.selection():t,D=T.selectAll(".domain").data([null]),x=T.selectAll(".tick").data(s,p).order(),$=x.exit(),P=x.enter().append("g").attr("class","tick"),N=x.select("line"),M=x.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),x=x.merge(P),N=N.merge(P.append("line").attr("stroke","#000").attr(v+"2",b*h)),M=M.merge(P.append("text").attr("fill","#000").attr(v,b*R).attr("dy",e===r?"0em":e===a?"0.71em":"0.32em")),t!==T&&(D=D.transition(t),x=x.transition(t),N=N.transition(t),M=M.transition(t),$=$.transition(t).attr("opacity",l).attr("transform",function(e){return isFinite(e=I(e))?S(e):this.getAttribute("transform")}),P.attr("opacity",l).attr("transform",function(e){var t=this.parentNode.__axis;return S(t&&isFinite(t=t(e))?t:I(e))})),$.remove(),D.attr("d",e===i||e==o?"M"+b*y+","+E+"H0.5V"+k+"H"+b*y:"M"+E+","+b*y+"V0.5H"+k+"V"+b*y),x.attr("opacity",1).attr("transform",function(e){return S(I(e))}),N.attr(v+"2",b*h),M.attr(v,b*R).text(u),T.filter(m).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===o?"start":e===i?"end":"middle"),T.each(function(){this.__axis=I})}return R.scale=function(e){return arguments.length?(p=e,R):p},R.ticks=function(){return _=t.call(arguments),R},R.tickArguments=function(e){return arguments.length?(_=e==null?[]:t.call(e),R):_.slice()},R.tickValues=function(e){return arguments.length?(f=e==null?null:t.call(e),R):f&&f.slice()},R.tickFormat=function(e){return arguments.length?(g=e,R):g},R.tickSize=function(e){return arguments.length?(h=y=+e,R):h},R.tickSizeInner=function(e){return arguments.length?(h=+e,R):h},R.tickSizeOuter=function(e){return arguments.length?(y=+e,R):y},R.tickPadding=function(e){return arguments.length?(C=+e,R):C},R}function _(e){return p(r,e)}function f(e){return p(o,e)}function g(e){return p(a,e)}function h(e){return p(i,e)}e.axisTop=_,e.axisRight=f,e.axisBottom=g,e.axisLeft=h,Object.defineProperty(e,"__esModule",{value:!0})}))}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(t,n){typeof e=="object"&&typeof l!="undefined"?l.exports=n():(t=typeof globalThis!="undefined"?globalThis:t||self,t.MiniSearch=n())})(this,(function(){var e=function(){return e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},e.apply(this,arguments)};function t(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function n(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e}var o="ENTRIES",a="KEYS",i="VALUES",l="",s=(function(){function e(e,t){var n=e._tree,r=Object.keys(n);this.set=e,this._type=t,this._path=r.length>0?[{node:n,keys:r}]:[]}return e.prototype.next=function(){var e=this.dive();return this.backtrack(),e},e.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var e=u(this._path),t=e.node,n=e.keys;return u(n)===l?{done:!1,value:this.result()}:(this._path.push({node:t[u(n)],keys:Object.keys(t[u(n)])}),this.dive())},e.prototype.backtrack=function(){this._path.length!==0&&(u(this._path).keys.pop(),!(u(this._path).keys.length>0)&&(this._path.pop(),this.backtrack()))},e.prototype.key=function(){return this.set._prefix+this._path.map(function(e){var t=e.keys;return u(t)}).filter(function(e){return e!==l}).join("")},e.prototype.value=function(){return u(this._path).node[l]},e.prototype.result=function(){return this._type===i?this.value():this._type===a?this.key():[this.key(),this.value()]},e.prototype[Symbol.iterator]=function(){return this},e})(),u=function(e){return e[e.length-1]},c=0,d=1,m=2,p=3,_=function(e,t,r){for(var o=[{distance:0,i:0,key:"",node:e}],a={},i=[],s=function(){var e=o.pop(),s=e.node,u=e.distance,c=e.key,d=e.i,m=e.edit;Object.keys(s).forEach(function(e){if(e===l){var p=u+(t.length-d),_=n(a[c]||[null,1/0],2),g=_[1];p<=r&&p<g&&(a[c]=[s[e],p])}else f(t,e,r-u,d,m,i).forEach(function(t){var n=t.distance,r=t.i,a=t.edit;o.push({node:s[e],distance:u+n,key:c+e,i:r,edit:a})})})};o.length>0;)s();return a},f=function(e,t,n,r,o,a){a.push({distance:0,ia:r,ib:0,edit:o});for(var i=[];a.length>0;){var l=a.pop(),s=l.distance,u=l.ia,_=l.ib,f=l.edit;if(_===t.length){i.push({distance:s,i:u,edit:f});continue}if(e[u]===t[_])a.push({distance:s,ia:u+1,ib:_+1,edit:c});else{if(s>=n)continue;f!==m&&a.push({distance:s+1,ia:u,ib:_+1,edit:p}),u<e.length&&(f!==p&&a.push({distance:s+1,ia:u+1,ib:_,edit:m}),f!==p&&f!==m&&a.push({distance:s+1,ia:u+1,ib:_+1,edit:d}))}}return i},g=(function(){function e(e,t){e===void 0&&(e={}),t===void 0&&(t=""),this._tree=e,this._prefix=t}return e.prototype.atPrefix=function(t){var r;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var o=n(h(this._tree,t.slice(this._prefix.length)),2),a=o[0],i=o[1];if(a===void 0){var s=n(L(i),2),u=s[0],c=s[1],d=Object.keys(u).find(function(e){return e!==l&&e.startsWith(c)});if(d!==void 0)return new e((r={},r[d.slice(c.length)]=u[d],r),t)}return new e(a||{},t)},e.prototype.clear=function(){delete this._size,this._tree={}},e.prototype.delete=function(e){return delete this._size,v(this._tree,e)},e.prototype.entries=function(){return new s(this,o)},e.prototype.forEach=function(e){var r,o;try{for(var a=t(this),i=a.next();!i.done;i=a.next()){var l=n(i.value,2),s=l[0],u=l[1];e(s,u,this)}}catch(e){r={error:e}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}},e.prototype.fuzzyGet=function(e,t){return _(this._tree,e,t)},e.prototype.get=function(e){var t=y(this._tree,e);return t!==void 0?t[l]:void 0},e.prototype.has=function(e){var t=y(this._tree,e);return t!==void 0&&t.hasOwnProperty(l)},e.prototype.keys=function(){return new s(this,a)},e.prototype.set=function(e,t){if(typeof e!="string")throw new Error("key must be a string");delete this._size;var n=C(this._tree,e);return n[l]=t,this},Object.defineProperty(e.prototype,"size",{get:function(){var e=this;return this._size?this._size:(this._size=0,this.forEach(function(){e._size+=1}),this._size)},enumerable:!1,configurable:!0}),e.prototype.update=function(e,t){if(typeof e!="string")throw new Error("key must be a string");delete this._size;var n=C(this._tree,e);return n[l]=t(n[l]),this},e.prototype.values=function(){return new s(this,i)},e.prototype[Symbol.iterator]=function(){return this.entries()},e.from=function(r){var o,a,i=new e;try{for(var l=t(r),s=l.next();!s.done;s=l.next()){var u=n(s.value,2),c=u[0],d=u[1];i.set(c,d)}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return i},e.fromObject=function(t){return e.from(Object.entries(t))},e})(),h=function(e,t,n){if(n===void 0&&(n=[]),t.length===0||e==null)return[e,n];var r=Object.keys(e).find(function(e){return e!==l&&t.startsWith(e)});return r===void 0?(n.push([e,t]),h(void 0,"",n)):(n.push([e,r]),h(e[r],t.slice(r.length),n))},y=function(e,t){if(t.length===0||e==null)return e;var n=Object.keys(e).find(function(e){return e!==l&&t.startsWith(e)});if(n!==void 0)return y(e[n],t.slice(n.length))},C=function(e,t){var n;if(t.length===0||e==null)return e;var r=Object.keys(e).find(function(e){return e!==l&&t.startsWith(e)});if(r===void 0){var o=Object.keys(e).find(function(e){return e!==l&&e.startsWith(t[0])});if(o===void 0)e[t]={};else{var a=b(t,o);return e[a]=(n={},n[o.slice(a.length)]=e[o],n),delete e[o],C(e[a],t.slice(a.length))}return e[t]}return C(e[r],t.slice(r.length))},b=function(e,t,n,r,o){return n===void 0&&(n=0),r===void 0&&(r=Math.min(e.length,t.length)),o===void 0&&(o=""),n>=r||e[n]!==t[n]?o:b(e,t,n+1,r,o+e[n])},v=function(e,t){var r=n(h(e,t),2),o=r[0],a=r[1];if(o!==void 0){delete o[l];var i=Object.keys(o);i.length===0&&S(a),i.length===1&&R(a,i[0],o[i[0]])}},S=function(e){if(e.length!==0){var t=n(L(e),2),r=t[0],o=t[1];delete r[o],Object.keys(r).length===0&&S(e.slice(0,-1))}},R=function(e,t,r){if(e.length!==0){var o=n(L(e),2),a=o[0],i=o[1];a[i+t]=r,delete a[i]}},L=function(e){return e[e.length-1]},E,k="or",I="and",T=(function(){function t(t){if((t==null?void 0:t.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=e(e(e({},w),t),{searchOptions:e(e({},A),t.searchOptions||{})}),this._index=new g,this._documentCount=0,this._documentIds={},this._fieldIds={},this._fieldLength={},this._averageFieldLength={},this._nextId=0,this._storedFields={},this.addFields(this._options.fields)}return t.prototype.add=function(e){var t=this,n=this._options,r=n.extractField,o=n.tokenize,a=n.processTerm,i=n.fields,l=n.idField,s=r(e,l);if(s==null)throw new Error('MiniSearch: document does not have ID field "'+l+'"');var u=this.addDocumentId(s);this.saveStoredFields(u,e),i.forEach(function(n){var i=r(e,n);if(i!=null){var l=o(i.toString(),n);t.addFieldLength(u,t._fieldIds[n],t.documentCount-1,l.length),l.forEach(function(e){var r=a(e,n);r&&t.addTerm(t._fieldIds[n],u,r)})}})},t.prototype.addAll=function(e){var t=this;e.forEach(function(e){return t.add(e)})},t.prototype.addAllAsync=function(e,t){var n=this;t===void 0&&(t={});var r=t.chunkSize,o=r===void 0?10:r,a={chunk:[],promise:Promise.resolve()},i=e.reduce(function(e,t,r){var a=e.chunk,i=e.promise;return a.push(t),(r+1)%o===0?{chunk:[],promise:i.then(function(){return new Promise(function(e){return setTimeout(e,0)})}).then(function(){return n.addAll(a)})}:{chunk:a,promise:i}},a),l=i.chunk,s=i.promise;return s.then(function(){return n.addAll(l)})},t.prototype.remove=function(e){var t=this,r=this._options,o=r.tokenize,a=r.processTerm,i=r.extractField,l=r.fields,s=r.idField,u=i(e,s);if(u==null)throw new Error('MiniSearch: document does not have ID field "'+s+'"');var c=n(Object.entries(this._documentIds).find(function(e){var t=n(e,2);t[0];var r=t[1];return u===r})||[],1),d=c[0];if(d==null)throw new Error("MiniSearch: cannot remove document with ID "+u+": it is not in the index");l.forEach(function(n){var r=i(e,n);if(r!=null){var l=o(r.toString(),n);l.forEach(function(e){var r=a(e,n);r&&t.removeTerm(t._fieldIds[n],d,r)})}}),delete this._storedFields[d],delete this._documentIds[d],this._documentCount-=1},t.prototype.removeAll=function(e){var t=this;if(e)e.forEach(function(e){return t.remove(e)});else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new g,this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0}},t.prototype.search=function(t,r){var o=this;r===void 0&&(r={});var a=this._options,i=a.tokenize,l=a.processTerm,s=a.searchOptions,u=e(e({tokenize:i,processTerm:l},s),r),c=u.tokenize,d=u.processTerm,m=c(t).map(function(e){return d(e)}).filter(function(e){return!!e}),p=m.map(N(u)),_=p.map(function(e){return o.executeQuery(e,u)}),f=this.combineResults(_,u.combineWith);return Object.entries(f).reduce(function(e,t){var r=n(t,2),a=r[0],i=r[1],l=i.score,s=i.match,c=i.terms,d={id:o._documentIds[a],terms:M(c),score:l,match:s};return Object.assign(d,o._storedFields[a]),(u.filter==null||u.filter(d))&&e.push(d),e},[]).sort(function(e,t){var n=e.score,r=t.score;return n<r?1:-1})},t.prototype.autoSuggest=function(t,r){r===void 0&&(r={}),r=e(e({},F),r);var o=this.search(t,r).reduce(function(e,t){var n=t.score,r=t.terms,o=r.join(" ");return e[o]==null?e[o]={score:n,terms:r,count:1}:(e[o].score+=n,e[o].count+=1),e},{});return Object.entries(o).map(function(e){var t=n(e,2),r=t[0],o=t[1],a=o.score,i=o.terms,l=o.count;return{suggestion:r,terms:i,score:a/l}}).sort(function(e,t){var n=e.score,r=t.score;return n<r?1:-1})},Object.defineProperty(t.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),t.loadJSON=function(e,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return t.loadJS(JSON.parse(e),n)},t.getDefault=function(e){if(w.hasOwnProperty(e))return D(w,e);throw new Error('MiniSearch: unknown option "'+e+'"')},t.loadJS=function(e,n){var r=e.index,o=e.documentCount,a=e.nextId,i=e.documentIds,l=e.fieldIds,s=e.fieldLength,u=e.averageFieldLength,c=e.storedFields,d=new t(n);return d._index=new g(r._tree,r._prefix),d._documentCount=o,d._nextId=a,d._documentIds=i,d._fieldIds=l,d._fieldLength=s,d._averageFieldLength=u,d._fieldIds=l,d._storedFields=c||{},d},t.prototype.executeQuery=function(t,r){var o=this,a=e(e({},this._options.searchOptions),r),i=(a.fields||this._options.fields).reduce(function(t,n){var r;return e(e({},t),(r={},r[n]=D(t,n)||1,r))},a.boost||{}),l=a.boostDocument,s=a.weights,u=e(e({},A.weights),s),c=u.fuzzy,d=u.prefix,m=this.termResults(t.term,i,l,this._index.get(t.term));if(!t.fuzzy&&!t.prefix)return m;var p=[m];if(t.prefix&&this._index.atPrefix(t.term).forEach(function(e,n){var r=.3*(e.length-t.term.length)/e.length;p.push(o.termResults(e,i,l,n,d,r))}),t.fuzzy){var _=t.fuzzy===!0?.2:t.fuzzy,f=_<1?Math.round(t.term.length*_):_;Object.entries(this._index.fuzzyGet(t.term,f)).forEach(function(e){var t=n(e,2),r=t[0],a=n(t[1],2),s=a[0],u=a[1],d=u/r.length;p.push(o.termResults(r,i,l,s,c,d))})}return p.reduce(x[k],{})},t.prototype.combineResults=function(e,t){if(t===void 0&&(t=k),e.length===0)return{};var n=t.toLowerCase();return e.reduce(x[n],null)||{}},t.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}},t.prototype.termResults=function(e,t,r,o,a,i){var l=this;return i===void 0&&(i=0),o==null?{}:Object.entries(t).reduce(function(t,a){var s=n(a,2),u=s[0],c=s[1],d=l._fieldIds[u],m=o[d]||{ds:{}},p=m.df,_=m.ds;return Object.entries(_).forEach(function(o){var a=n(o,2),s=a[0],m=a[1],_=r?r(l._documentIds[s],e):1;if(_){var f=l._fieldLength[s][d]/l._averageFieldLength[d];t[s]=t[s]||{score:0,match:{},terms:[]},t[s].terms.push(e),t[s].match[e]=D(t[s].match,e)||[],t[s].score+=_*P(m,p,l._documentCount,f,c,i),t[s].match[e].push(u)}}),t},{})},t.prototype.addTerm=function(t,n,r){this._index.update(r,function(r){var o;r=r||{};var a=r[t]||{df:0,ds:{}};return a.ds[n]==null&&(a.df+=1),a.ds[n]=(a.ds[n]||0)+1,e(e({},r),(o={},o[t]=a,o))})},t.prototype.removeTerm=function(t,n,r){var o=this;if(!this._index.has(r)){this.warnDocumentChanged(n,t,r);return}this._index.update(r,function(a){var i,l=a[t];if(l==null||l.ds[n]==null)return o.warnDocumentChanged(n,t,r),a;if(l.ds[n]<=1){if(l.df<=1)return delete a[t],a;l.df-=1}return l.ds[n]<=1?(delete l.ds[n],a):(l.ds[n]-=1,e(e({},a),(i={},i[t]=l,i)))}),Object.keys(this._index.get(r)).length===0&&this._index.delete(r)},t.prototype.warnDocumentChanged=function(e,t,r){if(!(console==null||console.warn==null)){var o=Object.entries(this._fieldIds).find(function(e){var r=n(e,2);r[0];var o=r[1];return o===t})[0];""+this._documentIds[e]+r+o}},t.prototype.addDocumentId=function(e){var t=this._nextId.toString(36);return this._documentIds[t]=e,this._documentCount+=1,this._nextId+=1,t},t.prototype.addFields=function(e){var t=this;e.forEach(function(e,n){t._fieldIds[e]=n})},t.prototype.addFieldLength=function(e,t,n,r){this._averageFieldLength[t]=this._averageFieldLength[t]||0;var o=this._averageFieldLength[t]*n+r;this._fieldLength[e]=this._fieldLength[e]||{},this._fieldLength[e][t]=r,this._averageFieldLength[t]=o/(n+1)},t.prototype.saveStoredFields=function(e,t){var n=this,r=this._options,o=r.storeFields,a=r.extractField;o==null||o.length===0||(this._storedFields[e]=this._storedFields[e]||{},o.forEach(function(r){var o=a(t,r);o!==void 0&&(n._storedFields[e][r]=o)}))},t})(),D=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},x=(E={},E[k]=function(e,t){return Object.entries(t).reduce(function(e,t){var o,a=n(t,2),i=a[0],l=a[1],s=l.score,u=l.match,c=l.terms;return e[i]==null?e[i]={score:s,match:u,terms:c}:(e[i].score+=s,e[i].score*=1.5,(o=e[i].terms).push.apply(o,r(c)),Object.assign(e[i].match,u)),e},e||{})},E[I]=function(t,o){return t==null?o:Object.entries(o).reduce(function(o,a){var i=n(a,2),l=i[0],s=i[1],u=s.score,c=s.match,d=s.terms;return t[l]===void 0||(o[l]=o[l]||{},o[l].score=t[l].score+u,o[l].match=e(e({},t[l].match),c),o[l].terms=r(t[l].terms,d)),o},{})},E),$=function(e,t,n){return e*Math.log(n/t)},P=function(e,t,n,r,o,a){var i=o/(1+.333*o*a);return i*$(e,t,n)/r},N=function(e){return function(t,n,r){var o=typeof e.fuzzy=="function"?e.fuzzy(t,n,r):e.fuzzy||!1,a=typeof e.prefix=="function"?e.prefix(t,n,r):e.prefix===!0;return{term:t,fuzzy:o,prefix:a}}},M=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})},w={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e,t){return e.split(O)},processTerm:function(e,t){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},A={combineWith:k,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},F={prefix:function(e,t,n){return t===n.length-1}},O=new RegExp("[\\n\\r -#%-*,-/:;?@[-\\]_{}\\u00A0\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u1680\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2000-\\u200A\\u2010-\\u2029\\u202F-\\u2043\\u2045-\\u2051\\u2053-\\u205F\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u3000-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]+","u");return T}))}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("minisearch",["minisearch-3.0.2"],(function(t,n,r,o,a,i){a.exports=n("minisearch-3.0.2")()}),null);